/* Begin /ad.js */
window.FLITE = window.FLITE || {};
window.FLITE.URLS={"dataApi":"http://d.flite.com","share":"http://d.flite.com/data-api","runtimeAssetCdn":"http://asset.flite.com/html5/421.1033","metrics":"http://t.flite.com/t","gallery":"http://console.flite.com","flashAssetCdn":"http://asset.flite.com/flash/390.20160114-222022","imageProxy":"http://p.flite.com/p","proxy":"http://p.flite.com/p","runtimeCdn":"http://s.flite.com/syndication","staticHost":"static.flite.com","runtime":"http://r.flite.com/syndication"};
!function(){function a(b,c){var d=m(this,b,c);return d.extend=a,d}var b={};if(function(){function a(b,c,d){if(b===c)return 0!==b||1/b==1/c;if(null==b||null==c)return b===c;if(b._chain&&(b=b._wrapped),c._chain&&(c=c._wrapped),b.isEqual&&v.isFunction(b.isEqual))return b.isEqual(c);if(c.isEqual&&v.isFunction(c.isEqual))return c.isEqual(b);var e=j.call(b);if(e!=j.call(c))return!1;switch(e){case"[object String]":return b==String(c);case"[object Number]":return b!=+b?c!=+c:0==b?1/b==1/c:b==+c;case"[object Date]":case"[object Boolean]":return+b==+c;case"[object RegExp]":return b.source==c.source&&b.global==c.global&&b.multiline==c.multiline&&b.ignoreCase==c.ignoreCase}if("object"!=typeof b||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==b)return!0;d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=b.length,h=g==c.length)for(;g--&&(h=g in b==g in c&&a(b[g],c[g],d)););}else{if("constructor"in b!="constructor"in c||b.constructor!=c.constructor)return!1;for(var i in b)if(v.has(b,i)&&(g++,!(h=v.has(c,i)&&a(b[i],c[i],d))))break;if(h){for(i in c)if(v.has(c,i)&&!g--)break;h=!g}}return d.pop(),h}var b=this,c=b._,d={},e=Array.prototype,f=Object.prototype,g=Function.prototype,h=e.slice,i=e.unshift,j=f.toString,k=f.hasOwnProperty,l=e.forEach,m=e.map,n=e.reduce,o=(e.reduceRight,e.filter),p=(e.every,e.some),q=e.indexOf,r=e.lastIndexOf,s=Array.isArray,t=Object.keys,u=g.bind,v=function(a){return new A(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):b._=v,v.VERSION="1.3.3";var w=v.each=v.forEach=function(a,b,c){if(null!=a)if(l&&a.forEach===l)a.forEach(b,c);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(e in a&&b.call(c,a[e],e,a)===d)return}else for(var g in a)if(v.has(a,g)&&b.call(c,a[g],g,a)===d)return};v.map=v.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(w(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),a.length===+a.length&&(d.length=a.length),d)},v.reduce=v.foldl=v.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=v.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(w(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError("Reduce of empty array with no initial value");return c},v.find=v.detect=function(a,b,c){var d;return x(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},v.filter=v.select=function(a,b,c){var d=[];return null==a?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)};var x=v.some=v.any=function(a,b,c){b||(b=v.identity);var e=!1;return null==a?e:p&&a.some===p?a.some(b,c):(w(a,function(a,f,g){return e||(e=b.call(c,a,f,g))?d:void 0}),!!e)};v.include=v.contains=function(a,b){var c=!1;return null==a?c:q&&a.indexOf===q?-1!=a.indexOf(b):c=x(a,function(a){return a===b})},v.invoke=function(a,b){var c=h.call(arguments,2);return v.map(a,function(a){return(v.isFunction(b)?b||a:a[b]).apply(a,c)})},v.pluck=function(a,b){return v.map(a,function(a){return a[b]})},v.max=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.max.apply(Math,a);if(!b&&v.isEmpty(a))return-1/0;var d={computed:-1/0};return w(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},v.min=function(a,b,c){if(!b&&v.isArray(a)&&a[0]===+a[0])return Math.min.apply(Math,a);if(!b&&v.isEmpty(a))return 1/0;var d={computed:1/0};return w(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},v.sortBy=function(a,b,c){var d=v.isFunction(b)?b:function(a){return a[b]};return v.pluck(v.map(a,function(a,b,e){return{value:a,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;return void 0===c?1:void 0===d?-1:d>c?-1:c>d?1:0}),"value")},v.groupBy=function(a,b){var c={},d=v.isFunction(b)?b:function(a){return a[b]};return w(a,function(a,b){var e=d(a,b);(c[e]||(c[e]=[])).push(a)}),c},v.sortedIndex=function(a,b,c){c||(c=v.identity);for(var d=0,e=a.length;e>d;){var f=d+e>>1;c(a[f])<c(b)?d=f+1:e=f}return d},v.toArray=function(a){return a?v.isArray(a)?h.call(a):v.isArguments(a)?h.call(a):a.toArray&&v.isFunction(a.toArray)?a.toArray():v.values(a):[]},v.size=function(a){return v.isArray(a)?a.length:v.keys(a).length},v.first=v.head=v.take=function(a,b,c){return null==b||c?a[0]:h.call(a,0,b)},v.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},v.last=function(a,b,c){return null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},v.rest=v.tail=function(a,b,c){return h.call(a,null==b||c?1:b)},v.compact=function(a){return v.filter(a,function(a){return!!a})},v.flatten=function(a,b){return v.reduce(a,function(a,c){return v.isArray(c)?a.concat(b?c:v.flatten(c)):(a[a.length]=c,a)},[])},v.without=function(a){return v.difference(a,h.call(arguments,1))},v.uniq=v.unique=function(a,b,c){var d=c?v.map(a,c):a,e=[];return a.length<3&&(b=!0),v.reduce(d,function(c,d,f){return(b?v.last(c)===d&&c.length:v.include(c,d))||(c.push(d),e.push(a[f])),c},[]),e},v.union=function(){return v.uniq(v.flatten(arguments,!0))},v.difference=function(a){var b=v.flatten(h.call(arguments,1),!0);return v.filter(a,function(a){return!v.include(b,a)})},v.zip=function(){for(var a=h.call(arguments),b=v.max(v.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=v.pluck(a,""+d);return c},v.indexOf=function(a,b,c){if(null==a)return-1;var d,e;if(c)return d=v.sortedIndex(a,b),a[d]===b?d:-1;if(q&&a.indexOf===q)return a.indexOf(b);for(d=0,e=a.length;e>d;d++)if(d in a&&a[d]===b)return d;return-1},v.lastIndexOf=function(a,b){if(null==a)return-1;if(r&&a.lastIndexOf===r)return a.lastIndexOf(b);for(var c=a.length;c--;)if(c in a&&a[c]===b)return c;return-1};var y=function(){};v.bind=function(a,b){var c,d;if(a.bind===u&&u)return u.apply(a,h.call(arguments,1));if(!v.isFunction(a))throw new TypeError;return d=h.call(arguments,2),c=function(){if(!(this instanceof c))return a.apply(b,d.concat(h.call(arguments)));y.prototype=a.prototype;var e=new y,f=a.apply(e,d.concat(h.call(arguments)));return Object(f)===f?f:e}},v.bindAll=function(a){var b=h.call(arguments,1);return 0==b.length&&(b=v.functions(a)),w(b,function(b){a[b]=v.bind(a[b],a)}),a},v.memoize=function(a,b){var c={};return b||(b=v.identity),function(){var d=b.apply(this,arguments);return v.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},v.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},v.defer=function(a){return v.delay.apply(v,[a,1].concat(h.call(arguments,1)))},v.throttle=function(a,b){var c,d,e,f,g,h,i=v.debounce(function(){g=f=!1},b);return function(){c=this,d=arguments;var j=function(){e=null,g&&a.apply(c,d),i()};return e||(e=setTimeout(j,b)),f?g=!0:h=a.apply(c,d),i(),f=!0,h}},v.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)};c&&!d&&a.apply(e,f),clearTimeout(d),d=setTimeout(g,b)}},v.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}},v.wrap=function(a,b){return function(){var c=[a].concat(h.call(arguments,0));return b.apply(this,c)}},v.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},v.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},v.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)v.has(a,c)&&(b[b.length]=c);return b},v.values=function(a){return v.map(a,v.identity)},v.functions=v.methods=function(a){var b=[];for(var c in a)v.isFunction(a[c])&&b.push(c);return b.sort()},v.extend=function(a){return a=a||{},w(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},v.pick=function(a){var b={};return w(v.flatten(h.call(arguments,1)),function(c){c in a&&(b[c]=a[c])}),b},v.defaults=function(a){return w(h.call(arguments,1),function(b){for(var c in b)null==a[c]&&(a[c]=b[c])}),a},v.clone=function(a){return v.isObject(a)?v.isArray(a)?a.slice():v.extend({},a):a},v.tap=function(a,b){return b(a),a},v.isEqual=function(b,c){return a(b,c,[])},v.isEmpty=function(a){if(null==a)return!0;if(v.isArray(a)||v.isString(a))return 0===a.length;for(var b in a)if(v.has(a,b))return!1;return!0},v.isElement=function(a){return!(!a||1!=a.nodeType)},v.isArray=s||function(a){return"[object Array]"==j.call(a)},v.isObject=function(a){return a===Object(a)},v.isArguments=function(a){return"[object Arguments]"==j.call(a)},v.isArguments(arguments)||(v.isArguments=function(a){return!(!a||!v.has(a,"callee"))}),v.isFunction=function(a){return"[object Function]"==j.call(a)},v.isString=function(a){return"[object String]"==j.call(a)},v.isNumber=function(a){return"[object Number]"==j.call(a)},v.isFinite=function(a){return v.isNumber(a)&&isFinite(a)},v.isNaN=function(a){return a!==a},v.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},v.isDate=function(a){return"[object Date]"==j.call(a)},v.isRegExp=function(a){return"[object RegExp]"==j.call(a)},v.isNull=function(a){return null===a},v.isUndefined=function(a){return void 0===a},v.has=function(a,b){return k.call(a,b)},v.noConflict=function(){return b._=c,this},v.identity=function(a){return a},v.times=function(a,b,c){for(var d=0;a>d;d++)b.call(c,d)},v.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},v.result=function(a,b){if(null==a)return null;var c=a[b];return v.isFunction(c)?c.call(a):c},v.mixin=function(a){w(v.functions(a),function(b){C(b,v[b]=a[b])})};var z=0;v.uniqueId=function(a){var b=z++;return a?a+b:b},v.chain=function(a){return v(a).chain()};var A=function(a){this._wrapped=a};v.prototype=A.prototype;var B=function(a,b){return b?v(a).chain():a},C=function(a,b){A.prototype[a]=function(){var a=h.call(arguments);return i.call(a,this._wrapped),B(b.apply(v,a),this._chain)}};v.mixin(v),w(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=e[a];A.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);var d=c.length;return"shift"!=a&&"splice"!=a||0!==d||delete c[0],B(c,this._chain)}}),w(["concat","join","slice"],function(a){var b=e[a];A.prototype[a]=function(){return B(b.apply(this._wrapped,arguments),this._chain)}}),A.prototype.chain=function(){return this._chain=!0,this},A.prototype.value=function(){return this._wrapped}}.call(this),"undefined"==typeof b&&(b={}),!b._){b._=_.noConflict(),b.log=function(){};var c=function(){function a(c,d){var e=[];if(d&&"object"==typeof c&&(d===b||!c.location))for(var f in c)try{e.push(f,a(c[f],d-1))}catch(g){}return e.length?e:""+c}var b=3;return""+a([(new Date).getTime(),navigator.userAgent,navigator.plugins,navigator.language,Math.random()],b)},d=function(){var a=4022871197,b=function(b){b=b.toString();for(var c=0;c<b.length;c++){a+=b.charCodeAt(c);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=4294967296*d}return 2.3283064365386963e-10*(a>>>0)};return b.version="Mash 0.9",b},e=function(){return function(a){var b=0,c=0,e=0,f=1;0===a.length&&(a=[+new Date]);var g=d();b=g(" "),c=g(" "),e=g(" ");for(var h=0;h<a.length;h++)b-=g(a[h]),0>b&&(b+=1),c-=g(a[h]),0>c&&(c+=1),e-=g(a[h]),0>e&&(e+=1);g=null;var i=function(){var a=2091639*b+2.3283064365386963e-10*f;return b=c,c=e,f=0|a,e=a-f};return i.uint32=function(){return 4294967296*i()},i.fract53=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.version="Alea 0.9",i.args=a,i}(Array.prototype.slice.call(arguments))},f=e(c());b._.mixin({clear:function(a){if(b._(a).isElement())for(;a.hasChildNodes();)a.removeChild(a.firstChild)},isBlank:function(a){return null===a||"undefined"==typeof a||""===a},now:function(){return+new Date},addParamToUrl:function(a,c,d){if(!b._.isBlank(a)&&!b._.isBlank(c)){var e=[encodeURIComponent(a),encodeURIComponent(c)].join("=");d=d?[d,d.indexOf("?")>-1?"&":"?",e].join(""):e}return d},toQueryString:function(a,c){var d=[],e=encodeURIComponent;return b._.each(a,function(a,c){b._.isArray(a)&&a.length>0?b._.each(a,function(a){d.push([e(c),e(a)].join("="))}):d.push([e(c),e(a)].join("="))}),c?c&&d.length>0?[c,d.join("&")].join(c.indexOf("?")>-1?"&":"?"):c:d.join("&")},fromQueryString:function(a){var c={};a=a||"";var d=a.split("?");if(d.length>1){var e=d[1].split("&");b._.each(e,function(a){var b=a.split(/[=#]/);b[0]&&(c[decodeURIComponent(b[0])]=b.length>1?decodeURIComponent(b[1].replace(/\+/g,"%20")):"")})}return c},make:function(a,c){c=c||{};var d=c.doc||document,e=d.createElement(a);return c.attributes&&b._.attr(e,c.attributes),c.content&&b._.html(e,c.content),e},toElementString:function(a){return a.outerHTML||function(a){var b,c=document.createElement("div");return c.appendChild(a.cloneNode(!0)),b=c.innerHTML,c=null,b}(a)},attr:function(a,c){return b._(a).isElement()?(b._(c).each(function(c,d){if("className"===d)a.className=c;else if("style"===d)if(b._.isString(c)){var e=c.split(";");b._.each(e,function(b){b=b.replace(/\s/g,"");var c=b.split(":");if(c.length>=2){var d=c[0].replace(/-([a-z])/g,function(a,b){return b.toUpperCase()});a.style[d]=c.slice(1).join(":")}})}else b._.each(c,function(b,c){a.style[c]=b});else a.setAttribute(d,c)}),a):a},html:function(a,c){return b._(a).isElement()?void(a.innerHTML=c):a},jsonp:function(a,c,d,e){b._.callbacks=b._.callbacks||{};var f=d.safeUniqueId("cb",!0);c.callback=["FLITE._.callbacks",f].join("."),(d.cachebust===!0||d.baseParent&&d.baseParent.cachebust===!0)&&(c.cache=b._.now()),b._.callbacks[f]=e,a=b._.toQueryString(c,a);var g=b._.make("script",{attributes:{src:a,async:!0}}),h=document.getElementsByTagName("head")[0];h&&h.appendChild(g)},getJSONPInsertionNode:function(a,c){return b._.detect(document.getElementsByTagName("script"),function(b){return"y"!==b.getAttribute("processed")&&b.getAttribute("data-instanceId")===a&&b.getAttribute("data-stage")==c})},jsonpWidgetInfo:function(a,c,d,e,f){if(c.callback="FLITE._.fliteCallback",(d.cachebust===!0||d.baseParent&&d.baseParent.cachebust===!0)&&(c.cache=b._.now()),a=b._.toQueryString(c,a),d.infoLoaded!==!0){d.widgetOnLoad=f,b._.fliteCallback=!c.fetch&&b._.fliteCallback||function(a){b._.isArray(a.widgets)&&b._.each(a.widgets,function(c){var f=b._.getJSONPInsertionNode(c.controllerAppId?c.controllerAppId:c.appId,c.stage)||b._.getJSONPInsertionNode(c.appId,c.stage);if(f){f.setAttribute("processed","y");var g=f.getAttribute("data-uniqueId"),h=b.getInstanceByUniqueId(g)||{};h.infoLoaded===!1&&h.widgetOnLoad(a)}else if(!c.regId){var i=b._.getJSONPInsertionNode(d.guid,e||"0");i&&i.setAttribute("processed","y"),d.trigger("errorConfig")}})};var g=b._.make("script",{attributes:{src:a,async:!0,"data-stage":b._.isNumber(e)||b._.isString(e)?e:0,"data-instanceId":d.guid,"data-uniqueId":d.uniqueId}}),h=document.getElementsByTagName("head")[0];h&&h.appendChild(g)}},createInsertionTarget:function(a,c){c=c||document;var d=(window.FLITE.instances&&window.FLITE.instances[a]||[]).length,e=["flite-",a,"-",d].join("");return b._.make("div",{attributes:{id:e,"class":"flite-div"},doc:c})},getScriptInsertionTarget:function(a){return b._.detect(document.getElementsByTagName("script"),function(c){var d=c.getAttribute("src"),e=function(a){return a.replace(/^http(s)*:/gi,"")};return(d&&(-1!==d.indexOf(e(b.URLS.runtime)+"/ad")||-1!==d.indexOf(e(b.URLS.runtimeCdn)+"/ad"))&&(-1!==d.indexOf(a)||-1!==(c.getAttribute("data-instance")||"").indexOf(a))||b._.is.truly(c.getAttribute("data-injected")))&&"y"!==c.getAttribute("processed")})},variableReplacement:function(a,c){return void 0!==typeof a?a.replace(/\$\{([^\}]+)\}/g,function(){var a=arguments[1];a&&(a=b._.trim(a));var d=c[a]&&(void 0!==c[a].value?c[a].value:c[a]),e=a.match(/var_url([0-9]+)/)||[];return e[1]&&(d+="%flt_url."+e[1]+"!"),"undefined"==typeof d&&(d=arguments[0]),d}):a},replace:function(a,c,d){var e=b._(a).indexOf(c);e>=0&&(a[e]=d)},addEvent:function(a,b,c,d){a&&b&&c&&(a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent(["on",b].join(""),c))},removeEvent:function(a,b,c,d){a&&b&&c&&(a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent(["on",b].join(""),c))},watch:function(a,b,c){var d=a();return setInterval(function(){var c=a();c!=d&&(b(d,c),d=c)},c||100)},apply:function(a){return b._.each(Array.prototype.slice.call(arguments,1),function(b){for(var c in b)a[c]=b[c]}),a},generateGuid:function(a){var b,c=a?36:32,d="0123456789abcdef".split(""),e=[];a&&(e[8]=e[13]=e[18]=e[23]="-",e[14]="4");for(var g=0;c>g;g++)e[g]||(b=0|16*f.fract53(),e[g]=d[19===g?3&b|8:b]);return e.join("")},getWindowLocation:function(){var a;try{b._.is.fif()||(a=document.referrer||window.location.href),a=a&&0===a.indexOf("http")?a:this.getExpandableWindow().location.href}catch(c){}return a=a||window.location.href,0===a.indexOf("http")?a:""},getWindowChain:function(a){var c=[];a=a||{};for(var d=a.window||window,e=d,f=!1;e!=d.top&&(c.push(e),e!=e.parent);){try{if(e.FLITE&&e.FLITE.isExpandableWindow){f=!0;break}}catch(g){}e=e.parent}return b._.is.fif()&&!f&&c.push(d.top),c},createNamespaceInWindow:function(a,c){if(a.FLITE&&window.FLITE!==a.FLITE){if(!a.FLITES&&(a.FLITES={},!b._.isEmpty(a.FLITE.instances))){var d=b._.first(b._.keys(a.FLITE.instances));a.FLITES[a.FLITE.instances[d][0].sessionId]=a.FLITE}a.FLITES[c.sessionId]=window.FLITE}else a.FLITE=window.FLITE},getExpandableWindow:function(a){if(a=a||{},a.clear&&(this.expandWindow=null),!this.expandWindow){var c=a.window||window;if(b._.is.fif()){var d=b._.getWindowChain(a);this.expandWindow=b._.detect(d,function(a){try{return a.FLITE&&a.FLITE.isExpandableWindow}catch(b){return!1}}),this.expandWindow||(this.expandWindow=b._.detect(d.reverse(),function(a){try{return a.document}catch(b){return!1}}))}else this.expandWindow=c}return this.expandWindow},inSafeFrame:function(a){try{return frameElement.name=="f_ad_"+a}catch(b){}return!1},setCookie:function(a,b,c,d,e){if(b){a=a||"FLITEAD";var f="";if((void 0===d||null===d||""===d)&&(d=10950),0!==Number(d)){var g=new Date;g.setTime(g.getTime()+864e5*d),f="; expires="+g.toGMTString()}e=e?"domain=."+e+";":"",document.cookie=a+"."+b+"="+c+f+";"+e+"path=/";var h=document.cookie;return h&&h.indexOf(a+"."+b+"="+c)>-1}},getCookie:function(a,b){if(b)for(var c=document.cookie.split("; "),d=(a||"FLITEAD")+"."+b,e=0;e<c.length;e++){var f=c[e].split("=");if(f&&f.length>1&&f[0]==d)return f[1]}},deleteCookie:function(a,b){this.setCookie(a,b,null,-1)},cookiesEnabled:function(){return"cookieEnabled"in window.navigator&&window.navigator.cookieEnabled},stringify:function(a){function c(a,d,e){for(d in(e=a==""+{}&&[])&&a)e.push(c(d)+":"+c(a[d]));return""+a===a?'"'+a+'"':a&&b._.isArray(a)?"["+b._.map(a,c)+"]":e?"{"+e+"}":a}return c(a)},prefix:function(a,c){var d={};return a=a||{},b._.chain(a).keys().each(function(b){d[c+b]=a[b]}),d},format:function(a,b){return a.replace(/\{([^}]+)\}/g,function(a,c){return b.hasOwnProperty(c)?b[c]:a})},trim:function(a){return null===a?null:a.replace(/^\s+|\s+$/g,"")},deepClone:function(a){if(!b._.isObject(a))return a;var c=new a.constructor;return b._.each(a,function(a,d){c[d]=b._.deepClone(a)}),c}});var g=navigator.userAgent.toLowerCase(),h=(g.match(/.+(?:rv|it|ra|ie|me|on)[\/: ]([\d.]+)/)||[])[1];b._.is={fif:function(){return!(window.FLITE&&window.FLITE.inFIF===!1)},iFrame:function(){try{return parent&&document!=parent.document}catch(a){return!0}},truly:function(a){return a===!0||"true"===a||1===a},secureLocation:function(){return window.location&&"https:"===window.location.protocol},xml:function(){for(var a=document.getElementsByTagName("meta"),b=a.length,c=0;b>c;c++)if(/content-type/i.test(a[c].getAttribute("http-equiv"))&&/xml/i.test(a[c].getAttribute("content")))return!0;return!1}(),browser:{version:parseInt(h,10),full_version:h,edge:/edge/.test(g),chrome:/chrome/.test(g),safari:/webkit/.test(g)&&!/chrome/.test(g),webkit:/webkit/.test(g)||document&&document.body&&!!b._.find(b._.keys(document.body.style),function(a){return/webkit/i.test(a)}),opera:/opera/.test(g),msie:(/msie/.test(g)||/rv[: ]11\.[0-9]+/.test(g)&&/like gecko/.test(g))&&!/opera/.test(g),gecko:/gecko/.test(g)&&!/applewebkit/.test(g),mozilla:/mozilla/.test(g)&&!/(compatible|webkit)/.test(g),firefox:/firefox/.test(g),matches:function(a){return g.indexOf(a)>-1}},platform:{ios:/ipad/.test(g)||/iphone/.test(g)||/ipod/.test(g),android:/android/.test(g),mac:/mac/.test(g),windowsLM:/windows live messenger/.test(g)},inConsole:function(){return void 0!==window.$}}}"undefined"==typeof b&&(b={});var i=null,j=function(a,c){i=i||b.URLS.metrics+"/image.gif",c=c||{};var d=c.eventDelegate||a.metrics.eventDelegate;if(d){var e=b.Metrics.getMetricsRequestData(a,c);return d(i,e),e.sq}return null},k=function(a,c,d){return function(e,f){var g=b._.extend({subtype:a,detail:d},f);return g.type=c,j(e,g)}};b.MetricsConstants={Clickthroughs:{URL:"u",URL_ENC:"ue",URL_PREFIX:"up"},OptionKeyMap:{mode:"m",type:"it",subtype:"ist",context:"csq",trigger:"tsq",component:"cmp",part:"prt",detail:"dt"},TrackingKeys:{i:"appId",ri:"regId",aik:"appPK",pt:"widgetPrototypeOrdinal",iv:"appVersion",rpv:"regPubVersion",ark:"regPK",apk:"providerPK",aw:"appWidth",ah:"appHeight",dc:"deviceCategory",prk:"adProductId"},SystemDataTrackingKeys:{crk:"controllerRegPk",cik:"controllerAppPk",crv:"controllerRegVersion",civ:"controllerAppVersion",csv:"controllerSiteVersion",ck:"campaignPk",inf:"trackedInfo"},Keys:{CAUSE:"c",CONTEXT:"ctx",CONTROLLER_APP_ID:"sd.ci",CONTROLLER_APP_KEY:"sd.cik",CONTROLLER_REG_KEY:"sd.crk",CONTROLLER_REG_VERSION:"sd.crv",CONTROLLER_APP_VERSION:"sd.civ",CONTROLLER_SITE_VERSION:"sd.csv",DETAIL:"dt",ENDTOKEN:"et",ENVIRONEMNT:"env",IMPRESSIONSUBTYPE:"ist",IMPRESSIONTYPE:"it",INSTANCE:"i",INSTANCE_PK:"aik",INSTANCE_VERSION:"iv",LABEL:"lbl",LOCATION_URL:"l",PAYLOAD:"pl",PLACEMENT_CAMPAIGN:"pd.cmp",REDIRECT_URL:"r",REG_PUBLISHED_VERSION:"rpv",SCOPE:"scp",SEED_DATA:"cs",SEQUENCE:"sq",SESSIONID:"sid",SUBINSTANCE_KEY:"sik",TARGET_URL:"u",TIMESTAMP_PARAM:"ts",TOKEN:"t",TRIGGER:"tsq",VIEWID:"vid",WRAPPERTYPE:"w",VIDEO_ID:"vi",VIDEO_TYPE:"vt",CONTENT_NAME:"cn",CONTENT_POSITION:"cpos",CONTENT_SEQUENCE:"cnsq",CONTENT_HERO:"ch"},Params:{LINK_SUFFIX:"wbx_ls",LINK_PREFIX:"wbx_lp",CLICK_TRACKER:"wbx_ct",CLICK_TRACKER_ENC:"wbx.clickTrackingEncoding",AFFILIATE_TRACKER:"wbx_at",CALLBACK:"wbx_callback"},EventTypes:{IMPRESSION:12,INTERACTION:13,CONTENT:14,NOTATION:15,VIDEO:16},EventSubtypes:{UNKNOWN:0,IMPRESSION_FULL:1,IMPRESSION_LIMITED:2,IMPRESSION_BACKUP:3,INTERACTION_HOVER:20,INTERACTION_SELECT:21,INTERACTION_DESELECT:22,INTERACTION_NAVIGATE:23,INTERACTION_SCROLL:24,INTERACTION_SUBMIT:25,INTERACTION_CONTROL:26,INTERACTION_COMPONENT:27,INTERACTION_LEGACY:28,CONTENT_VIEW:40,CONTENT_PLAY:41,CONTENT_NOTATION:42,CONTENT_CLICKTHRU:43,CONTENT_CLICKTHROUGH:43,CONTENT_SHARE:44,CONTENT_FORM:45,CONTENT_POLL:46,CONTENT_CALL_PHONE:47,NOTATION_UPDATE:60,NOTATION_ACTION:62,NOTATION_CONTENTDATA:64,NOTATION_IMPRESSIONDATA:65,VIDEO_MUTE:80,VIDEO_UNMUTE:81,VIDEO_PAUSE:82,VIDEO_RESUME:83,VIDEO_REWIND:84,VIDEO_SKIP:85,VIDEO_START:86,VIDEO_FIRST_QUARTILE:87,VIDEO_MIDPOINT:88,VIDEO_THIRD_QUARTILE:89,VIDEO_COMPLETE:90,VIDEO_PLAYER_COLLAPSE:91,VIDEO_PLAYER_EXPAND:92,VIDEO_PROGRESS:93,VIDEO_ERROR:94,VIDEO_FIRST_THIRTYSECOND:95,VIDEO_FIRST_SIXTEENTH:96,VIDEO_FIRST_EIGHTH:97},EventModes:{UNKNOWN:0,CLICK:1,DRAG:2,ROLLOVER:3,ROLLOUT:4,TOUCH:5,MOTION:6},ShareKeys:["url","subject","body","action","to","from","fname","subservice","image"],Actions:{Cause:{AUTO:0,USER:1,CLICK:2,HOVER:3,TOUCH:4,KEYBOARD:5,SYSTEM:6}},VIDEO_TYPES:{HOSTED_VIDEO:0,YOUTUBE:1,EXTERNAL_VIDEO:2,CLIPSTREAM:3,MOBILE_INLINE:4},ENVIRONMENT_TYPES:{NORMAL:0,MRAID:1,VPAID:2}},b.MetricsConstants.WeightedParams=[b.MetricsConstants.Keys.INSTANCE_PK,b.MetricsConstants.Keys.INSTANCE,b.MetricsConstants.Keys.SUBINSTANCE_KEY,b.MetricsConstants.Keys.SESSIONID,b.MetricsConstants.Keys.SCOPE,b.MetricsConstants.Keys.IMPRESSIONTYPE,b.MetricsConstants.Keys.IMPRESSIONSUBTYPE,b.MetricsConstants.Keys.SEQUENCE,b.MetricsConstants.Keys.CONTEXT,b.MetricsConstants.Keys.TRIGGER,b.MetricsConstants.Keys.DETAIL,b.MetricsConstants.Keys.INSTANCE_VERSION,b.MetricsConstants.Keys.REG_PUBLISHED_VERSION,b.MetricsConstants.Keys.CONTROLLER_APP_KEY,b.MetricsConstants.Keys.CONTROLLER_REG_KEY,b.MetricsConstants.Keys.CONTROLLER_REG_VERSION,b.MetricsConstants.Keys.CONTROLLER_APP_VERSION,b.MetricsConstants.Keys.CONTROLLER_SITE_VERSION,b.MetricsConstants.Keys.PLACEMENT_CAMPAIGN],b.Metrics={logImpression:k(b.MetricsConstants.EventSubtypes.IMPRESSION_FULL,b.MetricsConstants.EventTypes.IMPRESSION,"Impression"),logInteraction:k(b.MetricsConstants.EventSubtypes.UNKNOWN,b.MetricsConstants.EventTypes.INTERACTION),logContent:k(b.MetricsConstants.EventSubtypes.UNKNOWN,b.MetricsConstants.EventTypes.CONTENT),logNotation:k(b.MetricsConstants.EventSubtypes.NOTATION_UPDATE,b.MetricsConstants.EventTypes.NOTATION),logVideo:k(b.MetricsConstants.EventSubtypes.VIDEO_START,b.MetricsConstants.EventTypes.VIDEO),getShareUrl:function(a,c){if(c=c||{},!a||!c.service)return null;if(a.baseParent){var d={};if(a.stage){var e=a.getConfigValue("stage");d[b.MetricsConstants.Keys.SCOPE]=e.id}else d[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=a.getConfig().appPK;return b.Metrics.getShareUrl(a.baseParent,b._.extend(c,d))}var f=b.URLS.share+"/share/get/"+a.getConfig().appId+"/"+c.service+".json",g=b._.extend({type:b.MetricsConstants.EventTypes.CONTENT,subtype:b.MetricsConstants.EventSubtypes.CONTENT_SHARE},c),h=b.Metrics.getMetricsRequestData(a,g);b._.extend(h,{ev:2,token:b.token,label:"widget",c:b.MetricsConstants.Actions.Cause.USER});var i=b._.pick(c,b.MetricsConstants.ShareKeys);return b._.extend(h,i),b._.toQueryString(h,b.Metrics.replaceAllTokens(a,f))},getClickthroughUrl:function(a,c){if(!a||!c||!c.url)return null;if(a.baseParent){var d={};if(a.stage){var e=a.getConfigValue("stage");d[b.MetricsConstants.Keys.SCOPE]=e.id}else d[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=a.getConfig().appPK;return b.Metrics.getClickthroughUrl(a.baseParent,b._.extend(c,d))}var f={type:b.MetricsConstants.EventTypes.CONTENT,subtype:b.MetricsConstants.EventSubtypes.CONTENT_CLICKTHROUGH};b._.extend(c,f);var g=c.url;try{g=decodeURIComponent(g)}catch(h){}g.match("^https?:")||(c.url="http://"+c.url);var j=b.Metrics.getMetricsRequestData(a,c),k=a.getConfigValue(b.MetricsConstants.Params.LINK_SUFFIX)||"";j[b.MetricsConstants.Clickthroughs.URL]=b.Metrics.replaceAllTokens(a,c.url)+k,j[b.MetricsConstants.Keys.DETAIL]=b.Metrics.replaceAllTokens(a,c.detail)+k;var l=a.getConfigValue(b.MetricsConstants.Params.CLICK_TRACKER_ENC);l&&l.length>0&&(j[b.MetricsConstants.Clickthroughs.URL_ENC]=l);var m=a.getParametersByPrefix(b.MetricsConstants.Params.LINK_PREFIX),n=-1;if(b._.each(m,function(c,d){c.value&&c.value.length>0&&(j[d?"up"+d:"up"]=b.Metrics.replaceAllTokens(a,c.value),n=d)}),a.getConfig().ct){var o=n>-1?n+1:"";j[[b.MetricsConstants.Clickthroughs.URL_PREFIX,o].join("")]=a.getConfig().ct}var p=b._.toQueryString(j,b.Metrics.replaceAllTokens(a,i));return p=b._.addParamToUrl(b.MetricsConstants.Keys.ENDTOKEN,"G",p)},replaceAllTokens:function(a,c){return c=b.Metrics.replaceCachebusters(c),c=b.Metrics.replaceMacros(a,c)},replaceCachebusters:function(a){return a=a||"",a=a.replace(/pc=\[tpas_id\][&;]?/gi,""),a.replace(/(__wbx_|\[|%%|[\$\#]?\{)(timestamp|cachebuster|requestid|rand(nu|o)m)(__|\]|%%|\})|%n/gi,b._.now())},replaceMacros:function(a,c){try{var d=/%flt_(.+?)!/gi,e=c.match(d);b._.each(e,function(d){var e,f=d.substring(5,d.length-1);b._.each(["pd","ed","cd","vd"],function(b){var c=a.getConfig()[b];if(0===f.indexOf(b+".")&&c){var d=f.substr(3);d&&c[d]&&(e=c[d])}}),e||(e=b.MetricsConstants.TrackingKeys[f]?a.getConfig()[b.MetricsConstants.TrackingKeys[f]]:b.MetricsConstants.SystemDataTrackingKeys[f]?a.getConfig()[b.MetricsConstants.SystemDataTrackingKeys[f]]:""),c=c.replace(d,b._.isNull(e)||b._.isUndefined(e)?"":e)})}catch(f){}return c},logAffiliateImpressions:function(a){if(a){var c=a.getParametersByPrefix(b.MetricsConstants.Params.AFFILIATE_TRACKER);a.getConfig().at&&c.push({name:"at",value:a.getConfig().at});var d=0;return b._.each(c,function(c){var e=b._.trim(c.value);if(e&&"null"!==e)try{b.Metrics.loadImageTrackingUrl(b.Metrics.replaceAllTokens(a,e),{},!0),d++}catch(f){b.Metrics.logNotation(a,{detail:"Malformed Tracking Pixel",context:a.impressionSequence,eventData:{pixel:e}})}}),d}},getMetricsRequestData:function(a,c){if(a){var d={};c=c||{};var e=a.getConfig();if(a.baseParent){var f={};if(a.stage){var g=a.getConfigValue("stage");f[b.MetricsConstants.Keys.SCOPE]=g.id}else f[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=e.appPK;return b.Metrics.getMetricsRequestData(a.baseParent,b._.extend(c,f))}b._.chain(b.MetricsConstants.TrackingKeys).keys().each(function(a){d[a]=e[b.MetricsConstants.TrackingKeys[a]]}),c.systemData=c.systemData||{},b._.chain(b.MetricsConstants.SystemDataTrackingKeys).keys().each(function(a){e[b.MetricsConstants.SystemDataTrackingKeys[a]]&&(c.systemData[a]=e[b.MetricsConstants.SystemDataTrackingKeys[a]])}),d[b.MetricsConstants.Keys.SESSIONID]=a.sessionId,d[b.MetricsConstants.Keys.VIEWID]=this.getUniqueViewId(a.sessionId);var h=a.getConfigValue("stage");d[b.MetricsConstants.Keys.SCOPE]=h&&h.id||"default";var i=a.config.ts;c.type==b.MetricsConstants.EventTypes.IMPRESSION&&(i&&b.startTime&&(c.systemData.syndLate=b.startTime.getTime()-i),c.systemData.rv="3"),b._.extend(c.systemData,a.metrics.getTOU()),c.type==b.MetricsConstants.EventTypes.INTERACTION&&(a.metrics.engaged||(c.systemData.engaged=1,a.metrics.engaged=1),!c.systemData.pointer&&a.view&&void 0!==a.view.clientX&&void 0!==a.view.clientY&&(c.systemData.pointer='{"x":'+a.view.clientX+', "y":'+a.view.clientY+"}")),window.flashVersion&&(c.systemData.flash=window.flashVersion[0]+"."+window.flashVersion[1]);var j=b._.pick(c,"mode","type","sik","scp","subtype","context","trigger","component","part","detail");c.eventData=b._.extend({},b._.prefix(e.ed,"_"),c.eventData),c.placementData=b._.extend({},e.pd,c.placementData),b._.each(c.placementData,function(a,b){a&&a.match(/(^%.*!$)|(^%+.*%+$)/)&&(c.placementData[b]="")});var k=a.getVariablesMap(),l={},m={};for(var n in k)0===n.indexOf("var_dim")?l[n]=k[n]:m[n]=k[n];c.variableData=b._.extend({},c.variableData,m),c.variableDimData=b._.extend({},c.variableDimData,l);var o=function(a,c,e){b._.each(a,function(a,b){null!==a&&void 0!==a&&(e&&(b=e[b]||b),d[c+b]=a)})},p=b._.now();return i&&(c.systemData.late=p-i),d[b.MetricsConstants.Keys.ENVIRONEMNT]=a.env||b.MetricsConstants.ENVIRONMENT_TYPES.NORMAL,"videoId"in c&&null!==c.videoId&&void 0!==c.videoId&&(d[b.MetricsConstants.Keys.VIDEO_ID]=c.videoId),"videoType"in c&&null!==c.videoType&&void 0!==c.videoType&&b._.values(b.MetricsConstants.VIDEO_TYPES).indexOf(c.videoType)>-1&&(d[b.MetricsConstants.Keys.VIDEO_TYPE]=c.videoType),o(j,"",b.MetricsConstants.OptionKeyMap),o(c.eventData,"ed."),o(c.placementData,"pd."),o(c.systemData,"sd."),o(c.variableData,"vd."),o(c.variableDimData,"vdd."),d[b.MetricsConstants.Keys.TIMESTAMP_PARAM]=p,d[b.MetricsConstants.Keys.LOCATION_URL]=this.getWindowLocation(),d[b.MetricsConstants.Keys.SEQUENCE]=a.metrics.sequence++,c.contentData&&(d[b.MetricsConstants.Keys.CONTENT_NAME]=c.contentData.name,d[b.MetricsConstants.Keys.CONTENT_POSITION]=c.contentData.position,d[b.MetricsConstants.Keys.CONTENT_SEQUENCE]=c.contentData.sequence,d[b.MetricsConstants.Keys.CONTENT_HERO]=c.contentData.hero),a.trigger("metrics:requestData",{options:c,data:d}),d}},getWeightedMetricsRequestData:function(a,c){var d=b.Metrics.getMetricsRequestData(a,c);return b.Metrics.sortParametersByWeight(d,b.MetricsConstants.WeightedParams)},getWindowLocation:function(){return this.locationUrl||(this.locationUrl=(FLITE.locationUrl||b._.getWindowLocation()).split("?")[0])},getUniqueViewId:function(a){if(!this.vid){var c=b._.getExpandableWindow({clear:1});this.vid=c.FLITE_VID,this.vid||(this.vid=a,c.FLITE_VID=this.vid)}return this.vid},sortParametersByWeight:function(a,c){a=a||{},c=c||[];var d=[],e=function(b){b in a&&d.push({key:b,value:a[b]})};b._.each(c,e);var f=b._.difference(b._.keys(a),c);
return f=b._.sortBy(f,function(b){var c=a[b];return c&&c.toString()&&c.toString().length}),b._.each(f,e),e=null,d},loadImageTrackingUrl:function(a,c,d){function e(a,c,e){return d!==!0&&(e=e||(c?"P":"G"),a=b._.addParamToUrl(b.MetricsConstants.Keys.ENDTOKEN,e,a)),a}function f(a,c,d){if(c){var e="XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.open("POST",a,!0),e.setRequestHeader("Accept","*/*"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");var f="";b._.each(d,function(a,b){f=f+(b>0?"&":"")+encodeURIComponent(a.key)+"="+encodeURIComponent(a.value)}),e.send(f)}else{var g=new Image(1,1);g.onerror=function(){},g.src=a}}if(a){var g=!1,h=b.Metrics.replaceCachebusters(a);b._.is.secureLocation()&&(h=b.URLFactory.getSecureUrl(h));var i=[],j=[];b._.isEmpty(c)||(i=b.Metrics.sortParametersByWeight(c,b.MetricsConstants.WeightedParams),b._.each(i,function(a){var c=b._.addParamToUrl(a.key,a.value,h);c.length<2e3?h=c:(j.push(a),g=!0)}));try{h=e(h,g),f(h,g,j)}catch(k){}}}},"undefined"==typeof b&&(b={}),b.URLFactory={dataApiEndpoints:{COUNTER_INCR:"cass_counter/incr/{regId}/{dataId}/{label}.{format}",COUNTER_GET:"cass_counter/get/{regId}/{dataId}.{format}",FORM_POST:"cass_form/post/{regId}/{dataId}.{format}"},getProxiedImageUrl:function(a,c){if(null===a||0===a.length)throw"An image URL is required.";c=c||{};var d=b.URLS.imageProxy+"/ip/origin=="+encodeURIComponent(a);c.maxWidth&&(d+="&&w=="+Math.round(c.maxWidth)),c.maxHeight&&(d+="&&h=="+Math.round(c.maxHeight)),c.type&&(d+="&&type=="+c.type),c.quality&&(d+="&&q=="+c.quality),c.format&&(d+="&&imgfmt=="+c.format.toUpperCase()),c.matte&&(d+="&&matte=="+c.matte),c.maxWidth||c.maxHeight||!c.noMem||(d+="&&nomem==true");var e={token:b.token};return c.instanceGuid&&(e.i=c.instanceGuid),b._.toQueryString(e,d)},getProxiedFeedUrl:function(a,c){if(null===a||0===a.length)throw"An origin is required.";c=c||{};var d=b.URLS.proxy+"/fetch/origin=="+encodeURIComponent(a),e=b._.keys(c).sort();b._.each(e,function(a){c[a]&&"instanceGuid"!=a&&(d+="&&"+a+"=="+encodeURIComponent(c[a]))});var f={token:b.token};return c.instanceGuid&&(f.i=c.instanceGuid),b._.toQueryString(f,d)},getProxiedTwitterUrl:function(a){a=a||{};var c=b.URLS.proxy+"/twitter/",d={token:b.token};return a.instanceGuid&&(d.i=a.instanceGuid,c+="guid/"+a.instanceGuid+"/"),a.endpoint&&(c+="endpoint/"+a.endpoint+"/",a.user&&(c+="user/"+a.user+"/",a.search&&(c+="search/"+encodeURIComponent(a.search)+"/"),a.id&&(c+="id/"+encodeURIComponent(a.id)+"/"))),a.count&&b._.isNumber(parseInt(a.count,10))||(a.count=25),c+="count/"+parseInt(a.count,10)+"/",a.callback&&(c+="wbx_callback/"+a.callback+"/"),b._.toQueryString(d,c)},getDataUrl:function(a,c){var d=[b.URLS.dataApi,"/data-api/",a].join("");c=b._.extend({regId:c.regId,format:"json"},c),d=b._.format(d,c);var e=b._.extend(c.data,{wbx_regId:c.regId,wbx_token:b.token}),f=a!==b.URLFactory.dataApiEndpoints.COUNTER_GET||c.isPreviewInstance;return f&&(e.wbx_appId=c.appId,c.isPreviewInstance&&(e.wbx_isPreview="1")),c.schema&&(e.wbx_schema=c.schema),c.sid&&(e.wbx_session=c.sid),c.callback&&(e.wbx_callback=c.callback),d=b._.toQueryString(e,d),c.dataString&&(d+="&"+c.dataString),d},getGeoLocationURL:function(a){a=a||{};var c=[b.URLS.dataApi,"/data-api/","geo/location.json"].join(""),d={token:b.token};return a.callback&&(d.wbx_callback=a.callback),a.instanceGuid&&(d.i=a.instanceGuid),a.ip&&(d.ip=a.ip),b._.toQueryString(d,c)},getWeatherLocationURL:function(a){a=a||{};var c=[b.URLS.dataApi,"/data-api/","weather"].join(""),d={token:b.token};return a.callback&&(d.wbx_callback=a.callback),a.instanceGuid&&(d.i=a.instanceGuid),a.ip&&(d.ip=a.ip),b._.toQueryString(d,c)},getSecureUrl:function(a){return a&&a.replace("http:","https:")},getManagedContentUrl:function(a){var c=a;return 0!==c.indexOf(b.URLS.runtimeCdn)&&(c=[b.URLS.runtimeCdn,"/cas/",a].join("")),c},getProxiedFacebookUrl:function(a){a=a||{};var c=[b.URLS.proxy,"/facebook/id/",a.id];a.max=a.max&&!isNaN(parseInt(a.max,10))?a.max:20,a.max&&(c=c.concat(["/max/",a.max])),a.callback&&(c=c.concat(["/wbx_callback/",a.callback]));var d={token:b.token};return a.instanceGuid&&(d.i=a.instanceGuid),c=c.join(""),b._.toQueryString(d,c)},getProxiedDataAssetUrl:function(a){a=a||{};var c=b.URLS.proxy+"/datasource_batch/";return a.regId&&(c+="guid/"+a.regId+"/"),a.regVersion&&(c+="rv/"+a.regVersion),c},getDataAPIDataAssetUrl:function(a){a=a||{};var c=b.URLS.dataApi+"/data-api/service/ds/get/";return a.regId&&(c+="guid/"+a.regId+"/"),a.regVersion&&(c+="rv/"+a.regVersion),c}},"undefined"==typeof b&&(b={}),b.Events={bind:function(a,c,d){var e=(this._callbacks||(this._callbacks={}),this._callbacks[a]||(this._callbacks[a]=[]));return d&&d.single&&(c=b._.once(c)),e.push(c),this},bound:function(a,c){return this._callbacks&&this._callbacks[a]?c?b._.find(this._callbacks[a],function(a){return a===c}):!0:void 0},unbind:function(a,b){if(!a)return this._callbacks={},this;var c=this._callbacks;if(c)if(b){var d=c[a];if(!d)return this;for(var e=0,f=d.length;f>e;e++)if(b===d[e]){d.splice(e,1);break}}else c[a]=[];return this},unbindPrefix:function(a){var c=this;b._.each(c._callbacks,function(b,d){d.split(":")[0]===a&&c.unbind(d)})},trigger:function(a){var b,c,d,e;if(!(c=this._callbacks))return this;if(b=c[a])for(d=0,e=b.length;e>d;d++)void 0!==b[d]&&b[d].apply(this,Array.prototype.slice.call(arguments,1));if(b=c.all)for(d=0,e=b.length;e>d;d++)void 0!==b[d]&&b[d].apply(this,arguments);return this}},"undefined"==typeof b&&(b={});var l=function(){},m=function(a,c,d){var e;return e=c&&c.hasOwnProperty("constructor")?c.constructor:function(){return a.apply(this,arguments)},b._.extend(e,a),l.prototype=a.prototype,e.prototype=new l,c&&b._.extend(e.prototype,c),d&&b._.extend(e,d),b._.extend(e.prototype,b.Events),e.prototype.constructor=e,e.__super__=a.prototype,e};b.Base=function(){},b.Base.extend=a,"undefined"==typeof b&&(b={}),b.AnimateHelper=b.Base.extend({constructor:function(a,b,c){this.el=a,this.prop=b,this.from=c.from,this.to=c.to,this.time=c.time,this.callback=c.callback,this.animDiff=this.to-this.from},_setStyle:function(a){"opacity"===this.prop?(this.el.style[this.prop]=a,this.el.style.filter="alpha(opacity="+100*a+")"):this.el.style[this.prop]=a+"px"},_animate:function(){return this.now=new Date,this.diff=this.now-this.startTime,this.diff>this.time?(this._setStyle(this.to),this.callback&&this.callback.call(this),void clearInterval(this.timer)):(this.percentage=Math.floor(this.diff/this.time*100)/100,this.val=this.animDiff*this.percentage+this.from,void this._setStyle(this.val))},start:function(){var a=this;this.startTime=new Date,this.timer=setInterval(function(){a._animate.call(a)},Math.floor(1e3/30))}}),"undefined"==typeof b&&(b={}),b.HoverHelper=function(){var a=1e3,c="mouseover",d="mouseout",e="mousemove",f="touchstart",g={subtype:b.MetricsConstants.EventSubtypes.INTERACTION_HOVER,mode:b.MetricsConstants.EventModes.ROLLOVER,detail:"1 Second Rollover"},h={subtype:b.MetricsConstants.EventSubtypes.NOTATION_UPDATE,mode:b.MetricsConstants.EventModes.ROLLOUT,detail:"Rollout"};return b.Base.extend({view:null,element:null,moveElement:null,timer:null,sequence:null,start:null,lockout:null,sendMetrics:!0,constructor:function(a,c,d){var e=this;e.view=a,e.element=c,d=d||{},e.moveElement=d.moveElement||e.element,b._.is.truly(d.disableLogging)&&(e.sendMetrics=!1),b._.bindAll(e),e.enable()},enable:function(){var a=this,g=a.element;b._.addEvent(g,f,a.disable,!0),b._.addEvent(g,c,a.startHoverTimerFn,!0),b._.addEvent(g,d,a.rolloutFn,!0),b._.addEvent(g,c,a.rolloverFn,!0),b._.addEvent(a.moveElement,e,a.moveFn,!0)},disable:function(){var a=this,g=a.element;clearInterval(a.timer),b._.removeEvent(g,f,a.disable,!0),b._.removeEvent(g,c,a.startHoverTimerFn,!0),b._.removeEvent(g,c,a.rolloverFn,!0),b._.removeEvent(a.moveElement,e,a.moveFn,!0),b._.removeEvent(g,d,a.rolloutFn,!0),b._.removeEvent(g,d,a.trackRolloutFn,!0)},trackRolloutFn:function(){var a=this,c=a.element,e=a.view;b._.removeEvent(c,d,a.trackRolloutFn,!0),a.sendMetrics&&b.Metrics.logNotation(e.model,b._.extend({context:a.sequence},h)),a.sequence=null},trackHoverFn:function(){var a=this,c=a.element,e=a.view;a.timer&&(clearInterval(a.timer),a.timer=null),a.sendMetrics&&(a.sequence=b.Metrics.logInteraction(e.model,g)),b._.addEvent(c,d,a.trackRolloutFn,!0)},onMove:function(a,b){var c=this,d=c.view;d.clientX=b?a.pageX-b.offsetLeft:a.pageX,d.clientY=b?a.pageY-b.offsetTop:a.pageY,c.trigger("move")},rolloverFn:function(a){this.onMove(a,self.element)},moveFn:function(a){this.onMove(a,self.moveElement)},startHoverTimerFn:function(){var d=this,e=d.element,f=d.view;b._.removeEvent(e,c,d.startHoverTimerFn,!0),d.timer=f.addInterval(d.trackHoverFn,a),d.start=new Date,d.trigger("rollover")},rolloutFn:function(){{var a=this,d=a.element;a.view}a.timer&&(clearInterval(a.timer),a.timer=null),a.start=null,b._.addEvent(d,c,a.startHoverTimerFn,!0),a.trigger("rollout")}})}(),"undefined"==typeof b&&(b={}),b.AbstractView=b.Base.extend({constructor:function(a){var c=this;a=a||{},c.model=a.model||null,c.config=a,c.model&&c.model.viewMixins&&b._.each(c.model.viewMixins,function(a){b[a]&&(b._.extend(c,b[a]),b._.each(b[a].events,function(d,e){c.bind(e,b[a][b[a].events[e]])}))}),c.bind("renderComplete",function(){}),c.bind("show",function(){}),c.bind("hide",function(){}),c.initPartnerView&&c.initPartnerView(a),c.trigger("init")},show:function(){var a=this;return a.dom&&(a.dom.style.display=""),a.target&&(a.target.style.visibility=""),a.preloader&&(a.preloader.style.display=""),a.trigger("show",a),a},hide:function(){var a=this;return a.dom&&(a.dom.style.display="none"),a.target&&(a.target.style.visibility="hidden"),a.preloader&&(a.preloader.style.display="none"),a.trigger("hide",a),a},doClickThrough:function(a,c){var d=this,e=b.Metrics.logInteraction(d.model,b._.extend({detail:c},{mode:b.MetricsConstants.EventModes.CLICK,subtype:b.MetricsConstants.EventSubtypes.INTERACTION_SELECT})),f=b.Metrics.getClickthroughUrl(d.model,{url:a,detail:a,trigger:e});d.openWindow(f)},openWindow:function(a,c,d){var e,f=this;c=c||"_blank";var g=function(){f.model.trigger("metrics:logNotation",{detail:"Popup Blocked",eventData:{url:a}})},h=f.windowTarget||c;try{if(a.length>2e3){"_blank"===h&&(h="_fliteClick"+b._.now(),e=window.open("about:blank",h,d||""),e?e.onerror=g:g());var i=f.dom||f.preloader,j=i&&i.ownerDocument||document,k=b._.uniqueId("flite-form"),l=a.split("?"),m=b._.fromQueryString(a);m.et&&delete m.et;var n=b._.make("FORM",{doc:j,attributes:{id:k,method:"POST",target:h,action:[l[0],"?cb=",b._.now(),"&et=P"].join("")}});for(var o in m)if(m.hasOwnProperty(o)){var p=b._.make("input",{doc:j,attributes:{type:"hidden",name:o,value:m[o]}});n.appendChild(p)}j.body.appendChild(n);var q=j.getElementById(k);q.submit(),q.parentNode.removeChild(q)}else e=window.open(a,f.windowTarget||c,d||""),e?e.onerror=g:g()}catch(r){g()}f.trigger("openWindow",{url:a,target:c,specs:d})},resize:function(a,b){var c=this;if(c.dom&&(a&&(c.dom.style.width=a+"px"),b&&(c.dom.style.height=b+"px"),c.dom.ownerDocument.defaultView!==window.top&&c.dom.ownerDocument.parentWindow!==window.top)){var d=c.getExpandableAnchorInsertionPoint();d&&(d===window.top||d.ownerDocument&&(d.ownerDocument.defaultView===window.top||d.ownerDocument.parentWindow===window.top))&&d!==c.target&&(a&&(d.style.width=a+"px"),b&&(d.style.height=b+"px"))}return c.trigger("resize",c),c},resizeContainer:function(a,c,d){var e,f,g,h=this;d=d||{},e=b._.isNumber(a)?a:parseInt(a,10)||null,f=b._.isNumber(c)?c:parseInt(c,10)||null;var i=b._.isNumber(e),j=b._.isNumber(f),k=h.dom.ownerDocument.defaultView===window.top,l=void 0===d.resizeHeight?f:d.resizeHeight,m=function(a){if(a){var c=a.getAttribute("data-flite-resize");if(!c){var h={w:a.style.width,h:a.style.height};k||(h.mw=a.style.maxWidth,h.mh=a.style.maxHeight),a.setAttribute("data-flite-resize",b._.toQueryString(h,"style"))}var l=isNaN(d.duration)?0:Number(d.duration);if(d.animate&&l){var m={time:1e3*l||1e3,callback:g?null:o};i&&(b._.extend(m,{from:a.offsetWidth,to:e}),new b.AnimateHelper(a,"width",m).start(),k||new b.AnimateHelper(a,"maxWidth",m).start()),j&&(b._.extend(m,{from:a.offsetHeight,to:f}),new b.AnimateHelper(a,"height",m).start(),k||new b.AnimateHelper(a,"maxHeight",m).start())}else i&&(a.style.width=e+"px"),j&&(a.style.height=f+"px"),k||(i&&(a.style.maxWidth=e+"px"),j&&(a.style.maxHeight=f+"px")),g||o();g=!0}},n=function(a){if(a){var c=a.getAttribute("data-flite-resize");if(c){var d=b._.fromQueryString(c);a.style.width=d.w,a.style.height=d.h,k||(a.style.maxWidth=d.mw,a.style.maxHeight=d.mh),a.removeAttribute("data-flite-resize")}}},o=function(){h.trigger("resizeContainer",{width:e,height:f})};h.trigger("beforeResizeContainer");var p=h.getContainerChain(l);if(b._.each(p,m),!h.model||!h.model.parent){var q=function(){b._.each(p,n),h.postMessage({eventName:"resizeContainerRestore"})};h.bind("destroy",q),h.bind("showStage",function(a){b._.indexOf(["self","pushdown"],a.type)>-1&&h.unbind("destroy",q)})}h.postMessage({eventName:"resizeContainerInitiate",width:e,height:f,options:d})},getContainerChain:function(a){var c=this;if(!c.containerChain){var d=[],e=c.getExpandableAnchorInsertionPoint();e&&(d.push(e),b._.contains([e.ownerDocument.defaultView,e.ownerDocument.parentWindow],top)&&(d.push(c.getFriendlyIframe(e)),b._.is.inConsole()||(d=d.concat(c.getParentNodeContainers(e,a))))),b._.each(b._.filter(b._.getWindowChain(),function(a){return a!==top}),function(a){try{a.FLITE&&a.FLITE.isExpandableWindow||d.push(a.frameElement)}catch(b){}}),d.push(c.target),d=b._.filter(b._.unique(d),function(b){try{return b&&b!==c.dom&&(Number(b.getAttribute("height")||1e10)<=Number(a)||b.offsetHeight<=Number(a))||b===c.target}catch(d){}}),d.length>0&&(this.containerChain=d)}return c.containerChain},addInterval:function(a,b){var c=setInterval(a,b||100);return this.bind("destroy",function(){clearInterval(c)}),c},addEvent:function(a,c,d){b._.addEvent(a,c,d),this.bind("destroy",function(){b._.removeEvent(a,c,d)})},renderTo:function(){throw"AbstractView#renderTo is abstract, implement it in a concrete subclass"},repositionViewDom:function(a,c){var d=this;if(a=a||d.target,c=c||{},c.preserveTarget&&d.dom&&!c.staticTarget)if(b._.is.inConsole()&&(a.style.overflow="hidden",a.style.position="relative"),d.dom.style.position="absolute",d.preloader)d.dom.style.left=d.preloader.offsetLeft+"px",d.dom.style.top=d.preloader.offsetTop+"px";else if(c.replaceStage){var e=d.model.previous;d.dom.style.left=e&&e.view.dom?e.view.dom.offsetLeft+"px":"0px",d.dom.style.top=e&&e.view.dom?e.view.dom.offsetTop+"px":"0px"}else d.dom.style.top=d.dom.style.left="0px";return d},destroy:function(a){a=a||{};var b=this,c=null;if(b.trigger("destroy",b,a),b.target&&b.preventDomRemoval!==!0&&a.preserveTarget!==!0)try{c=b.target.parentNode||b.targetParent,c&&c.removeChild(b.target)}catch(d){}return b.dom&&b.preventDomRemoval!==!0&&(c=b.dom.parentNode,c&&c.removeChild(b.dom),delete b.dom),b.unbind(),b},getStageStyleTarget:function(){return b._.getExpandableWindow().document.body},getFriendlyIframe:function(a){var b=this,c=b.parent?b.parent.config:b.model&&b.model.config;try{if("IFRAME"===a.nodeName){var d=(a.getAttribute("src")||"").toLowerCase(),e=a.ownerDocument.defaultView||a.ownerDocument.parentWindow;if(!d||0!==d.indexOf("http")||d.indexOf(e.location.host)>-1){var f=a.contentWindow&&a.contentWindow.document,g=Array.prototype.slice.call(f.getElementsByTagName("iframe"),0).filter(function(a){return"flite-frame"===a.className||(a.offsetWidth<=parseFloat(c.appWidth)||a.offsetHeight<=parseFloat(c.appHeight))&&a!==b.dom&&"flite-ad"!==a.className});return g&&g[0]}}}catch(h){}},getParentNodeContainers:function(a,c){var d=this;if(!d.parentNodeContainers){var e=100,f=a.nodeName.toLowerCase();a=a.parentNode,d.parentNodeContainers=[];try{for(;a&&"body"!==f&&"head"!==f&&"document"!==f&&e>0;){var g=a.style&&a.style.height||a.attributes&&a.attributes.height;if(g&&-1===b._.indexOf(["inherit","auto"],g)&&-1===g.indexOf("%")&&parseFloat(g)<c&&d.parentNodeContainers.push(a),a===a.parentNode)break;a=a.parentNode,f=a&&a.nodeName.toLowerCase(),e-=1}}catch(h){}}return d.parentNodeContainers},getExpandableAnchorInsertionPoint:function(a){a=a||{};var c=b._.getExpandableWindow(a),d=null,e=a.view||this,f=a.referrer||window.document.referrer,g=window.location.href,h=a.base||"baseunit";if("viewport"===h)return c.document.documentElement;if(e.target&&b._.contains([e.target.ownerDocument.defaultView,e.target.ownerDocument.parentWindow],c))return e.iframeDetection="ownerDocument",e.dom||e.target;if(f&&"about:blank"!==f&&0!==f.indexOf("javascript:")){e.iframeDetection="url:"+f;var i=window.location.hash;i&&(i=i.substr(1));var j=b._.filter(c.document.getElementsByTagName("iframe"),function(a){var c=a.getAttribute("src");return c&&(f&&-1!==f.indexOf(c)||g&&-1!==g.indexOf(c)||e.model&&-1!==c.indexOf(["/adframe/i/",e.model.controllerId||e.model.guid].join(""))&&-1!==c.indexOf(i)||b._.contains([window,parent],a.contentWindow))});if(1===j.length)return j[0]}e.iframeDetection="frameElement";var k=b._.getWindowChain(),l=0;for(l=0;l<k.length;l++)try{var m=k[l].frameElement;if(m&&b._.contains([m.ownerDocument.defaultView,m.ownerDocument.parentWindow],c))return m}catch(n){}e.iframeDetection="elementFromPoint";var o=a.mouseX?a.mouseX:e.clientX,p=a.mouseY?a.mouseY:e.clientY;return b._.isNumber(o)&&b._.isNumber(p)&&(d=c.document.elementFromPoint(o,p)),d||e.dom||e.target},getHoverTracker:function(a,c){var d="data-hover";if("1"!==a.getAttribute(d)){a.setAttribute(d,"1"),c=c||{};var e=this,f=e.model&&e.model.baseParent||e.model,g=f.metrics,h=new b.HoverHelper(e,a,c),i=null,j=function(a){return function(){g.startTOU(a?g.justOut:0),g.justOut=0,clearTimeout(i),g.idle(1),i=setTimeout(function(){g.idle(0)},1e3)}};h.bind("move",j(1)),h.bind("rollover",j(0));var k=function(a){return function(){a&&g.onUnit&&(g.justOut=b._.now()),g.onUnit&&(clearTimeout(i),g.idle(1),g.updateTOU(1))}};return h.bind("rollout",k(0)),e.bind("windowOpened",k(0)),f!==e.model&&e.model&&e.model.bind("destroy",k(1)),h}},postMessage:function(a){this.model.expansionDisabled&&!b._.is.inConsole()&&(a=a||{},a.browser={msie:b._.is.browser.msie,opera:b._.is.browser.opera},a.iframeSrc=window.document.baseURI,window.top.postMessage(a,"*"))}}),"undefined"==typeof b&&(b={}),b.Instance=b.Base.extend({isInstance:!0,constructor:function(a){var c=this;c.guid=a,c.impressionSequence=0,c.impressOnLoad=!1,c.metrics={sequence:0,eventDelegate:b.Metrics.loadImageTrackingUrl,engaged:!1,tou:0,t_tou:0,a_tou:0,onUnit:0,getTOU:function(){var a=c.metrics,b=a.updateTOU();return b.d_tou=b.tou-a.t_tou,a.t_tou=b.tou,b.da_tou=b.a_tou-a.a_tou,a.a_tou=b.a_tou,b},startTOU:function(a){var d=c.metrics;d.onUnit||(d.onUnit=1,d._tou=a||b._.now())},updateTOU:function(a){var d=c.metrics;if(d.onUnit&&d._tou){var e=b._.now();d.tou+=e-d._tou,d._tou=e}return a&&(d.onUnit=0),{tou:d.tou,a_tou:d.tou-(d.idl||0)}},idle:function(a){var d=c.metrics;a?(d._idl&&(d.idl||(d.idl=0),d.idl+=b._.now()-d.idl_),d._idl=0):(d._idl=1,d.idl_=b._.now())}};var d=window.FLITE&&window.FLITE.config&&window.FLITE.config[a];d&&(c.expansionDisabled=d.expansionDisabled,d.vd&&c.setConfigParamOverrides(b._.prefix(d.vd,"var_")),d.sequence&&(c.metrics.sequence=d.sequence)),c.sessionId=d&&d.sessionId||b._.generateGuid(),c.uniqueId=c.safeUniqueId(),c.infoLoaded=!1,c.bind("setConfig",function(a){a.infoLoaded=!0,a.bind("impress",b._.once(function(c){c=c||{};var d={trigger:a.metrics.trigger};a.expansionDisabled&&!c.subtype&&(d.subtype=b.MetricsConstants.EventSubtypes.IMPRESSION_LIMITED),a.trigger("metrics:impression",b._.extend(c,d)),a.trigger("metrics:logAffiliateImpressions")})),a.impressOnLoad?a.trigger("impress",{systemData:{onLoad:!0}}):a.bind("viewInit",function(b){a.trigger("impress",b)})})},safeUniqueId:function(a,c){a=a||"";var d=b._.uniqueId(a+this.sessionId+"-");return c&&(d=d.replace(/-/g,"")),d},searchParameters:function(a){var c=this.config.configParams,d=b._.select(c,function(b){return a.test(b.name)});return d.sort(function(a,b){return a.name<b.name?-1:1}),d},getParametersByPrefix:function(a){return this.searchParameters(new RegExp(["^",a,"$|",a,"_[0-9]"].join("")))},getConfigValue:function(a){var b=this;return a&&b.config.configParams[a]?b.config.configParams[a].valueMap?b.config.configParams[a].valueMap:b.config.configParams[a].value:void 0},convertDataAssets:function(a){var c={};for(var d in a)if(a.hasOwnProperty(d)){var e=a[d].info;if(e&&e.widgetPrototype)if(0===e.widgetPrototype.indexOf("DATA_"))if(e.isPreview)c[d]=e.url;else{var f=!1;try{if(e.configParams&&e.configParams.metadata){var g=JSON.parse(e.configParams.metadata.value);f=b._.indexOf(["csvd","locations"],g.subtype)>=0}}catch(h){}c[d]=f?b.URLFactory.getDataAPIDataAssetUrl({regId:e.regId,regVersion:e.regVersion}):b.URLFactory.getProxiedDataAssetUrl({regId:e.regId,regVersion:e.regVersion})}else"STORY2"===e.widgetPrototype&&(c[d]=b.URLFactory.getManagedContentUrl(e.htmlContent))}return c},getAssets:function(a){if(a&&"object"==typeof a){var b={},c=this.convertDataAssets(a);for(var d in a)if(a.hasOwnProperty(d)&&a[d].info){var e=a[d].info.htmlContent||a[d].info.url;c.hasOwnProperty(d)&&(e=c[d]),b[d]=e}return b}},getAllVariablesMap:function(a){var c=this,d={},e=c.config.configParams;b._.each(e,function(f,g){a||("assets"===g&&e.assets.value&&b._.extend(d,c.getAssets(e[g].value)),"global_assets"===g&&e.global_assets.value&&b._.extend(d,c.getAssets(e[g].value))),g.match(/var_[a-z0-9]+/g)&&(d[g]=e[g].value)});var f={};return b._.extend(f,d,c.getMergedControllerVariables()),b._.each(d,function(a,c){a&&a.match(/\${/g)&&(d[c]=b._.variableReplacement(a,f))}),d},getVariablesMap:function(){return this.getAllVariablesMap(!0)},getMergedControllerVariables:function(){var a=this.config.cvd,c=this.config.controllerVariables,d={};return b._.isObject(c)&&b._.each(c,function(e,f){d["campaign."+f]=b._.isEmpty(a)||b._.isEmpty(a[f])?c[f]:a[f]}),d},getConfig:function(){return this.config},injectInstanceMixins:function(){var a=this,c=a.getConfig().widgetType,d=a.getConfig().widgetPrototype;"URL"===c?b._.extend(a,b.RemoteInstanceMixin):"FLASH"===c&&"AD_V3"===d?b._.extend(a,b.FlashInstanceMixin):"JS"===c&&"AD_TOUCH"===d&&b._.extend(a,b.TouchInstanceMixin),b.FifInstanceMixin&&(b._.extend(a,b.FifInstanceMixin),a.setConfigFromQueryString()),b._(a.events).each(function(b,c){a.bind(c,a[b])},a),a.trigger("mixinsComplete")},setConfigParamOverrides:function(a){var c=this;c.configParamOverrides=b._.extend({},c.configParamOverrides),b._.chain(a).keys().each(function(b){c.configParamOverrides[b]={name:b,value:a[b]}})},setConfig:function(a,c,d){var e=this;return e.config=a,e.configParamOverrides&&(b._.extend(e.config.configParams,e.configParamOverrides),e.configParamOverrides=null),e.scriptDeps=d,e.config.dependencyInfo&&b._.each(e.config.configParams,function(a){"DEPENDENCY"===a.type&&b._.each(a.value,function(a){if(!a.info){var c=e.config.dependencyInfo[a.guid];c&&(a.info=b._.deepClone(c),a.info.configParams&&a.localConfig&&b._.each(a.localConfig,function(b,c){if(a.info.configParams[c]){var d=a.info.configParams[c];d.valueMap?d.valueMap=b:d.value=b}}))}})}),b._.each(c,function(a){a.call(e,b)},e),e.config.isError&&e.unbindPrefix("metrics"),e.injectInstanceMixins(),b._.extend(e.config,window.FLITE&&window.FLITE.config&&(window.FLITE.config[e.guid]||window.FLITE.config[e.config.controllerAppId])||{}),e.trigger("setConfig",e),e},fetch:function(a,c,d,e,f){var g=this,h=[b.URLS.runtime,"get_widget.js"].join("/"),i={output:"json",location:b._.getWindowLocation(),timestamp:b._.now()};i["appId.0"]=g.guid,i["sid.0"]=g.sessionId,c&&(i.dependencies=c.join(",")),d&&(i.scope=d),e&&(i.erv=e),f&&(i.fetch=f),b._.jsonpWidgetInfo(h,i,g,d,function(c){b.token=b.token||c.token,b.version=b.version||c.version,c.widgets&&c.widgets[0]&&g.setConfig(c.widgets[0],c.dependencies,c.scriptDependencies).render(a)})},render:function(a,c){c=c||{};var d=this;if(q(d.uniqueId)){if(!a){var e=b._.getScriptInsertionTarget(d.guid);e.setAttribute("processed","y");var f,g;!d.parent&&d.renderInExpandableWindow?(g=b._.getExpandableWindow(),f=b._.createInsertionTarget(d.guid,g.document),f.ownerDocument.body.insertBefore(f,null),a=f.ownerDocument.getElementById(f.getAttribute("id"))):(f=b._.createInsertionTarget(d.guid),f.style.lineHeight="0px",e.parentNode.insertBefore(f,e),a=document.getElementById(f.getAttribute("id")))}return d.bind("viewReady",function(){d.view&&(d.view.windowTarget=d.baseParent&&d.baseParent.view?d.baseParent.view.windowTarget:d.getConfigValue("wbx.windowTarget"),"_"===d.view.windowTarget&&(d.view.windowTarget=null),d.view.bind("openWindow",function(){d.metrics.updateTOU(1)}))}),d.bind("render",function(c,e){d.unbind("render"),c=c||d.view,e=e||{},c.bind("renderTo",function(){c.renderTo(a,e);var b="AD_TOUCH"===d.getConfig().widgetPrototype;b&&a.parentNode&&c.appendFragment(),c.model.trigger("viewReady")}),c.trigger("pre_render",a,e),c.trigger("renderTo"),c.windowTarget=d.baseParent&&d.baseParent.view?d.baseParent.view.windowTarget:d.getConfigValue("wbx.windowTarget"),"_"===c.windowTarget&&(c.windowTarget=null),b._.is.inConsole()||(d.viewMixins&&d.viewMixins.PinnedViewMixin&&(!d.parent||d.previous)&&c.stylePinned(a,e),d.viewMixins&&!d.parent&&d.viewMixins.LightboxViewMixin&&c.trigger("expandStart",{type:"lightbox"})),c.trigger("render_post",a,e)}),d.trigger("renderReady",a,c),d}},destroy:function(a){a=a||{};var c="metrics:logNotation",d=null,e=this;(a.trigger||0===a.trigger)&&(d=e.parent||e.previous?e.stage?"self"===e.expandType?{detail:"Ad unloaded",eventDelegate:b.Metrics.loadImageTrackingUrl}:{detail:"Stage Closed"}:{detail:"Subsequent ad closed"}:{detail:"Ad unloaded",eventDelegate:b.Metrics.loadImageTrackingUrl}),d&&e.trigger(c,b._.extend(a,d)),e.trigger("destroy",e,a),e.destroyAllChildren(a);var f=e.parent?e.parent.children:window.FLITE.instances,g=b._.indexOf(f[e.guid],e);f[e.guid]&&(e.previous?f[e.guid]=[]:-1!==g&&f[e.guid].splice(g,1),0===f[e.guid].length&&delete f[e.guid]),e.parent&&e.parent.trigger("childDestroyed",e),e.view&&(e.view.destroy(a),delete e.view),e.unbind(),e.parent=null,e.isDestroyed=!0},destroyAllChildren:function(a){var c=this;c.children&&b._.each(c.children,function(b,d){for(;c.children[d]&&c.children[d].length;)c.children[d][0].destroy(a)})}}),"undefined"==typeof b&&(b={}),"undefined"==typeof window.FLITE&&(window.FLITE={}),b.startTime=new Date;var n=function(a){var c=new b.Instance(a),d=[{evt:"metrics:impression",fn:"logImpression"},{evt:"metrics:logInteraction",fn:"logInteraction"},{evt:"metrics:logContent",fn:"logContent"},{evt:"metrics:logNotation",fn:"logNotation"},{evt:"metrics:logVideo",fn:"logVideo"},{evt:"metrics:logAffiliateImpressions",fn:"logAffiliateImpressions"}];return b._.each(d,function(a){c.bind(a.evt,function(d){b.Metrics[a.fn](c,d)})}),window.FLITE.instances=window.FLITE.instances||{},window.FLITE.instances[a]=window.FLITE.instances[a]||[],c.guidIndex=window.FLITE.instances[a].length,window.FLITE.instances[a].push(c),c},o=function(a,b){var c=[],d=function(b,e){FLITE._.each(b,function(b){FLITE._.each(b,function(b){b[a]===e?c.push(b):b.children&&d(b.children,e)})})};return d(FLITE.instances,b),c},p=function(a){return o("guid",a)},q=function(a){var c=o("uniqueId",a);return b._.first(c)},r=function(a,c,d){d=d||{},d.isLightbox||c.bind("metrics:impression",function(d){var e={};e[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=c.getConfig().appPK,c.impressionSequence=b.ChildMetrics.logImpression(a,b._.extend(d,e))}),c.bind("metrics:logCloseInteraction",function(e){var f={};f[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=c.getConfig().appPK,d.isLightbox&&(f.notation_detail="URL Closed"),b.ChildMetrics.logCloseInteraction(a,b._.extend(e,f))});var e=[{evt:"metrics:logInteraction",fn:"logInteraction"},{evt:"metrics:logContent",fn:"logContent"},{evt:"metrics:logNotation",fn:"logNotation"},{evt:"metrics:logVideo",fn:"logVideo"}];return b._.each(e,function(d){c.bind(d.evt,function(e){var f={};f[b.MetricsConstants.Keys.SUBINSTANCE_KEY]=c.getConfig().appPK,b.Metrics[d.fn](a,b._.extend(e,f))})}),c},s=function(a,c){var d=new b.Instance(c);return d.parent=a,d.baseParent=a.baseParent||a,d.baseParent.trigger("childCreated",d),d.metrics=a.metrics,d.sessionId=a.sessionId,a.children=a.children||{},a.children[c]=a.children[c]||[],d.guidIndex=a.children[c].length,a.children[c].push(d),d},t=function(a,c){var d=b._.getScriptInsertionTarget(c);d.setAttribute("data-instance",a);var e=FLITE.createInstance(a);return e.controllerId=c,e},u=function(a,c){var d=b._.isString(a)||b._.isNumber(a)?q(a):a;d.view._callbacks.createExpansion||d.view.bind("createExpansion",function(a){x.call(this,a)||d.trigger("metrics:logNotation",{trigger:a.trigger,detail:"Expansion Blocked"})}),d.view.trigger("createExpansion",c)},v=function(a,c){var d=b._.isString(a)||b._.isNumber(a)?q(a):a;d.view.trigger("showStage",c,d)},w=function(a,c,d,e){var f=this.model;if(e=e||{},b._.isUndefined(e.anchorToBody)&&(e.anchorToBody=!0),!a(f))return!1;e.mouseX=f.view.clientX,e.mouseY=f.view.clientY;var g=c(f,e);return e.config&&g.setConfigParamOverrides(e.config),e.trigger&&(g.metrics.trigger=e.trigger),b._.expandWindow=null,d(f,g,e),!0},x=function(a){var c=function(b){return!b||b.expansionDisabled?!1:b.children&&b.children[a.id]&&b.children[a.id].length>0?!1:!0},d=function(a,c){var d=s(a,c.id);return r(d.baseParent,d,{isLightbox:"lightbox"===c.type}),a.view&&(d.anchorInsertionPointOverride=a.view.getExpandableAnchorInsertionPoint(b._.extend(c,{clear:!0}))),d},e=function(a,c,d){var e=b._.getExpandableWindow().document;"anchor"===d.type||"expand"===d.type?c.fetch(b._.make("div",{doc:e}),["EXPANDABLE","BUTTON","CHILD"]):"lightbox"===d.type&&c.fetch(b._.make("div",{doc:e}),["LIGHTBOX","BUTTON","CHILD"]),c.bind("viewReady",function(){c.view.trigger("expandStart",d)})};return w.call(this,c,d,e,a)},y=function(a,c){b.token=a,b.version=c};window.FLITE.URLS=window.FLITE.URLS||{},b._.is.secureLocation()&&b._.each(window.FLITE.URLS,function(a,c){this[c]=b.URLFactory.getSecureUrl(a)},window.FLITE.URLS),b._.extend(b,b.Events,{URLS:window.FLITE.URLS,getInstancesByGuid:p,getInstanceByUniqueId:q,createChildInstance:s,attachSubInstanceMetrics:r,childFactory:w}),b._.extend(window.FLITE,{createInstance:n,createController:t,createExpansion:u,showStage:v,injectData:y,getInstanceByUniqueId:q,Metrics:b.Metrics,URLFactory:b.URLFactory,_:b._}),b.cleanup=function(a){b._.each(FLITE.instances,function(c){for(;c&&c.length>0;){var d=b._.first(c);d.expansionDisabled=!0,d.destroy(a)}})},b._.addEvent(window,"unload",function(){b.cleanup({windowUnloaded:!0})})}();window.FLITE.injectData('f3d6f94912cb913eb029f6402478d515f21042ef00000156c160e077', '531218613');
FLITE.createInstance('73c8c89b-0122-4ed1-b947-e23f50e96851').setConfig({"appId":"73c8c89b-0122-4ed1-b947-e23f50e96851","appWidth":"1065","providerServiceLevel":"EXPERT","appHeight":"365","regPK":6951108,"stage":0,"appPK":"174063543","htmlContent":"","regPubVersion":"59","widgetPrototypeOrdinal":"17","configParams":{"wbx.clickTrackingEncoding":{"name":"wbx.clickTrackingEncoding","value":"default"},"theme":{"name":"theme","value":"{}"},"wbx.backupImage":{"name":"wbx.backupImage","value":"http://static.flite.com/6d53742c-22b1-455c-b13d-bb73fef80583/0fd9a904-574d-442a-a6fd-a9fccea3cbaa/1065x365_bg.gif"},"wbx.backupImageLink":{"name":"wbx.backupImageLink","value":"http://apiservices.krxd.net/click_tracker/track?kx_event_uid=KPRj584n&clk=http://fandom.wikia.com/"},"wbx.windowTarget":{"name":"wbx.windowTarget","value":""},"wbx.backupImgExpandFallback":{"name":"wbx.backupImgExpandFallback","value":"false"},"stage":{"valueMap":{"height":"365","isAutoScale":"false","backgroundColor":"","width":"1065","triggers":"[{\"paths\":[\"path_b858f722\"],\"eventType\":\"inview\",\"options\":{\"area\":\"\",\"direction\":\"in\"}},{\"paths\":[\"path_63ac8cc7\"],\"eventType\":\"outview\",\"options\":{\"area\":\"\",\"direction\":\"out\"}}]","isResponsive":"true"},"name":"stage","value":""},"wbx_at":{"name":"wbx_at","value":""},"assets":{"name":"assets","value":{"asset_6cd96b1e":{"guid":"3beba705-8f7d-4df1-a971-b77a32998148","type":"REGISTRATION"},"asset_12c8efa2":{"guid":"9c83a709-6920-43d2-adf2-1e70c44824e6","type":"REGISTRATION"},"asset_16f786d7":{"guid":"c99fe2ed-86d0-4f02-a57d-c5c6a6e35037","type":"REGISTRATION"},"asset_e715bbf9":{"guid":"13309977-fc5e-4ca7-9822-00e354253231","type":"REGISTRATION"},"asset_6894e3e6":{"guid":"de345106-20f9-43bf-8de1-7906b0c34ac2","type":"REGISTRATION"}},"type":"DEPENDENCY"},"wbx_lp":{"name":"wbx_lp","value":""},"renderMode":{"name":"renderMode","value":""},"vast":{"name":"vast","value":"{}"},"layout":{"name":"layout","value":"[{\"id\":\"L9d9addcc\",\"label\":\"Videogame Playlist\",\"x\":0,\"y\":0,\"borderThickness\":0,\"cornerRadius\":0,\"height\":365,\"width\":664,\"component\":\"9d9addcc\",\"triggers\":[{\"eventType\":\"mouseover\",\"paths\":[\"path_adfce283\"],\"duration\":\"\"},{\"eventType\":\"mouseout\",\"paths\":[\"path_25bf9bc5\"]}],\"animations\":[{\"trigger\":\"visibilityshown\",\"type\":\"animate\",\"options\":{\"to\":{\"alpha\":1,\"scale\":1,\"x\":0,\"y\":0},\"from\":{\"alpha\":1,\"scale\":1,\"x\":-664,\"y\":0},\"duration\":1,\"direction\":\"lr\",\"easing\":{\"ease\":\"easeInOut\",\"fn\":\"Exponential\"}}}]},{\"id\":\"L29474b10\",\"label\":\"Wikia Twitter\",\"x\":665,\"y\":197,\"borderThickness\":\"1\",\"cornerRadius\":\"5\",\"height\":168,\"width\":400,\"component\":\"29474b10\",\"backgroundColor\":\"#ffffff\",\"borderColor\":\"#ffffff\",\"triggers\":[{\"eventType\":\"tapclick\",\"paths\":[\"path_a8c33eba\"]}],\"animations\":[{\"trigger\":\"visibilityshown\",\"type\":\"animate\",\"options\":{\"to\":{\"alpha\":1,\"scale\":1,\"x\":665,\"y\":197},\"from\":{\"alpha\":1,\"scale\":1,\"x\":665,\"y\":365},\"duration\":1,\"direction\":\"bt\",\"easing\":{\"ease\":\"easeInOut\",\"fn\":\"Exponential\"}}}]},{\"x\":665,\"y\":0,\"width\":\"400\",\"height\":200,\"scale\":1,\"rotation\":0,\"alpha\":1,\"id\":\"L6c962776\",\"label\":\"Scroll\",\"borderThickness\":0,\"cornerRadius\":\"0\",\"children\":{\"nodes\":[{\"x\":0,\"y\":0,\"width\":\"132\",\"height\":\"99\",\"scale\":1,\"rotation\":0,\"alpha\":1,\"id\":\"L8bb3dccf\",\"label\":\"View\",\"borderThickness\":0,\"cornerRadius\":0,\"children\":{\"nodes\":[{\"x\":0,\"y\":3,\"width\":145,\"height\":93,\"scale\":1,\"rotation\":0,\"alpha\":1,\"id\":\"L53f94ce3\",\"label\":\"Image\",\"borderThickness\":\"2\",\"cornerRadius\":\"5\",\"component\":\"53f94ce3\",\"parent\":\"L8bb3dccf\",\"type\":\"component\",\"thumbnail\":\"${data_thumbnail1}\",\"dataRandomSet\":\"\",\"triggers\":[{\"eventType\":\"tapclick\",\"paths\":[\"path_81c96a3a\",\"path_ea10a4d7\"]}],\"animations\":[{\"trigger\":\"visibilityshown\",\"type\":\"animate\",\"options\":{\"to\":{\"alpha\":1,\"scale\":1,\"x\":0,\"y\":3},\"from\":{\"alpha\":1,\"scale\":1,\"x\":0,\"y\":-93},\"duration\":0.4,\"direction\":\"tb\",\"easing\":{\"ease\":\"easeInOut\",\"fn\":\"Exponential\"}}}],\"visibility\":\"\",\"borderColor\":\"\"},{\"x\":2,\"y\":15,\"width\":125,\"height\":82,\"scale\":1,\"rotation\":0,\"alpha\":1,\"id\":\"Lebe533d8\",\"label\":\"Description\",\"borderThickness\":0,\"cornerRadius\":0,\"children\":{\"nodes\":[{\"x\":2,\"y\":-8,\"width\":121,\"height\":86,\"scale\":1,\"rotation\":0,\"alpha\":1,\"id\":\"L753122d6\",\"label\":\"Headline and Body copy copy\",\"borderThickness\":0,\"cornerRadius\":0,\"component\":\"753122d6\",\"parent\":\"Lebe533d8\",\"type\":\"component\",\"animations\":[{\"trigger\":\"visibilityshown\",\"type\":\"animate\",\"options\":{\"to\":{\"alpha\":1,\"scale\":1,\"x\":2,\"y\":-8},\"from\":{\"alpha\":1,\"scale\":1,\"x\":2,\"y\":82},\"duration\":0.75,\"direction\":\"bt\",\"easing\":{\"ease\":\"easeInOut\",\"fn\":\"Exponential\"}}}],\"triggers\":[{\"eventType\":\"tapclick\",\"paths\":[\"path_105eb4b5\"]}],\"visibility\":\"\",\"borderColor\":\"\",\"backgroundColor\":\"\",\"backgroundAlpha\":\"0.3\"}]},\"animations\":[{\"trigger\":\"visibilityshown\",\"type\":\"animate\",\"options\":{\"to\":{\"alpha\":1,\"scale\":1,\"x\":2,\"y\":15},\"from\":{\"alpha\":1,\"scale\":1,\"x\":2,\"y\":99},\"duration\":0.2,\"direction\":\"bt\",\"easing\":{\"ease\":\"easeInOut\",\"fn\":\"Exponential\"}}},{\"trigger\":\"visibilityhidden\",\"type\":\"animate\",\"options\":{\"to\":{\"alpha\":0,\"scale\":1,\"x\":2,\"y\":15},\"from\":{\"alpha\":1,\"scale\":1,\"x\":2,\"y\":15},\"duration\":0.25,\"direction\":null,\"easing\":{\"ease\":\"easeInOut\",\"fn\":\"Linear\"}}}],\"parent\":\"L8bb3dccf\",\"type\":\"view\",\"data\":\"\",\"triggers\":[],\"dataRandomize\":\"false\",\"dataMaxItems\":\"16\",\"dataStartItem\":\"3\",\"visibility\":\"\"}]},\"parent\":\"L7fe11ca7\",\"type\":\"view\",\"visibility\":\"\",\"overflow\":\"hidden\",\"dataRandomSet\":\"\",\"assets\":[\"asset_6cd96b1e\"],\"data\":\"${asset_6cd96b1e}\"}]},\"component\":\"6c962776\",\"visibility\":\"\",\"animations\":[{\"trigger\":\"visibilityshown\",\"type\":\"animate\",\"options\":{\"to\":{\"alpha\":1,\"scale\":1,\"x\":665,\"y\":0},\"from\":{\"alpha\":0,\"scale\":1,\"x\":665,\"y\":0},\"duration\":1,\"direction\":null,\"easing\":{\"ease\":\"easeInOut\",\"fn\":\"Linear\"}}}],\"parent\":\"L899bf9c3\",\"type\":\"component\"},{\"id\":\"L9584dd92\",\"label\":\"FB\",\"x\":585,\"y\":11,\"borderThickness\":0,\"cornerRadius\":0,\"height\":32,\"width\":36,\"component\":\"9584dd92\",\"triggers\":[{\"eventType\":\"tapclick\",\"paths\":[\"path_1841ac8e\"]}]},{\"id\":\"Lbb366f9d\",\"label\":\"Twitter\",\"x\":612,\"y\":-1,\"borderThickness\":0,\"cornerRadius\":0,\"height\":48,\"width\":50,\"component\":\"bb366f9d\",\"triggers\":[{\"eventType\":\"tapclick\",\"paths\":[\"path_9e1b2f71\",\"path_9982a3c4\"]}]},{\"id\":\"La6be4633\",\"label\":\"Mute\",\"x\":541,\"y\":10,\"borderThickness\":0,\"cornerRadius\":0,\"height\":25,\"width\":35,\"component\":\"a6be4633\",\"alpha\":\"0.5\",\"triggers\":[{\"eventType\":\"tapclick\",\"paths\":[\"path_2ae3fdd7\"]}],\"visibility\":\"hidden\"}]"},"wbx.buttonMode":{"name":"wbx.buttonMode","value":"2"},"flt.initialScript":{"name":"flt.initialScript","value":""},"wbx.zIndex":{"name":"wbx.zIndex","value":""},"components":{"name":"components","value":{"9d9addcc":{"guid":"dd8ba7f7-0a1b-4fc1-8ead-18a9fa7be821","dataSupport":true,"localConfig":{"config_url":"http://config.playwire.com/1004220/playlists/v2/3159/zeus.json","auto_play":"true","mute":"true"},"type":"REGISTRATION"},"bb366f9d":{"guid":"6fe1bac1-925a-429d-8255-20342b11f21d","assets":["asset_16f786d7"],"dataSupport":true,"localConfig":{"asset_url":"${asset_16f786d7}"},"type":"REGISTRATION"},"6c962776":{"guid":"b04945e6-4313-40c6-8d5a-d5e1b1e8ae8e","localConfig":{"randomize":"false","wrap":"true","orientation":"vertical","always_show_scrollbar":"false","divider_color":"","divider_weight":"0","spacing":"1","momentum_scrolling":"true","autoplay_interval":"5","auto_stop_duration":"20","enable_auto_rotate":"false"},"type":"REGISTRATION"},"a6be4633":{"guid":"6fe1bac1-925a-429d-8255-20342b11f21d","assets":["asset_6894e3e6"],"dataSupport":true,"localConfig":{"asset_url":"${asset_6894e3e6}"},"type":"REGISTRATION"},"753122d6":{"guid":"f488f2a7-6fe5-4e04-80b1-e9496adb4574","localConfig":{"headers_v_shadow":"1","headers_line_height":"2","headers_shadow_alpha":"75","downscale_font_size":"false","apply_style_settings":"true","make_scrollable":"false","body_font_object":"{\n\t\"paramType\": \"FONT\",\n\t\"type\": \"web\",\n\t\"data\": {\n\t\t\"backupFontFamily\": \"Helvetica,Arial,sans-serif\",\n\t\t\"linkUrl\": \"//fonts.googleapis.com/css?family=Open+Sans\"\n\t},\n\t\"css\": {\n\t\t\"font-family\": \"'Open Sans',Helvetica,Arial,sans-serif\",\n\t\t\"font-weight\": 400,\n\t\t\"font-style\": \"normal\"\n\t}\n}","headers_shadow":"false","add_ellipses_on_overflow":"true","case_conversion_type_header":"capitalize","text":"${data_headline}","vertical_align":"bottom","body_v_shadow":"2","headers_letter_spacing":"5","body_shadow_alpha":"100","body_font_type":"web","headers_shadow_color":"#000000","body_shadow_color":"#000000","body_shadow_blur":"1","headers_text_color":"#ffffff","body_shadow":"true","headers_h_shadow":"1","body_h_shadow":"2","body_font_size":"11","truncate":"false","body_text_color":"#ffffff","headers_font_size":"40","make_selectable":"false","body_web_font":"fonts.googleapis.com/css?family=Arvo","headers_font_object":"{\n\t\"paramType\": \"FONT\",\n\t\"type\": \"web\",\n\t\"data\": {\n\t\t\"backupFontFamily\": \"Helvetica,Arial,sans-serif\",\n\t\t\"linkUrl\": \"//fonts.googleapis.com/css?family=Open+Sans\"\n\t},\n\t\"css\": {\n\t\t\"font-family\": \"'Open Sans',Helvetica,Arial,sans-serif\",\n\t\t\"font-weight\": 400,\n\t\t\"font-style\": \"normal\"\n\t}\n}","headers_shadow_blur":"1"},"type":"REGISTRATION"},"9584dd92":{"guid":"6fe1bac1-925a-429d-8255-20342b11f21d","assets":["asset_e715bbf9"],"dataSupport":true,"localConfig":{"asset_url":"${asset_e715bbf9}"},"type":"REGISTRATION"},"29474b10":{"guid":"d2ff4127-64cb-499d-8237-3606195dd021","localConfig":{"footer_opacity":"70","username":"getfandom","footer_color":"#030342","asset_url":"http://static.flite.com/6d53742c-22b1-455c-b13d-bb73fef80583/416c739d-10d3-491d-926e-3a272e24b1fe/5bestadditions.jpg","follow_button_alignment":"center","confirmed_usage":"true"},"type":"REGISTRATION"},"53f94ce3":{"guid":"6fe1bac1-925a-429d-8255-20342b11f21d","assets":[],"localConfig":{"scale":"100","image_loss":"lossy","image_quality":"65","position_h":"center","position_v_up":"top","asset_url":"${data_image1}","upscale":"true","retina":"true","scale_mode":"FILL"},"type":"REGISTRATION"}},"type":"DEPENDENCY"},"flt.preloader":{"valueMap":{"trigger":"pageload","backgroundColor":"#000000","backgroundImage":"${asset_12c8efa2}","clickthrough":"http://apiservices.krxd.net/click_tracker/track?kx_event_uid=KPRj584n&clk=http://fandom.wikia.com/","delay":""},"name":"flt.preloader","value":""},"actions":{"name":"actions","value":"{\"paths\":{\"path_9e1b2f71\":[\"action_bfb20e64\"],\"path_a8c33eba\":[\"action_0332ec2d\"],\"path_9982a3c4\":[\"action_3713a3b0\"],\"path_b858f722\":[\"action_e615d25c\"],\"path_63ac8cc7\":[\"action_33ad7b1e\"],\"path_1841ac8e\":[\"action_8634c367\"],\"path_2ae3fdd7\":[\"action_009486c0\"],\"path_adfce283\":[\"action_7736f6cc\"],\"path_25bf9bc5\":[\"action_913b55d4\",\"action_b1ff241d\"],\"path_81c96a3a\":[\"action_aec4ea40\"],\"path_ea10a4d7\":[\"action_5c27d321\"],\"path_105eb4b5\":[\"action_1ac47358\"]},\"actions\":{\"action_bfb20e64\":{\"type\":\"link\",\"payload\":\"https://twitter.com/@getfandom\",\"options\":{\"window\":\"_blank\",\"type\":\"_blank\"}},\"action_0332ec2d\":{\"type\":\"tracker\",\"payload\":\"http://beacon.krxd.net/event.gif?event_id=KOpwan-6&event_type=cact\",\"options\":{}},\"action_3713a3b0\":{\"type\":\"tracker\",\"payload\":\"http://beacon.krxd.net/event.gif?event_id=KOpwan-6&event_type=cact\",\"options\":{}},\"action_e615d25c\":{\"type\":\"target\",\"payload\":\"L9d9addcc\",\"options\":{\"fn\":\"playVideo\"}},\"action_33ad7b1e\":{\"type\":\"target\",\"payload\":\"L9d9addcc\",\"options\":{\"fn\":\"pauseVideo\"}},\"action_8634c367\":{\"payload\":\"https://www.facebook.com/getfandom\",\"type\":\"link\",\"options\":{\"window\":\"_blank\",\"type\":\"_blank\"}},\"action_009486c0\":{\"payload\":\"L9d9addcc\",\"type\":\"target\",\"options\":{\"fn\":\"muteVideo\"}},\"action_7736f6cc\":{\"type\":\"target\",\"payload\":\"L9d9addcc\",\"options\":{\"fn\":\"unmuteVideo\"}},\"action_b1ff241d\":{\"type\":\"target\",\"payload\":\"L9d9addcc\",\"options\":{\"fn\":\"muteVideo\"}},\"action_913b55d4\":{\"type\":\"delay\",\"payload\":\"3\",\"options\":{}},\"action_aec4ea40\":{\"type\":\"changevisibility\",\"options\":{\"visible\":\"true\"},\"payload\":\"Lebe533d8\"},\"action_5c27d321\":{\"type\":\"link\",\"payload\":\"${data_url}\",\"options\":{\"window\":\"_blank\",\"type\":\"_blank\"}},\"action_1ac47358\":{\"type\":\"link\",\"payload\":\"${data_url}\",\"options\":{\"window\":\"_blank\",\"type\":\"_blank\"}}}}"},"css":{"valueMap":{"css_links":"[\"//fonts.googleapis.com/css?family=Open+Sans\",\"//fonts.googleapis.com/css?family=Open+Sans\"]"},"name":"css","value":""}},"dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"name":"1065x365 Gaming Pre-Roll Video Super Billboard #4","regId":"69e98fd3-76b8-44ba-96dc-f76c4438fb6a","regWidth":"1065","deviceCategory":1,"url":"http://asset.flite.com/html5/421.1033/touch/Ukitu.min.js","stages":{"sizes":[{"height":365,"width":1065}],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":["http://s.flite.com/syndication/ad.js/b/531218613/d/610019575808/dc/1/dh/2b513f3059ef76837514388636341f87/i/73c8c89b-0122-4ed1-b947-e23f50e96851/iv/1/r/69e98fd3-76b8-44ba-96dc-f76c4438fb6a/rv/121/s/0/t/6d1906ed2ebc818515443f75ab3cc2e9ccd25bd400000156c1602a8e/v/0/"],"responsive":{"maxHeight":365,"landscape":[[0,0]],"portrait":[[0,0]]}},"providerPK":1800573,"widgetPrototype":"AD_TOUCH","dependencyInfo":{"f488f2a7-6fe5-4e04-80b1-e9496adb4574":{"regWidth":"200","providerServiceLevel":"null","appWidth":"200","appHeight":"250","regPK":5675655,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"","providerPK":2216990,"htmlContent":"","regPubVersion":"64","widgetPrototype":"AD_TOUCH_COMPONENT","widgetPrototypeOrdinal":"18","configParams":{"headers_line_height":{"name":"headers_line_height","value":"1.2"},"headers_web_font":{"name":"headers_web_font","value":"fonts.googleapis.com/css?family=Abril+Fatface"},"apply_style_settings":{"name":"apply_style_settings","value":"true"},"bottom_edge_adj1":{"name":"bottom_edge_adj1","value":"0"},"body_web_font_fallback":{"name":"body_web_font_fallback","value":"Helvetica,Arial,_sans"},"bottom_edge_adj2":{"name":"bottom_edge_adj2","value":"0"},"make_scrollable":{"name":"make_scrollable","value":"true"},"text_bg_opacity":{"name":"text_bg_opacity","value":"100"},"body_font_object":{"name":"body_font_object","value":""},"wbx.customTriggers":{"name":"wbx.customTriggers","value":"[{\"label\":\"On Scroll\",\"fn\":\"on_drag\"},{\"label\":\"On Scroll Complete\",\"fn\":\"on_drag_complete\"}]"},"disable_hide":{"name":"disable_hide","value":""},"bold_color":{"name":"bold_color","value":"#111111"},"headers_web_font_custom":{"name":"headers_web_font_custom","value":""},"case_conversion_type_header":{"name":"case_conversion_type_header","value":"none"},"text":{"name":"text","value":"<h1>A First Level Header<\/h1>\n<p>The wide playgrounds were swarming with boys. All were <strong>shouting<\/strong> and the <em>prefects<\/em> urged them on with strong cries.<\/p>\n<h2>A Second Level Header<\/h2>\n<p>The evening air was pale and chilly and after every charge and thud of the footballers the greasy leather orb flew like a <strong>heavy bird<\/strong> through the <a href=\"http://www.flite.com/\" target=\"_blank\">grey light<\/a>.<\/p>\n<hr />"},"vertical_align":{"name":"vertical_align","value":"top"},"disable_hide_and_pad":{"name":"disable_hide_and_pad","value":""},"italic_color":{"name":"italic_color","value":"#111111"},"body_v_shadow":{"name":"body_v_shadow","value":"0"},"link_color":{"name":"link_color","value":"#2276dd"},"headers_letter_spacing":{"name":"headers_letter_spacing","value":"0"},"body_font_type":{"name":"body_font_type","value":"system"},"body_shadow_alpha":{"name":"body_shadow_alpha","value":"75"},"body_shadow_color":{"name":"body_shadow_color","value":"#000000"},"body_shadow_blur":{"name":"body_shadow_blur","value":"1"},"headers_text_color":{"name":"headers_text_color","value":"#111111"},"headers_h_shadow":{"name":"headers_h_shadow","value":"0"},"headers_web_font_fallback":{"name":"headers_web_font_fallback","value":"Helvetica,Arial,_sans"},"truncation_quantity":{"name":"truncation_quantity","value":""},"horizontal_rule_color":{"name":"horizontal_rule_color","value":"#555555"},"body_h_shadow":{"name":"body_h_shadow","value":"0"},"body_font_size":{"name":"body_font_size","value":"12"},"truncate":{"name":"truncate","value":"false"},"wbx.buttonMode":{"name":"wbx.buttonMode","value":"0"},"body_text_color":{"name":"body_text_color","value":"#222222"},"headers_font_size":{"name":"headers_font_size","value":"20"},"body_web_font":{"name":"body_web_font","value":"fonts.googleapis.com/css?family=Abril+Fatface"},"make_selectable":{"name":"make_selectable","value":"false"},"case_conversion_type_body":{"name":"case_conversion_type_body","value":"none"},"header_min_size":{"name":"header_min_size","value":"9"},"position":{"name":"position","value":"left"},"body_font":{"name":"body_font","value":"Helvetica,Arial,sans-serif"},"headers_v_shadow":{"name":"headers_v_shadow","value":"0"},"headers_shadow_alpha":{"name":"headers_shadow_alpha","value":"75"},"downscale_font_size":{"name":"downscale_font_size","value":"false"},"wbx.dependencies":{"name":"wbx.dependencies","value":"[\"imageLoader\"]"},"body_min_size":{"name":"body_min_size","value":"9"},"text_bg_color":{"name":"text_bg_color","value":""},"body_web_font_custom":{"name":"body_web_font_custom","value":""},"headers_font_type":{"name":"headers_font_type","value":"system"},"headers_shadow":{"name":"headers_shadow","value":""},"add_ellipses_on_overflow":{"name":"add_ellipses_on_overflow","value":"false"},"truncate_type":{"name":"truncate_type","value":"paragraphs"},"headers_shadow_color":{"name":"headers_shadow_color","value":"#000000"},"body_shadow":{"name":"body_shadow","value":""},"body_line_height":{"name":"body_line_height","value":"1.2"},"link_underline":{"name":"link_underline","value":"true"},"body_letter_spacing":{"name":"body_letter_spacing","value":"0"},"headers_font_object":{"name":"headers_font_object","value":""},"headers_shadow_blur":{"name":"headers_shadow_blur","value":"1"},"headers_font":{"name":"headers_font","value":"Helvetica,Arial,sans-serif"}},"regVersion":"135","widgetType":"HTML","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"Text","regHeight":"250","isRenderedInline":true,"regId":"f488f2a7-6fe5-4e04-80b1-e9496adb4574"},"d2ff4127-64cb-499d-8237-3606195dd021":{"regWidth":"300","providerServiceLevel":"null","appWidth":"300","appHeight":"250","regPK":5831725,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"","providerPK":2216990,"htmlContent":"","regPubVersion":"42","widgetPrototype":"AD_TOUCH_COMPONENT","widgetPrototypeOrdinal":"18","configParams":{"footer_color":{"name":"footer_color","value":"#000000"},"max_items":{"name":"max_items","value":"20"},"count":{"name":"count","value":"25"},"content_text_color":{"name":"content_text_color","value":"#777777"},"auto_stop_duration":{"name":"auto_stop_duration","value":"0"},"title_text_color":{"name":"title_text_color","value":"#333333"},"username":{"name":"username","value":"flite"},"search":{"name":"search","value":""},"is_randomized":{"name":"is_randomized","value":""},"control_mode":{"name":"control_mode","value":"scrollbar"},"title_font_size":{"name":"title_font_size","value":"12"},"confirmed_usage":{"name":"confirmed_usage","value":"false"},"footer_opacity":{"name":"footer_opacity","value":"85"},"font":{"name":"font","value":"Arial, Helvetica, sans-serif"},"link_color":{"name":"link_color","value":"#0084B4"},"hide_labels":{"name":"hide_labels","value":""},"follow_button_alignment":{"name":"follow_button_alignment","value":"right"},"title_username_size":{"name":"title_username_size","value":"11"},"auto_scroll_interval":{"name":"auto_scroll_interval","value":"3"},"show_actions_on_hover":{"name":"show_actions_on_hover","value":""},"enable_auto_scroll":{"name":"enable_auto_scroll","value":"false"},"timestamp_color":{"name":"timestamp_color","value":"#aaaaaa"},"content_font_size":{"name":"content_font_size","value":"11"},"title_username_color":{"name":"title_username_color","value":"#aaa"},"separator_color":{"name":"separator_color","value":"#333333"}},"regVersion":"91","widgetType":"JS","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"Twitter","regHeight":"250","isRenderedInline":true,"regId":"d2ff4127-64cb-499d-8237-3606195dd021"},"9c83a709-6920-43d2-adf2-1e70c44824e6":{"regWidth":"1065","providerServiceLevel":"null","appWidth":"1065","appHeight":"365","regPK":7412439,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"http://static.flite.com/6d53742c-22b1-455c-b13d-bb73fef80583/76ab984e-9b17-4088-93cf-8fcc651f4069/1065x365_bg.gif","providerPK":1800573,"htmlContent":"","regPubVersion":"1","widgetPrototype":"IMAGE","widgetPrototypeOrdinal":"19","configParams":{"metadata":{"name":"metadata","value":"{\"fileSize\":\"15\",\"posterFileSize\":\"15\"}"}},"regVersion":"3","widgetType":"ASSET","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"1065x365_bg.gif","regHeight":"365","isRenderedInline":true,"regId":"9c83a709-6920-43d2-adf2-1e70c44824e6"},"de345106-20f9-43bf-8de1-7906b0c34ac2":{"regWidth":"100","providerServiceLevel":"null","appWidth":"100","appHeight":"88","regPK":6922400,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"http://static.flite.com/6d53742c-22b1-455c-b13d-bb73fef80583/84751413-7825-4a89-b3c3-188bce62c0f0/sound_icon.png","providerPK":1800573,"htmlContent":"","regPubVersion":"1","widgetPrototype":"IMAGE","widgetPrototypeOrdinal":"19","configParams":{"metadata":{"name":"metadata","value":"{\"fileSize\":\"1\"}"}},"regVersion":"3","widgetType":"ASSET","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"sound_icon.png","regHeight":"88","isRenderedInline":true,"regId":"de345106-20f9-43bf-8de1-7906b0c34ac2"},"6fe1bac1-925a-429d-8255-20342b11f21d":{"regWidth":"300","providerServiceLevel":"null","appWidth":"300","appHeight":"250","regPK":5664373,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"","providerPK":2216990,"htmlContent":"","regPubVersion":"50","widgetPrototype":"AD_TOUCH_COMPONENT","widgetPrototypeOrdinal":"18","configParams":{"scale":{"name":"scale","value":"100"},"repeat_mode":{"name":"repeat_mode","value":"no-repeat"},"image_loss":{"name":"image_loss","value":"lossless"},"position_h_up":{"name":"position_h_up","value":"center"},"image_quality":{"name":"image_quality","value":"70"},"position_h":{"name":"position_h","value":"left"},"position_v_up":{"name":"position_v_up","value":"center"},"wbx_thumb":{"name":"wbx_thumb","value":"${asset_url}"},"retina":{"name":"retina","value":"DOWNSCALE"},"spinner":{"name":"spinner","value":"false"},"wbx.buttonMode":{"name":"wbx.buttonMode","value":"0"},"position_v":{"name":"position_v","value":"top"},"wbx.customTriggers":{"name":"wbx.customTriggers","value":"[{\"label\":\"Load Complete\",\"fn\":\"image_complete\"}]"},"asset_url":{"name":"asset_url","value":"http://static.flite.com/54be77bf-e7db-4cfc-a678-7f50bc75b370/42284fca-428f-487b-82a2-20165632897d/no-image-300x2501x.png"},"upscale":{"name":"upscale","value":"false"},"scale_mode":{"name":"scale_mode","value":"DOWNSCALE"}},"regVersion":"107","widgetType":"HTML","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"Image","regHeight":"250","isRenderedInline":true,"regId":"6fe1bac1-925a-429d-8255-20342b11f21d"},"dd8ba7f7-0a1b-4fc1-8ead-18a9fa7be821":{"regWidth":"300","providerServiceLevel":"null","appWidth":"300","appHeight":"250","regPK":6197035,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"","providerPK":1708627,"htmlContent":"","regPubVersion":"178","widgetPrototype":"AD_TOUCH_COMPONENT","widgetPrototypeOrdinal":"18","configParams":{"publisher_id":{"name":"publisher_id","value":"1010179"},"use_config_url":{"name":"use_config_url","value":"true"},"volume_level":{"name":"volume_level","value":""},"config_url":{"name":"config_url","value":"//config.playwire.com/1010179/videos/v2/4363378/zeus.json"},"auto_play":{"name":"auto_play","value":"false"},"wbx.customActions":{"name":"wbx.customActions","value":"[{\"label\":\"Pause\",\"fn\":\"pauseVideo\",\"haspayload\":false,\"payloadplaceholder\":\"\"},{\"label\":\"Play\",\"fn\":\"playVideo\",\"haspayload\":false,\"payloadplaceholder\":\"\"},{\"label\":\"Mute\",\"fn\":\"muteVideo\",\"haspayload\":false,\"payloadplaceholder\":\"\"},{\"label\":\"Unmute\",\"fn\":\"unmuteVideo\",\"haspayload\":false,\"payloadplaceholder\":\"\"}]"},"video_id":{"name":"video_id","value":"4363378"},"wbx.customTriggers":{"name":"wbx.customTriggers","value":"[{\"label\":\"Ad Started\",\"fn\":\"AD_STARTED\"},{\"label\":\"Ad Complete\",\"fn\":\"AD_COMPLETE\"},{\"label\":\"Content Started\",\"fn\":\"CONTENT_STARTED\"},{\"label\":\"Content Complete\",\"fn\":\"CONTENT_COMPLETE\"}]"},"mute":{"name":"mute","value":"false"}},"regVersion":"358","widgetType":"JS","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"Playwire Bolt BETA","regHeight":"250","isRenderedInline":true,"regId":"dd8ba7f7-0a1b-4fc1-8ead-18a9fa7be821"},"3beba705-8f7d-4df1-a971-b77a32998148":{"regWidth":"0","providerServiceLevel":"null","appWidth":"0","appHeight":"0","regPK":7412463,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"https://api.parsely.com/v2/analytics/posts?apikey=fandom.wikia.com&secret=RMcO9gdHs301JlQZsLhtN0MVn30uMV3h7O1AVNfjopI&page=1&limit=20&sort=_hits&pub_days=30&tag=Games","providerPK":1800573,"htmlContent":"{\"_root\":\"data\",\"headline\":\"title\",\"image1\":\"image_url\",\"url\":\"url\",\"thumbnail\":\"thumb_url_medium\"}","regPubVersion":"1","widgetPrototype":"DATA_SOURCE","widgetPrototypeOrdinal":"30","configParams":{"metadata":{"name":"metadata","value":"{\"subtype\":\"json\",\"posts\":\"\"}"}},"regVersion":"5","widgetType":"ASSET","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"Fandom Parse.ly Games","regHeight":"0","isRenderedInline":true,"regId":"3beba705-8f7d-4df1-a971-b77a32998148"},"b04945e6-4313-40c6-8d5a-d5e1b1e8ae8e":{"regWidth":"300","providerServiceLevel":"null","appWidth":"300","appHeight":"250","regPK":6384916,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"","providerPK":2216990,"htmlContent":"","regPubVersion":"60","widgetPrototype":"AD_TOUCH_COMPONENT","widgetPrototypeOrdinal":"18","configParams":{"orientation":{"name":"orientation","value":"vertical"},"wbx.buckets":{"name":"wbx.buckets","value":"[{\"label\":\"nodes\",\"name\":\"nodes\",\"showLabel\":false,\"filters\":\"[{\\\"type\\\":\\\"*\\\",\\\"min\\\":0, \\\"max\\\":0}]\"}]"},"wrap":{"name":"wrap","value":"false"},"always_show_scrollbar":{"name":"always_show_scrollbar","value":"false"},"spacing":{"name":"spacing","value":"3"},"enable_auto_rotate":{"name":"enable_auto_rotate","value":""},"auto_stop_duration":{"name":"auto_stop_duration","value":"0"},"roll_over_stops_autoplay":{"name":"roll_over_stops_autoplay","value":"true"},"randomize":{"name":"randomize","value":"false"},"wbx.buttonMode":{"name":"wbx.buttonMode","value":"0"},"divider_color":{"name":"divider_color","value":"#b3b3b3"},"wbx.customActions":{"name":"wbx.customActions","value":"[{\"label\":\"Next Page\",\"fn\":\"nextPage\",\"haspayload\":false,\"payloadplaceholder\":\"\"},{\"label\":\"Previous Page\",\"fn\":\"previousPage\",\"haspayload\":false,\"payloadplaceholder\":\"\"},{\"label\":\"Next Item\",\"fn\":\"nextItem\",\"haspayload\":false,\"payloadplaceholder\":\"\"},{\"label\":\"Previous Item\",\"fn\":\"previousItem\",\"haspayload\":false,\"payloadplaceholder\":\"\"},{\"label\":\"Navigate to Item\",\"fn\":\"scrollToItem\",\"haspayload\":true,\"payloadplaceholder\":\"Layer index in List (e.g. 2).\"}]"},"divider_weight":{"name":"divider_weight","value":"1"},"momentum_scrolling":{"name":"momentum_scrolling","value":""},"autoplay_interval":{"name":"autoplay_interval","value":"3"}},"regVersion":"131","widgetType":"HTML","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"Scroll","regHeight":"250","isRenderedInline":true,"regId":"b04945e6-4313-40c6-8d5a-d5e1b1e8ae8e"},"13309977-fc5e-4ca7-9822-00e354253231":{"regWidth":"24","providerServiceLevel":"null","appWidth":"24","appHeight":"24","regPK":5833176,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"http://static.flite.com/6d53742c-22b1-455c-b13d-bb73fef80583/1792524c-77ff-433b-acd4-92829a99f7b2/facebook_24x24.png","providerPK":1800573,"htmlContent":"","regPubVersion":"1","widgetPrototype":"IMAGE","widgetPrototypeOrdinal":"19","configParams":{"metadata":{"name":"metadata","value":"{\"fileSize\":\"1\"}"}},"regVersion":"3","widgetType":"ASSET","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"FB Button Default","regHeight":"24","regId":"13309977-fc5e-4ca7-9822-00e354253231"},"c99fe2ed-86d0-4f02-a57d-c5c6a6e35037":{"regWidth":"300","providerServiceLevel":"null","appWidth":"300","appHeight":"300","regPK":5855662,"deviceCategory":1,"stage":0,"stages":{"sizes":[],"resources":["COMBO","CORE","BUTTON","EXPANDABLE","FLASH","TOUCH","LIGHTBOX","REMOTE","CHILD","MRAIDV1","LINKEDIN","FIF","AOL","MICROSOFT","YAHOO","TECHTARGET","SLIDE","PINNED","REPLACE","ADMOB","GOOGLE","USCRIPTFRAME","USCRIPTFRIENDLY","ALLFEATURES","CONTAINERSTYLE","STAGES","INITIALSCRIPT","INITIALLAYER","ATLASSERVER","MOPUB","REVIEWVIEW","VOLTRON","GLOBALMESSAGE","RESPONSIVE","CSSINHERITANCE","DATASTREAM","SAFEFRAME","ALLFLASHFEATURES","ATLASMETRICS","VIEWABILITY","EXTERNALDATA","NINTHDECIMAL","VPAIDV2","INPAGE","USCRIPTFRIENDLYEXT","MRAIDV2"],"urls":[]},"appPK":"0","url":"http://static.flite.com/6d53742c-22b1-455c-b13d-bb73fef80583/91eeddd0-0ac4-422c-9803-cf7bee408e76/twitter-bird-light-bgs.png","providerPK":1800573,"htmlContent":"","regPubVersion":"1","widgetPrototype":"IMAGE","widgetPrototypeOrdinal":"19","configParams":{"metadata":{"name":"metadata","value":"{\"fileSize\":\"4\"}"}},"regVersion":"3","widgetType":"ASSET","dependencies":["FIF","INITIALLAYER","RESPONSIVE","CSSINHERITANCE","DATASTREAM","VIEWABILITY"],"appVersion":"null","name":"Twitter on Light Backgrounds","regHeight":"300","regId":"c99fe2ed-86d0-4f02-a57d-c5c6a6e35037"}},"regVersion":"121","widgetType":"JS","appVersion":"1","regHeight":"365"}, [function(F) {function processURL(a){return a=a&&window&&window.location&&"https:"===window.location.protocol?a.replace("http:","https:"):a,a&&F._.toQueryString({cb:F.version},a)}F.NodeUtils={getComputedStyle:function(a,b){if(!a||!b)return"";if(window.getComputedStyle&&a.ownerDocument&&a.ownerDocument.defaultView){var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return c?c.getPropertyValue(b):""}var d=/(\-([a-z]){1})/g;return"float"===b&&(b="styleFloat"),d.test(b)&&(b=b.replace(d,function(){return arguments[2].toUpperCase()})),a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null},detectParentStyleProperty:function(a,b){if(!a||!b)return!1;for(var c=100,d=a.nodeName.toLowerCase(),e=function(a){return F._.any(b,function(b){return b.value===F.NodeUtils.getComputedStyle(a,b.name)})};a&&"body"!==d&&"head"!==d&&"document"!==d&&c>0;){if(e(a))return a;a=a.parentNode,d=a&&a.nodeName.toLowerCase(),c-=1}if(F._.is.fif())try{var f=a.ownerDocument,g=f&&(f.defaultView||f.parentWindow);if(g&&g.frameElement)return this.detectParentStyleProperty(g.frameElement,b)}catch(h){return null}return null}},F.IFrameUtils={getIframe:function(a,b){var c=["javascript",":"].join("");b=b||document.getElementsByTagName("body")[0];var d=b.ownerDocument.createElement("iframe");d.setAttribute("frameBorder","0"),d.setAttribute("scrolling","no"),d.setAttribute("seamless","seamless"),d.setAttribute("allowTransparency","true"),d.setAttribute("allowfullscreen","allowfullscreen"),b=b||document.getElementsByTagName("body")[0],b.appendChild(d),setTimeout(function(){d.src=c+"false";var b,e;try{b=d.contentWindow.document}catch(f){e=document.domain;var g="var d=document.open();d.domain='"+e+"';void(0);";d.src=c+g,b=d.contentWindow.document}b.open()._l=function(){var b=this,c=b.parentWindow||b.defaultView;a.call(null,d,b,c)},b.write('<!DOCTYPE html><body style="margin:0px;padding:0px;border:none;" onload="document._l();"></body>'),b.close()},30)}},F.ScriptHelper=F.Base.extend({scripts:{},callbacks:{},callbackFns:{},windows:{},windowCallbacks:{},containerNode:null,handlerId:null,handlerCallback:null,constructor:function(a){this.containerNode=a||document.getElementsByTagName("body")[0],F._.defaults(FLITE,{scriptHandlers:{}}),this.windows={},this.handlerId="js_"+F._.keys(FLITE.scriptHandlers).length,FLITE.scriptHandlers[this.handlerId]={callbackFns:{}},this.handlerCallback=["FLITE.scriptHandlers.",this.handlerId,".callbackFns"].join("")},loadScript:function(a,b){var c=this;c._doPreloadScript(a,b,c.callbacks,c.scripts,function(a,b,d){c._doLoadScript(a,b,d)})},loadWindowedScript:function(a,b){var c=this;c._doPreloadScript(a,b,c.windowCallbacks,c.windows,c._doLoadWindowedScript)},loadUncachedScript:function(a,b,c){a&&this._doLoadScript(a,b,c)},getCallbackName:function(a){var b=FLITE.scriptHandlers[this.handlerId],c="cb"+F._.keys(b.callbackFns).length;return b.callbackFns[c]=a,[this.handlerCallback,c].join(".")},isScriptLoaded:function(a){return this.scripts[a]},_doPreloadScript:function(a,b,c,d,e){var f=this;if(d[a])try{b.call(null,d[a])}catch(g){}else"undefined"==typeof c[a]&&(c[a]=[]),c[a].push(b),"undefined"==typeof d[a]&&(d[a]=0,e.call(f,a,function(b){f._runCallbacks(a,c,d,b)}))},_doLoadScript:function(a,b,c){var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.setAttribute("async","async"),"function"==typeof b&&(d.onload=b),"function"==typeof c&&(d.onerror=c),d.setAttribute("src",a),this.containerNode.appendChild(d)},_doLoadWindowedScript:function(a,b,c){var d=this;F.IFrameUtils.getIframe(function(d,e,f){d.width=1,d.height=1;var g=e.createElement("script");"function"==typeof b&&(g.onload=function(){b.call(null,f)}),"function"==typeof c&&(g.onerror=function(){c.call(null,f)}),g.src=a;var h=e.getElementsByTagName("body")[0];h.appendChild(g)},d.containerNode)},_runCallbacks:function(a,b,c,d){d=d||a,c[a]=d;var e=b[a];e&&(F._.each(e,function(b){try{b.call(null,c[a])}catch(d){}},this),b[a]=[])}}),F.TouchView=F.AbstractView.extend({constructor:function(a){F.AbstractView.prototype.constructor.call(this,a)},renderTo:function(a,b){b=b||{};var c=this;b.preserveTarget||F._.clear(a),c.target=a,c.targetParent=c.target.parentNode;var d=c.target.ownerDocument||document,e=d.createElement("iframe");return e.height=c.model.getConfig().appHeight,e.width=c.model.getConfig().appWidth,e.style.border="0px",e.scrolling="no",e.seamless="seamless",e.frameBorder="0",e.allowTransparency="true",e.className="flite-ad",e.setAttribute("allowfullscreen","allowfullscreen"),c.target.appendChild(e),c.dom=e,c.repositionViewDom(a,b),c.model.stage&&c.model.stage>0&&FLITE.resizeToFitAd&&FLITE.resizeToFitAd(c.model.uniqueId),c},appendFragment:function(){var a,b,c=this,d="script",e="text/javascript",f=c.dom;f.src="javascript:false",F._.extend((f.frameElement||f).style,{height:c.model.getConfig().appHeight,width:c.model.getConfig().appWidth,border:"0",display:"inline-block"},c.model.getConfig().appHeight<=5?{verticalAlign:"top"}:{});try{b=f.contentWindow.document}catch(g){a=document.domain,f.src="javascript:var d=document.open();d.domain='"+a+"';void(0);",b=f.contentWindow.document}var h=window.FLITE;b.open()._l=function(){var b=this,f=b.parentWindow||b.defaultView;f.FLITE=h,f.F=F,f.FLITE.NodeUtils=F.NodeUtils;var g="flite-"+F._.uniqueId(),i=function(){var a=b.createElement(d);a.type=e,a.text=['var ukitu=new window.Ukitu({instance:FLITE.getInstanceByUniqueId("'+c.model.uniqueId+'"), stage:document.getElementById("'+g+'")}); ukitu.init().then(function(){ukitu.render({x:0, y:0, width:',c.model.getConfig().appWidth,",height:",c.model.getConfig().appHeight,"})});"].join(""),b.body.appendChild(a)},j=b.createElement(d);if(a&&(b.domain=a),j.id="ukitu",j.type=e,j.addEventListener)j.addEventListener("load",i,!1);else if(j.readyState){var k=!1;j.onreadystatechange=function(){k||"loaded"!=this.readyState&&"complete"!=this.readyState||(k=!0,i())}}j.src=processURL(c.model.getConfig().url),F._.is.platform.ios||F._.is.platform.android||c.getHoverTracker(c.dom,{moveElement:b.body}),b.body.style.padding="0",b.body.style.margin="0";var l=b.createElement("div");l.id=g,b.body.appendChild(l),b.body.appendChild(j),c.trigger("domReady")},b.write('<!DOCTYPE html><body style="margin:0px;padding:0px;" onload="document._l();"></body>'),b.close()},openWindow:function(a,b,c){var d=this,e=document.createElement("a");e.setAttribute("href",a),e.setAttribute("target",b);var f=navigator.userAgent.match(/Android (\d+(?:\.\d+)+)/i),g=f&&2==f.length&&"2"==f[1].charAt(0),h=this.model.baseParent||this.model,i=h.getConfig()&&h.getConfig().oob;if(i&&F.Metrics.loadImageTrackingUrl(i,{},!0),F._.is.platform.ios||0===a.indexOf("tel:")||0===a.indexOf("sms:")||0===a.indexOf("mailto:"))e.click(),d.trigger("openWindow",{url:a,target:b,specs:c});else if(g){var j=document.createEvent("HTMLEvents");j.initEvent("click",!0,!0),e.dispatchEvent(j),d.trigger("openWindow",{url:a,target:b,specs:c})}else F.TouchView.__super__.openWindow.call(this,a,b,c)}}),"undefined"==typeof F&&(F={}),F.BackupImageView=F.AbstractView.extend({isBackupImage:!0,constructor:function(a){F.AbstractView.prototype.constructor.call(this,a)},renderTo:function(a){var b=this,c=b.config.width,d=b.config.height,e=b.model.getAllVariablesMap(),f=F._.variableReplacement(b.model.getConfigValue("wbx.backupImageLink")||"",e),g=F._.variableReplacement(b.model.getConfigValue("wbx.backupImage")||"",e);g&&(g=F.URLFactory.getProxiedImageUrl(g,{maxWidth:c,maxHeight:d})),b.dom=F._.make("div");var h=F._.make("img",{attributes:{src:g,height:d,width:c,border:0}});b.dom.appendChild(h),a.innerHTML=F._.toElementString(b.dom);var i=a.firstChild;if(i.firstChild.onload=function(){b.trigger("renderComplete",b)},b.getHoverTracker(i),f){var j=F._.is.browser.msie?"mouseup":F._.is.browser.mozilla||F._.is.browser.safari?"click":"mousedown";b.clickthroughFn=function(){var a=b.model.getConfig()&&b.model.getConfig().oob;a&&F.Metrics.loadImageTrackingUrl(a,{},!0),f&&b.doClickThrough(f,"Backup Image")},i.style.cursor="pointer",F._.addEvent(i,j,b.clickthroughFn)}return b.stylePinned&&b.stylePinned(a),b}}),"undefined"==typeof F&&(F={}),F.TouchInstanceMixin={events:{renderReady:"renderTouch",targetReady:"appendFragment"},supports:{mraid:!1,admob:!1,vpaid:!1,safeFrame:!1},asyncDependencies:{},renderTouch:function(a,b){var c=this;b=b||{},F.VPAIDInterface&&(c.supports.vpaid=F.VPAIDInterface.getInterface(c));try{window.parent.$sf&&window.parent.$sf.ext&&(null!==c.viewMixins.SafeFrameViewMixin||view.model.previous||view.model.baseParent)&&(c.supports.safeFrame=window.parent.$sf.ext)}catch(d){}for(var e=F._.getWindowChain(),f=0;f<e.length;f++)try{if(e[f].mraid){c.supports.mraid=e[f].mraid,c.env=F.MetricsConstants.ENVIRONMENT_TYPES.MRAID;break}if(e[f].admob){window.admob=e[f].admob,c.supports.admob=!0;break}}catch(d){}var g=!F._.is.browser.webkit&&!F._.is.platform.ios&&(!F._.is.browser.msie||F._.is.browser.msie&&F._.is.browser.version<9)&&(!F._.is.browser.mozilla||F._.is.browser.mozilla&&F._.is.browser.version<15&&!("transition"in window.document.body.style)&&!("transform"in window.document.body.style))||c.expansionDisabled&&F._.is.truly(c.getConfigValue("wbx.backupImgExpandFallback"))||!("addEventListener"in window);if(g&&!F._.is.truly(c.scalingReq))return c.trigger("viewInit",{subtype:F.MetricsConstants.EventSubtypes.IMPRESSION_BACKUP}),c.view=new F.BackupImageView({model:c,width:c.config.appWidth,height:c.config.appHeight}).renderTo(a),void c.trigger("viewReady");if(c.supports.admob){var h=c.getConfigValue("stage");h&&h.id&&c.getConfig().stage>0&&(c.unbindPrefix("metrics"),F.StagesMixin.attachChildMetrics(c,c,F.MetricsConstants.Keys.SCOPE,h.id));var i=window.FLITE.config&&window.FLITE.config[c.guid]&&window.FLITE.config[c.guid].mixin&&window.FLITE.config[c.guid].mixin[c.getConfig().widgetPrototype]&&window.FLITE.config[c.guid].mixin[c.getConfig().widgetPrototype].admob;if(!admob.opener.isOverlayShowing()&&i&&i.interstitial)return void window.admob.events.addEventListener("onshow",function(){c.trigger("viewInit"),c.assembleView(a,b)})}else if(c.supports.mraid){var j=function(d){d&&(c.trigger("viewInit"),c.assembleView(a,b)),c.supports.mraid.removeEventListener("viewableChange",j)};if(!c.supports.mraid.isViewable()&&"expanded"!=c.supports.mraid.getState())return void c.supports.mraid.addEventListener("viewableChange",j)}else if(c.supports.vpaid&&!c.supports.vpaid._hasStarted()){c.env=F.MetricsConstants.ENVIRONMENT_TYPES.VPAID;var k=function(){c.unbind("vpaid.initAd",k),c.trigger("viewInit"),c.assembleView(a,b)};return void c.bind("vpaid.initAd",k)}c.trigger("viewInit"),c.assembleView(a,b)},assembleView:function(a,b){var c=this,d=c.getConfigValue("components");if(d){var e=F._.keys(d);F._.each(c.scriptDeps,function(a,b){for(var c=0,f=e.length;f>c;c++){var g=d[e[c]];g.guid===b&&(g.info.scriptContent=a)}})}var f=function(a){delete c.asyncDependencies[a]};c.bind("asyncInit",function(a,b){c.asyncDependencies[a]=1,b&&setTimeout(function(){f(a)},5e3)}),c.bind("asyncComplete",f),c.view=new F.TouchView({model:this});var g=function(){0===F._.keys(c.asyncDependencies).length?c.trigger("render",c.view,b):setTimeout(g,10)};c.view.bound("platformMixinSetup")?(c.view.bind("platformMixinReady",function(){g()}),c.view.trigger("platformMixinSetup")):g()},appendFragment:function(){this.view.appendFragment()}};},function(F) {var initialLayerEvent="intialLayer";F.InitialLayerMixin={events:{pre_render:"initInitialLayer"},initInitialLayer:function(a,b){var c=this,d=c.model.getConfigValue("flt.preloader"),e="AD_TOUCH"===c.model.getConfig().widgetPrototype;d&&d.trigger&&"nopreloader"!=d.trigger?(c.renderInitialLayer(a,d),b.preserveTarget=!0,e&&c.model.unbind("targetReady"),c.bind(initialLayerEvent,function(){c.unbind(initialLayerEvent),c.renderTo(c.target,b),e&&(c.target.parentNode||c.targetParent)&&c.appendFragment(),c.model.trigger("viewReady")})):d&&!d.trigger&&c.renderInitialLayer(a,d)},renderInitialLayer:function(a,b){var c=this;b=b||{},b.preserveTarget||F._.clear(a),c.unbind("renderTo"),c.target=a;var d=!1,e=!1,f=!1,g=b.backgroundImage,h=b.backgroundColor,i=b.clickthrough,j=b.trigger,k=b.mouseOverDelay?F._.variableReplacement(b.mouseOverDelay,c.model.getAllVariablesMap()):0;k>0&&(e=!0,setTimeout(function(){e=!1,f&&B()},1e3*k));var l=c.config.width?c.config.width:c.model.getConfig().appWidth,m=c.config.height?c.config.height:c.model.getConfig().appHeight,n=F._.make("div"),o=null;if(F._.extend(n.style,{width:l+"px",height:m+"px",display:"inline-block",cursor:"pointer",textAlign:"left"}),g)if(g=F._.variableReplacement(g,c.model.getAllVariablesMap()),g.indexOf(".html")>-1||g.lastIndexOf("/")===g.length-1)F._.is.secureLocation()&&F.URLS.staticHost&&g.indexOf(F.URLS.staticHost)>0&&(g=F.URLFactory.getSecureUrl(g)),h&&F._.extend(n.style,{backgroundColor:h}),n.appendChild(F._.make("iframe",{attributes:{src:g,width:l,height:m,frameborder:0,allowTransparency:"true",scrolling:"no"}})),i&&(o=F._.make("div"),F._.extend(o.style,{width:l+"px",height:m+"px",position:"relative",cursor:"pointer",marginTop:"-"+m+"px",opacity:".001"}),n.appendChild(o));else if(c.supportFlash&&g.indexOf(".swf")>0)F._.is.secureLocation()&&F.URLS.staticHost&&g.indexOf(F.URLS.staticHost)>0&&(g=F.URLFactory.getSecureUrl(g)),n.appendChild(c.createFlashElement(g,c,{flashvars:"",plugins:{scale:"noborder",wmode:h?"opaque":"transparent",bgcolor:h||"FFFFFF"}}));else{h&&F._.extend(n.style,{backgroundColor:h});var p=F.URLFactory.getProxiedImageUrl(g,{maxWidth:l,maxHeight:m,type:"DOWNSCALE"});n.appendChild(F._.make("img",{attributes:{src:p}}))}c.preloader=n;var q,r={detail:"Initial Layer"},s={mode:F.MetricsConstants.EventModes.CLICK,subtype:F.MetricsConstants.EventSubtypes.INTERACTION_SELECT},t={mode:F.MetricsConstants.EventModes.ROLLOVER,subtype:F.MetricsConstants.EventSubtypes.INTERACTION_HOVER},u="click",v="mousedown",w="mouseover",x=function(){c.doClickThrough(F._.variableReplacement(i,c.model.getAllVariablesMap()),r.detail)};(j!=w||k>0)&&(q=c.getHoverTracker(c.preloader));var y=j===u?v:w,z=F._.is.browser.msie?"mouseup":F._.is.browser.mozilla||F._.is.browser.safari?u:v,A=function(){d||(c.model.metrics.trigger=F.Metrics.logInteraction(c.model,F._.extend(r,j===u?s:t)),d=!0),f=!0,e||B()},B=function(){(j!=w||k>0)&&q&&(q.timer?c.model.metrics.hoverStart=q.start:q.sequence&&(c.model.metrics.hoverSeq=q.sequence),q.disable()),F._.removeEvent(n,z,x),F._.removeEvent(n,y,A),c.trigger(initialLayerEvent)};if(c.target.appendChild(n),F.Metrics.logNotation(c.model,{subtype:F.MetricsConstants.EventSubtypes.NOTATION_UPDATE,context:c.model.impressionSequence||0,detail:"Initial Layer Ready"}),"pageload"===j){var C=function(){b.delay=F._.variableReplacement(b.delay,c.model.getAllVariablesMap()),setTimeout(B,b.delay?1e3*parseFloat(b.delay):0)},D=F._.getExpandableWindow(),E=setInterval(function(){"complete"===D.document.readyState&&(C(),clearInterval(E))},10);"complete"===D.document.readyState?C():F._.addEvent(D,"load",C)}else j&&F._.addEvent(n,y,A);i&&(!j||"pageload"===j||"mouseover"===j&&k>0)&&F._.addEvent(o||n,z,x),c.bind("destroy",function(){var a=c.preloader.parentNode;a&&a.removeChild(c.preloader),delete c.preloader});var G,H=c.target.ownerDocument.defaultView||c.target.ownerDocument.parentWindow,I=function(a,b){a.style.top=b.offsetTop+"px",a.style.left=b.offsetLeft+"px"},J=function(){var a=c.dom,b=c.preloader;void 0!==G&&clearInterval(G),a&&b&&(G=F._.watch(function(){return b.offsetLeft},function(){I(a,b)},8))};c.addEvent(H,"resize",J),c.model.trigger("preloaderReady")}},this.viewMixins||(this.viewMixins={}),this.viewMixins.InitialLayerMixin="InitialLayerMixin";},function(F) {F.DomUtils={getViewportHeight:function(a){a||(a=document);var b=-1,c=a.compatMode;return b=!c&&!F._.is.browser.msie||F._.is.browser.opera?window.innerHeight?window.innerHeight:0:"CSS1Compat"===c?a.documentElement.clientHeight:a.body.clientHeight},getViewportWidth:function(a){a||(a=document);var b=-1,c=a.compatMode;return b=c||F._.is.browser.msie?"CSS1Compat"===c?a.documentElement.clientWidth:a.body.clientWidth:window.innerWidth?window.innerWidth:0},getDocumentHeight:function(a){return a=a||document,Math.max(Math.max(a.body.scrollHeight,a.documentElement.scrollHeight),Math.max(a.body.offsetHeight,a.documentElement.offsetHeight),Math.max(a.body.clientHeight,a.documentElement.clientHeight))},getDocumentWidth:function(a){return a=a||document,Math.max(Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),Math.max(a.body.offsetWidth,a.documentElement.offsetWidth),Math.max(a.body.clientWidth,a.documentElement.clientWidth))}};var getScrollX=function(a){a=a||window;var b=a?a.pageXOffset:0;return Math.max(a.document.documentElement.scrollLeft,a.document.body.scrollLeft,b)},getScrollY=function(a){a=a||window;var b=a?a.pageYOffset:0;return Math.max(a.document.documentElement.scrollTop,a.document.body.scrollTop,b)},getWebPageScrollMetrics=function(a,b){a=a||window;var c=b.getBoundingClientRect(),d=F.DomUtils.getViewportHeight(a.document),e=F.DomUtils.getViewportWidth(a.document),f=c.left+c.width,g=c.top+c.height;return{viewportWidth:e,viewportHeight:d,viewportXPixels:f,viewportYPixels:g}},getMRAIDPageScrollMetrics=function(a,b){var c=b&&b.getScreenSize&&b.getScreenSize(),d=c&&c.width||F.DomUtils.getViewportWidth(a.document),e=c&&c.height||F.DomUtils.getViewportHeight(a.document);return{viewportWidth:d,viewportHeight:e,viewportXPixels:b&&b.isViewable()?0:1e5,viewportYPixels:b&&b.isViewable()?0:1e5}},getWebViewableMetrics=function(a,b){a=a||window;var c=F._.extend({},b.getBoundingClientRect()),d=F.DomUtils.getViewportWidth(a.document),e=F.DomUtils.getViewportHeight(a.document),f=Math.max(c.top,0),g=Math.min(e,c.bottom),h=isHidden()?0:g-f,i=0>=h?0:h/c.height,j=Math.max(c.left,0),k=Math.min(d,c.right),l=isHidden()?0:k-j,m=0>=l?0:l/c.width,n=parseFloat((i*m*100).toFixed(2)),o=d-k,p=e-g,q={x:l,y:h,remainderX:o,remainderY:p,percent:n,region:{top:n>0&&c.top>=0,bottom:n>0&&c.bottom<=e,left:n>0&&c.left>=0,right:n>0&&c.right<=d}};return q},getMRAIDViewableMetrics=function(a,b,c){return{x:a?b:0,y:a?c:0,percent:a?100:0,region:{top:a,bottom:a,left:a,right:a}}},getHiddenProp=function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null},isHidden=function(a){a=a||window;var b=getHiddenProp();return b?a.document[b]:!1},requestAnimationFrame=function(a){return"requestAnimationFrame"in window?window.requestAnimationFrame(a):setTimeout(a,1e3/30)},cancelAnimationFrame=function(a){return"cancelAnimationFrame"in window?window.cancelAnimationFrame(a):clearTimeout(a)};F.ViewabilityMixin={viewabilityCallbacks:[],scrollPositionCallbacks:[],events:{pre_render:"initViewability",renderComplete:"enableViewability"},initViewability:function(){var a=this;a.model.bind("viewReady",function(){a.onReady()})},onReady:function(){var a=this,b=a.model.supports.mraid,c=F._.getExpandableWindow(),d=(a.getExpandableAnchorInsertionPoint(),a.model.getConfig().appWidth),e=a.model.getConfig().appHeight,f=a.getViewabilityPositionData();if(f)var g=f.scrollX,h=f.scrollY,i=f.viewableMetrics,j=i.percent,k=i.x,l=i.y,m=i.region,n=f.scrollMetrics,o=n.viewportXPixels,p=n.viewportYPixels,q=g,r=h;a.processViewabilityCallbacks=function(b,c,d){if(f=a.getViewabilityPositionData()){q=f.scrollX,r=f.scrollY,i=f.viewableMetrics;var e={userInitiated:c,focusInitiated:d,toX:q,fromX:c?g:0,toY:r,fromY:c?h:0,toPercent:i.percent,fromPercent:c?j:0,toPixelsX:i.x,fromPixelsX:c?k:0,toPixelsY:i.y,fromPixelsY:c?l:0,toRegion:i.region,fromRegion:c?m:{},remainderX:i.remainderX,remainderY:i.remainderY,trigger:a.model.impressionSequence};F._.each(a.viewabilityCallbacks,function(c){b&&c!==b||c.apply(a,[e])}),c&&(g=q,h=r,j=i.percent,k=i.x,l=i.y,m=i.region)}},a.processScrollPositionCallbacks=function(b,c,d){if(f=a.getViewabilityPositionData()){q=f.scrollX,r=f.scrollY,n=f.scrollMetrics;var e={userInitiated:c,focusInitiated:d,viewportWidth:n.viewportWidth,viewportHeight:n.viewportHeight,toX:q,fromX:c?g:0,toY:r,fromY:c?h:0,toViewportXPixels:n.viewportXPixels,fromViewportXPixels:c?o:0,toViewportYPixels:n.viewportYPixels,fromViewportYPixels:c?p:0,trigger:a.model.impressionSequence};F._.each(a.scrollPositionCallbacks,function(c){b&&c!==b||c.apply(a,[e])}),c&&(g=q,h=r,o=n.viewportXPixels,p=n.viewportYPixels)}};var s={},t=function(a){return function(){s[a]||(s[a]=!0,u(),requestAnimationFrame(function(){s[a]=!1}))}},u=function(){a.processViewabilityCallbacks(null,!0,!1),a.processScrollPositionCallbacks(null,!0,!1)},v=function(){a.processViewabilityCallbacks(null,!0,!0),a.processScrollPositionCallbacks(null,!0,!0)};(!a.model.expansionDisabled||F._.is.inConsole())&&(a.addEvent(c,"scroll",t("scroll")),a.addEvent(c,"resize",t("resize")));var w=getHiddenProp();if(w){var x=w.replace(/[H|h]idden/,"")+"visibilitychange";a.addEvent(c.document,x,v)}if(a.bind("renderComplete",function(){(!b||b.isViewable())&&a.processViewabilityCallbacks(null,!1,!1),a.processScrollPositionCallbacks(null,!1,!1)}),a.bind("geometryChanged",function(b){a.viewTriggerData=b,u()}),b?a.addEvent(b,"viewableChange",function(){u()}):(F._.is.platform.android||F._.is.platform.ios)&&a.addInterval(function(){u()},100),!a.model.previous&&!a.model.baseParent){var y=a.model.supports.vpaid?2:a.model.supports.mraid?0:1,z=50;d*e>=242500&&(z=30);var A=F._.once(function(b,c){var d=b&&b.info;F.Metrics.logNotation(a.model,{subtype:F.MetricsConstants.EventSubtypes.NOTATION_IMPRESSIONDATA,detail:"Viewable Impression",eventData:{scrollX:d.toX,scrollY:d.toY,pixelsVisible:d.toPixels,percentVisible:d.toPercent,timeThreshold:y,percentThreshold:z},trigger:c})}),B=a.getViewabilityCallback(function(b){A(b,a.model.impressionSequence),a.removeViewabilityListener(B)},this,{area:z,areaUnit:"pct",threshold:y});a.addViewabilityListener(B);var C=!1;a.model.bind("metrics:requestData",function(b){var c=a.getViewabilityPositionData();if(c&&!C&&b.data&&b.data.it===F.MetricsConstants.EventTypes.INTERACTION){var d=c.viewableMetrics;A({info:{toX:c.scrollX,toY:c.scrollY,toPixels:d.y,toPercent:d.percent}},b.data.sq),C=!0}})}},enableViewability:function(){this.viewabilityEnabled=!0,this.processViewabilityCallbacks&&this.processViewabilityCallbacks(),this.processScrollPositionCallbacks&&this.processScrollPositionCallbacks()},getViewabilityCallback:function(a,b,c){var d=this,e=F._.extend({areaUnit:"pct"},c),f=Number(d.model.getConfig().appHeight);e.area||(e.area="pct"===e.areaUnit?50:f/2);var g=null,h="out"===e.direction;return function(d){var i="out"===e.direction,j=!1;if(i?e.region&&d.toRegion[e.region]||("px"===e.areaUnit&&f-d.toPixelsY>=e.area||"pct"===e.areaUnit&&100-d.toPercent>=e.area)&&(j=!0):(!e.region||d.toRegion[e.region])&&("px"===e.areaUnit&&(d.toPixelsY>=e.area||d.toPixelsY+d.remainderY>=e.area)||"pct"===e.areaUnit&&d.toPercent>=e.area)&&(j=!0),!h&&j){var k=isNaN(e.threshold)?1:parseInt(e.threshold,10),l=function(){g=null,a.apply(b,[{info:d,options:c}])};k?g=setTimeout(l,1e3*k):l()}else j||(clearTimeout(g),g=null);h=j}},getScrollPositionCallback:function(a,b,c){var d=this,e=F._.extend({},c),f=0,g=0,h=0,i=0,j=Number(d.model.getConfig().appWidth),k=Number(d.model.getConfig().appHeight);return function(d){var l="horizontal"!==e.orientation;if("viewport"===e.mode){var m={};F._.each(["top","bottom","left","right"],function(a){m[a]=0;var b="offset"+a.substr(0,1).toUpperCase()+a.substr(1);if(e[b]){var c=e[b+"Unit"]||"px";if("px"===c)m[a]=e[b];else{var f="top"===a||"bottom"===a?d.viewportHeight:d.viewportWidth;m[a]=f*(e[b]/100)}}});var n=d.viewportWidth+j,o=d.viewportHeight+k,p=e.pageDirection||"top",q=0,r=0;if("middle"===p){var s=n/2,t=o/2;d.toViewportXPixels<s?q=(d.toViewportXPixels-m.left)/(s-m.left):d.toViewportXPixels>s&&(q=1-(d.toViewportXPixels-s)/(s-m.right)),d.toViewportYPixels<t?r=(d.toViewportYPixels-m.top)/(t-m.top):d.toViewportYPixels>t&&(r=1-(d.toViewportYPixels-t)/(t-m.bottom))}else q=(d.toViewportXPixels-m.left)/(n-m.left-m.right),r=(d.toViewportYPixels-m.top)/(o-m.top-m.bottom);q=Number(Math.max(0,Math.min(q,1)).toFixed(4)),r=Number(Math.max(0,Math.min(r,1)).toFixed(4)),"left"===p&&(q=1-q),"top"===p&&(r=1-r),(!l&&q!==f||l&&r!==g)&&a.apply(b,[{info:F._.extend(d,{value:l?r:q}),options:c}]),f=q,g=r}else if("page"===e.mode){var u=e.thresholdAmount||100,v=e.direction||"prev",w=Math.floor((l?d.toY:d.toX)/u),x=l?i:h;if(w>x&&"next"===v||x>w&&"prev"===v)for(var y=Math.abs(w-x);y--;)a.apply(b,[{info:F._.extend(d,{value:w}),options:c}]);l?i=w:h=w}}},addViewabilityListener:function(a){var b=this;b.viewabilityCallbacks.push(a),b.viewabilityEnabled&&b.processViewabilityCallbacks(a,!1)},removeViewabilityListener:function(a){var b=this,c=[];F._.each(b.viewabilityCallbacks,function(b){b!==a&&c.push(b)}),b.viewabilityCallbacks=c},addScrollPositionListener:function(a){var b=this;b.scrollPositionCallbacks.push(a),b.viewabilityEnabled&&b.processScrollPositionCallbacks(a,!1)},removeScrollPositionListener:function(a){var b=this,c=[];F._.each(b.scrollPositionCallbacks,function(b){b!==a&&c.push(b)}),b.scrollPositionCallbacks=c},getViewabilityPositionData:function(){var a=this,b=a.model.supports.mraid,c=F._.getExpandableWindow(),d=a.getExpandableAnchorInsertionPoint();return a.model.supports.safeFrame?a.viewTriggerData:{scrollX:getScrollX(c),scrollY:getScrollY(c),viewableMetrics:b?getMRAIDViewableMetrics(b.isViewable(),a.model.getConfig().appWidth,a.model.getConfig().appHeight):getWebViewableMetrics(c,d),scrollMetrics:b?getMRAIDPageScrollMetrics(c,b):getWebPageScrollMetrics(c,d)}}},this.viewMixins||(this.viewMixins={}),this.viewMixins.ViewabilityMixin="ViewabilityMixin";},function(F) {F.CssInheritanceMixin={events:{domReady:"applyCssInheritance"},applyCssInheritance:function(){var a=this,b=a.model.getConfigValue("flt.cssInheritance"),c=a.model.getConfigValue("css");if(b||c){var d=a.dom&&a.dom.contentWindow&&a.dom.contentWindow.document;if(!d)return;var e=d.getElementsByTagName("head")[0],f=function(b){b&&a.bind("destroy",function(){e.removeChild(d.getElementById(b))})};if(b&&f(a.injectCssFile(b.css_url)),c){if(c.css_links)try{var g=JSON.parse(c.css_links);F._.each(g,function(b){f(a.injectCssFile(b))})}catch(h){}if(c.css_blocks)try{var i=JSON.parse(c.css_blocks),j=F._.is.secureLocation()?"https":"http",k=i.join(" ").replace(/\"\/\/fast.fonts.net/g,'"'+j+"://fast-fonts-net.flite.com").replace(/\"\/\/apiadn.fonts.com/g,'"'+j+"://apiadn-fonts-com.flite.com");f(a.injectCssStyle(k))}catch(h){}}}},injectCssFile:function(a,b){if(a)try{b=b||this.dom.contentWindow.document;var c=F._.uniqueId("flt_css"),d=b.getElementsByTagName("head")[0];0===a.indexOf("//")&&(a="http:"+a);var e=F._.make("link",{doc:b,attributes:{id:c,rel:"stylesheet",type:"text/css",href:F._.is.secureLocation()?F.URLFactory.getSecureUrl(a):a}});return d.appendChild(e),c}catch(f){}},injectCssStyle:function(a,b){if(a)try{b=b||this.dom.contentWindow.document;var c=F._.uniqueId("flt_css"),d=F._.make("style",{doc:b,attributes:{id:c}}),e=b.getElementsByTagName("head")[0];return e.appendChild(d),d.innerHTML=a,c}catch(f){}}},this.viewMixins||(this.viewMixins={}),this.viewMixins.CssInheritanceMixin="CssInheritanceMixin";},function(F) {"undefined"==typeof F&&(F={});var testDomain,updateDocumentDomain=function(){var a=F._.getExpandableWindow(),b=function(){return a!==window.top&&a!==window?a:window.top};testDomain=function(){try{if((b().document||b().document.domain)&&b().document.location.href)return!0}catch(a){return!1}return!0};var c=function(){var a=document.domain.split(".");a&&a.length>0&&(a.shift(),document.domain=a.join("."))};try{testDomain()||(document.domain=document.domain,testDomain()||(c(),testDomain()||(c(),testDomain()||(window.FLITE.inFIF=!1))))}catch(d){window.FLITE.inFIF=!1}},pollDocumentDomain=function(a){var b=F._.watch(testDomain,updateDocumentDomain,100);a.bind("destroy",function(){clearInterval(b)}),setTimeout(function(){clearInterval(b)},1e4)},watchDocumentDomain=function(a){if(window.FLITE.inFIF&&window!==top){if(window.postMessage){var b=function(a,b){var c=F._.make("script",{doc:a,attributes:{id:"dd-"+top.FLITE_DD.key}});c.text="("+b.toString()+")();var flite_s=document.getElementById('dd-"+top.FLITE_DD.key+"');if(flite_s)document.body.removeChild(flite_s);",a.body.appendChild(c)};try{if(!top.FLITE_DD){top.FLITE_DD={wins:[],key:+new Date+Math.floor(1e5*Math.random()),domain:top.document.domain,i:null};var c=function(){var a,b=document,c=window.FLITE_DD,d="domain";c.i=setInterval(function(){if(b[d]!==c[d])for(c[d]=b[d],a=0;a<c.wins.length;a++)c.wins[a]!==window&&(c.wins[a].postMessage({dd:c[d],dk:c.key},"*"),clearInterval(c.i))},250)};b(top.document,c)}var d=function(){var a=window,b=document;if(!a.FLITE_DD){a.FLITE_DD={key:top.FLITE_DD.key,cb:function(c){c.data.dk===a.FLITE_DD.key&&c.data.dd&&(b.domain=c.data.dd,a.F&&a.F._&&(a.F._.expandWindow=null))}};var c="message";a.addEventListener?a.addEventListener(c,a.FLITE_DD.cb):a.attachEvent("on"+c,a.FLITE_DD.cb)}},e=F._.getWindowChain();return F._.each(e,function(a){a!==top&&a!==parent&&b(a.document,d)}),void(top.FLITE_DD.wins=F._.unique(top.FLITE_DD.wins.concat(e)))}catch(f){}}pollDocumentDomain(a)}};F.FifInstanceMixin={isFifInstance:!0,setConfigFromQueryString:function(a){a=a||window.location.href;var b=F._.fromQueryString(a),c="false"===b.f;window.FLITE.inFIF=F._.is.fif()&&!c,window.FLITE.inFIF&&(updateDocumentDomain(),watchDocumentDomain(this)),this.expansionDisabled=!window.FLITE.inFIF;var d=this.guid,e={};if(window.FLITE.config=window.FLITE.config||{},window.FLITE.config[d]=window.FLITE.config[d]||{},!window.FLITE.safeFrame){var f,g={},h=function(a){0===f.indexOf(a+".")&&(g[a]=g[a]||{},g[a][f.substr(a.length+1)]=b[f])};for(var i in b)b.hasOwnProperty(i)&&(f=i,F._.each(["ed","pd","cd","vd","cvd"],h));b.p&&(e.ct=b.p),b.oob&&(e.oob=b.oob),b.at&&(e.at=b.at),b.cb&&(e.cb=b.cb),b.ts&&(e.ts=b.ts),e=F._.extend(e,g),g.vd&&(window.FLITE.config[d].vd=window.FLITE.config[d].vd||{},this.setConfigParamOverrides(F._.prefix(F._.extend(window.FLITE.config[d].vd,g.vd),"var_")),F._.extend(this.config.configParams,this.configParamOverrides),this.configParamOverrides=null)}window.FLITE.config[d]=F._.defaults(F._.extend(window.FLITE.config[d],e),{expansionDisabled:this.expansionDisabled})}};},function(F) {"undefined"==typeof F&&(F={}),function(){function a(){this._callbacks=[]}a.prototype.then=function(b,c){var d;return this._isdone?d=b.apply(c,this.result):(d=new a,this._callbacks.push(function(){var a=b.apply(c,arguments);a&&"function"==typeof a.then&&a.then(d.done,d)})),d},a.prototype.done=function(){this.result=arguments,this._isdone=!0;for(var a=0;a<this._callbacks.length;a++)this._callbacks[a].apply(null,arguments);this._callbacks=[]};var b=null,c={},d={},e=!1,f=null,g={},h={},i=["title","headline","url","image1","thumbnail","description","location","id"],j=function(a,b,c,d,f,g){if(F._.isFunction(f.data)){var h=f.data();f.data=h||f.data}if(F._.isArray(f.data))if(0===f.data.length)b.splice(g,1);else{var i=!1;F._.each(f.data,function(a){if(("latitude"in a||"Latitude"in a)&&("longitude"in a||"Longitude"in a)){var b,c,d=parseFloat(a.latitude||a.Latitude),e=parseFloat(a.longitude||a.Longitude);if(!isNaN(d)&&!isNaN(e)){if(a.coordinates=[d,e].join(","),a.distanceMiles=0,a.distanceKM=0,f.dataFilter&&F._.isArray(f.dataFilter)&&f.dataFilter.length>0&&F._.each(f.dataFilter,function(a){if("location"===a.type){var d=k(a);b=d.latitude,c=d.longitude}}),f.dataFilter&&!F._.isArray(f.dataFilter)&&"false"!==f.dataFilter){var g=k(f.dataFilter);b=g.latitude,c=g.longitude}isNaN(b)||isNaN(c)||(a.distanceMiles=A(3961,b,c,d,e),a.distanceKM=A(6373,b,c,d,e),i=!0)}}}),"true"===f.dataRandomize?f.data=t(f.data):i&&(f.data=F._.sortBy(f.data,"distanceMiles"),F._.each(f.data,function(a,b){a.index=b+1}));var j=r([f]),l=1,m=f.data.length;i&&f.dataStartItem&&(l=Math.max(1,f.dataStartItem-1)),f.dataMaxItems&&(m=Math.min(f.data.length,f.dataMaxItems)),F._.each(f.data,function(a){a.count=m});for(var n=l;m>n;n++){var o=F._.deepClone(f);if(o.data=f.data[n],o.prototypeId=f.id,e){var p=isNaN(o.alpha)?1:o.alpha;o.alpha=Math.min(p,.4)}s([o],n,a,o.dataId,o.dataKey,o.data,c,d,j),b.splice(g,0,o)}f.data=f.data[0],s([f],0,a,f.dataId,f.dataKey,f.data,c,d)}},k=function(a){var b;return a&&a.options&&"latitude"in a.options&&"longitude"in a.options&&(b={latitude:parseFloat(a.options.latitude),longitude:parseFloat(a.options.longitude)}),b},l=function(b,c,d,e){var f=new a,i=0;F._.each(g,function(a){a&&a.length&&i++});var k=function(a){a&&i--,0===i&&f.done()},l=function(a,f){g[f]&&g[f].length?n(w(a,f,function(a){h[f]=a&&a.message||[];var g=function(a,b){for(var c=a.length,f=0;c>f;f++){var h=a[f];j(b,a,d,e,h,f),q(g,h,h.id),f+=a.length-c,c=a.length}};g(c,b),k(!0)}),null,!0):k()};return l(F.URLFactory.getProxiedDataAssetUrl(),"proxy"),l(F.URLFactory.getDataAPIDataAssetUrl(),"dataApi"),f},m=function(b,d,e,f,g){var h=new a,i=d.length;return F._.each(d,function(k,l){var m=new a;m.then(function(){i--,0===i&&h.done()});var p=function(){o(k,e,f,g).then(function(){j(b,d,e,f,k,l),m.done()})};if(!k.data||"string"!=typeof k.data||0!==k.data.indexOf("http")&&0!==k.data.indexOf("$"))p();else{k.dataId=["data",k.id].join("-");var q=F._.variableReplacement(k.data,g);if(0!==q.indexOf("http"))k.data=[],p();else if(q.indexOf(F.URLS.proxy)>=0&&q.indexOf("/datasource_batch/")>0)k.data=v(k,"proxy"),p();else if(q.indexOf(F.URLS.dataApi)>=0&&q.indexOf("/service/ds/get/")>0)k.data=v(k,"dataApi"),p();else{var r=function(a){a&&(a.message&&F._.isArray(a.message)&&a.message.length&&a.message[0].feed&&a.message[0].feed.entries?k.data=a.message[0].feed.entries:a.feed.entries?k.data=a.feed.entries:a.feed&&(k.data=[a.feed.Result]),c[q]=F._.deepClone(k.data)),p()},s=q.indexOf("datasource_preview")>0,t=q.indexOf("/cas/")>0;q=x(q,k,s?r:null),k.dataKey=q,n(q,s?null:r,!t)}}}),h},n=function(a,c,d){if(d&&(a=F._.toQueryString({token:F.token},a)),c){var e={json:!0,minify:!1,raw:!0,callback:b.getCallbackName(c)};a=F.URLFactory.getProxiedFeedUrl(a,e)}b.loadUncachedScript(a)},o=function(b,c,d,e){var f=new a;if(b.children)if(F._.isArray(b.children))m(b.id,b.children,c,d,e).then(function(){f.done()});else{var g=0;for(var h in b.children)b.children.hasOwnProperty(h)&&b.children[h]&&b.children[h].length&&g++;if(0===g)f.done();else{var i=function(){g--,0===g&&f.done()};for(h in b.children)b.children.hasOwnProperty(h)&&b.children[h]&&b.children[h].length&&m(b.id,b.children[h],c,d,e).then(i)}}else f.done();return f},p=function(a){return a=a||{},F._.chain(a).keys().each(function(b){a[b.toLowerCase()]=a[b]}),F._.prefix(a,"data_")},q=function(a,b){if(b.children){var c=Array.prototype.slice.call(arguments,2);F._.isArray(b.children)?(c.unshift(b.children),a.apply(this,c)):F._.each(b.children,function(b){a.apply(this,[b].concat(c))})}},r=function(a,b){return b||(b={}),F._.each(a,function(a){b[a.id]=a.id,q(r,a,b)}),b},s=function(a,b,c,d,e,g,h,i,j){F._.each(a,function(a){a.data="string"==typeof a.data&&0===a.data.indexOf("${data_")?g[a.data.substr(7,a.data.length-8)]||[]:a.data&&F._.isObject(a.data)?F._.extend({},g,a.data):F._.extend({},g);var k=p(a.data);if(b){var l="_"+b;f[a.id]||(f[a.id]=[]);var m=a.id,n=a.id+l;if(f[a.id].push(n),a.id=n,a.parentId=c,a.prototypeId=m,a.component){var o=a.component+l,r=F._.deepClone(h[a.component]);r.info&&(r.info.scriptContent=h[a.component].info.scriptContent),k=p(a.data),z(r.localConfig,k),r.info&&z(r.info.configParams,k),h[o]=r,a.component=o}}else a.component&&(z(h[a.component].localConfig,k),z(h[a.component].info)&&z(h[a.component].info.configParams,k));a.triggers&&F._.each(a.triggers,function(b){var c=b.paths;c&&F._.each(c,function(b,d){var e=b+a.id,f=F._.deepClone(i.paths[b]);f&&F._.each(f,function(b,c){var d=b+a.id;i.actions[d]=F._.deepClone(i.actions[b]),j&&j[i.actions[d].payload]&&(i.actions[d].payload+=l),z(i.actions[d],k),f[c]=d}),i.paths[e]=f,c[d]=e})});var t=B(a.data);t&&(a.contentData={name:t,id:a.dataId,group:a.dataKey||e,position:a.data.index}),a.label=z(a.label,k),a.thumbnail=z(a.thumbnail,k),q(s,a,b,a.id,d,e,a.data,h,i,j)})},t=function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},u=/guid\/([^\/]+)\/(rv\/([^\/]+))?/,v=function(a,b){var c=u.exec(a.data);if(c&&c.length){var d=x(c[0],a);a.dataKey=d;var e=F._.indexOf(g[b],d);return 0>e&&(g[b]=g[b]||[],g[b].push(d),e=g[b].length-1),function(){var a=e;return function(){return h[b]&&h[b][a]&&h[b][a].feed&&h[b][a].feed.entries}}()}return[]},w=function(a,c,d){var e=[];return F._.each(g[c],function(a,b){var c=(b?b+1:"")+"/$1$2";e.push(a.replace(/\/([^\/]*)(\/)?/g,c))}),e.push("wbx_callback"),e.push(b.getCallbackName(d)),a+e.join("/")},x=function(a,c,e){var f=[a];c.dataStartItem&&(f.push("start"),f.push(Number(c.dataStartItem)-1));var g=100,h=!1;if(c.dataFilter&&F._.isArray(c.dataFilter)&&c.dataFilter.length>0&&F._.each(c.dataFilter,function(a){if("location"===a.type&&a.options&&a.options.latitude&&a.options.longitude){var b=y(f,a);f=b.pathParts,h=b.locationFilter}if("keyValue"===a.type){var c=a.options;c&&(f.push("filter/"+encodeURIComponent(encodeURIComponent(a.type))),F._.each(c,function(a,b){f.push(b),f.push(F._.isArray(a)||F._.isObject(a)?encodeURIComponent(encodeURIComponent(JSON.stringify(a))):encodeURIComponent(encodeURIComponent(a)))}))}}),c.dataFilter&&!F._.isArray(c.dataFilter)&&"false"!==c.dataFilter&&c.dataFilter.options&&c.dataFilter.options.latitude&&c.dataFilter.options.longitude){var i=y(f,c.dataFilter);f=i.pathParts,h=i.locationFilter}if(c.dataMaxItems){var j=Number(c.dataMaxItems);f.push("max"),f.push(j),g=Math.max(100,j)}if("true"===c.dataRandomize&&"data"===c.dataRandomSet){var k=d[a];k||(k=Math.floor(Math.random()*g+1),d[a]=k),f.push("random"),f.push(k)}return e&&(f.push("wbx_callback"),f.push(b.getCallbackName(e))),f.join("/")},y=function(a,b){var c=parseFloat(b.options.latitude),d=parseFloat(b.options.longitude),e=!1;isNaN(c)||isNaN(d)||(a.push("filter/location"),a.push("longitude"),a.push(encodeURIComponent(+d.toFixed(1))),a.push("latitude"),a.push(encodeURIComponent(+c.toFixed(1))),e=!0);var f={locationFilter:e,pathParts:a};return f},z=function(a,b){var c=typeof a;if("undefined"===c||null===a)return a;try{"string"!==c?"object"===c&&F._.each(a,function(c,d){a[d]=z(c,b)},this):a=F._.variableReplacement(a,b)}catch(d){}return a},A=function(a,b,c,d,e){function f(a){return a*Math.PI/180}var g=f(b),h=f(d),i=f(d-b),j=f(e-c),k=Math.sin(i/2)*Math.sin(i/2)+Math.cos(g)*Math.cos(h)*Math.sin(j/2)*Math.sin(j/2),l=2*Math.atan2(Math.sqrt(k),Math.sqrt(1-k)),m=a*l;return m=m>=10?Math.ceil(m):.1>m?+m.toFixed(2):+m.toFixed(1)},B=function(a){var b,c=F._.find(i,function(b){return a[b]});return c&&(b=a[c]),b||"undefined"==typeof a.sourceIndex||(b="content-"+a.sourceIndex),b&&b.substr(0,100)},C=function(b){var c=this;c.view=b,c.fetchData=function(b,d,i,j,k,n){e=n,f={},h={},g={};var o=new a;if(F._.is.inConsole()){if(!d||!d.length)return o.done(),o;d=F._.deepClone(d),j=F._.deepClone(j);var p=F._.deepClone(i);for(var q in i)i.hasOwnProperty(q)&&"object"==typeof i[q]&&i[q].info&&(p[q].info.scriptContent=i[q].info.scriptContent);i=p}var r=c.view.model.convertDataAssets(k);return m(b,d,i,j,r).then(function(){l(b,d,i,j).then(function(){o.done(d,i,j)})}),o},c.updateData=function(a,b){var d=c.view.dom.contentWindow.ukitu;d&&F._.each(f[a],function(a){var c=F._.extend(F._.deepClone(b),{id:a});if(c.hasOwnProperty("data")){delete c.x,delete c.y;var e=.4;c.alpha&&!isNaN(c.alpha)&&(e=Math.min(Number(c.alpha),e)),c.alpha=e}d.update({id:a,properties:c})})},c.replaceData=function(a,b,d){var e=c.view.dom.contentWindow.ukitu;e&&F._.each(f[a],function(a){e.reload({id:a,localConfig:d})});for(var g in d)d.hasOwnProperty(g)&&(d[g]=F._.variableReplacement(d[g],p(b._node.data)))}};F.DatastreamMixin={dataManager:null,events:{pre_render:"initDataManager"},initDataManager:function(){F.ScriptHelper&&(b=new F.ScriptHelper,this.dataManager=new C(this))}}}(),this.viewMixins||(this.viewMixins={}),this.viewMixins.DatastreamMixin="DatastreamMixin";},function(F) {F.ResponsiveMixin={events:{pre_render:"doResponsive"},doResponsive:function(a,b){if(!F._.is.inConsole()){var c=this,d=c.model.config.stage,e=c.model.config.stages,f=e.responsive||{},g=screen,h=g.width,i=g.height,j="portrait";c.containerChain||c.getContainerChain(f.maxHeight);try{var k,l,m=function(){var a=F._.getExpandableWindow();return F._.is.inConsole()||a!==window||c.model.supports.vpaid||(a=a.parent),a},n=function(a){if(k=a||m(),c.model.supports.vpaid)l=k;else{var d=c.getExpandableAnchorInsertionPoint(b);l=d?d.parentElement:k}};n();var o,p=F._.find(f.landscape.concat(f.portrait),function(a){return a[1]===d}),q="orientation"in k,r="onorientationchange"in k,s="matchMedia"in k,t=function(){var a,b=0;return 0===c.model.config.deviceCategory&&(F._.is.platform.ios&&q?a=k.orientation:(a=k.innerWidth>k.innerHeight?90:0,s&&(k.matchMedia("(orientation: portrait)").matches?a=0:k.matchMedia("(orientation: landscape)").matches&&(a=90))),b=Math.floor(Math.abs(a)/90)),b%2===0?"portrait":"landscape"},u=function(){if(!p)return!1;try{var a=m();a!==k&&n(a),o=l.clientWidth||l.outerWidth||l.offsetWidth;var b,e,g;h=k.innerWidth||(b=k.document)&&(e=b.documentElement)&&e.clientWidth||(g=b.getElementsByTagName("body")[0]&&g.clientWidth),i=k.innerHeight||(b=k.document)&&(e=b.documentElement)&&e.clientHeight||(g=b.getElementsByTagName("body")[0]&&g.clientHeight)}catch(q){}try{j=t()}catch(q){}var r=f[j];if(r&&r.length>0)for(var s=0;s<r.length;s++){var u=r[s][0],v=r[s][1],w=r[s][2];if(!w||w===p[2]){var x;if(x=!o||o>h||20>o?h:o,u>=x||0===u){if(r[s][1]!=d){var y={type:"self",stage:v};return c.model.destroyAllChildren(),c.model.pushDownInstance&&c.model.pushDownInstance.destroy(),c.trigger("showStage",y,c.model),!0}break}}}},v=c.model.config.appWidth<=10&&c.model.config.appHeight<=10,w=c.model.baseParent&&c.model.baseParent.config.appWidth<=10&&c.model.baseParent.config.appHeight<=10;if(!v&&u())c.appendFragment=function(){};else{var x=c.model.expandType&&"self"!=c.model.expandType;if(!v){c.addEvent(k,"resize",F._.debounce(u,200)),r&&c.addEvent(k,"orientationChange",u),w&&u();var y=c.model.config.appWidth,z=c.model.config.appHeight,A=c.model.getConfigValue("stage"),B=A&&F._.is.truly(A.isAutoScale),C=c.model.viewMixins.LightboxViewMixin,D=c.model.viewMixins.PinnedViewMixin;c.bind("scale",function(a){var b=a.width,d=a.height;if(x)c.resize(b,d);else if(!v){c.resizeContainer(b,d);try{var e=window.parent;F._.is.fif()&&e&&e.postMessage&&e.postMessage({event:"flite_resize",guid:c.model.guid,w:b,h:d},"*")}catch(f){}}});var E=function(){try{var a=y,b=z,d=1,e=c.scaleFactor,f=m();if(f!==k&&n(f),B){var g,h,i,j=(l.clientWidth||l.outerWidth||l.offsetWidth)+1,o=k.innerWidth||(g=k.document)&&(h=g.documentElement)&&h.clientWidth||(i=g.getElementsByTagName("body")[0]&&i.clientWidth),p=!j||j>o||20>j||C?o:j,q=p/y;c.scaleFactor=q,c.scaleFactor!=e&&(a=q*y,b=q*z,F._.is.browser.firefox||F._.is.browser.edge?(c.dom.style.transform="scale("+q+")",c.dom.style.transformOrigin=[c.isPinned?"center":"left","top"].join(" ")):(c.dom.style.zoom=q,c.dom.contentWindow.document.body.style.zoom=q,d=q))}else c.scaleFactor=1;c.scaleFactor!=e&&c.trigger("scale",{width:Math.floor(a),height:Math.floor(b),zoom:d})}catch(r){}};B&&c.addEvent(k,"resize",E),c.bind("replace",E),(!D||B)&&c.bind("renderComplete",E),c.model.previous&&c.model.previous.view.bind("destroy",E)}}}catch(G){}}}},this.viewMixins||(this.viewMixins={}),this.viewMixins.ResponsiveMixin="ResponsiveMixin";}],{"f488f2a7-6fe5-4e04-80b1-e9496adb4574":(function(window, document, eval, top){ return Object({name:"Text",config:null,api:null,rectangle:null,label:null,metricsHelper:null,textContainer:null,shellDiv:null,textDiv:null,scroller:null,styleSheet:null,invalidTags:["script","noscript","iframe","frameset","frame","head","link","style"],webFontConfigs:[{url:"fonts.googleapis.com/css?family=",urlDelim:"+",cssDelim:" ",type:"link"}],scrollbarPadding:0,rendered:!1,shouldLoadExtraFeatures:!1,mixinLoadSuccess:!1,sourceTxt:null,textDivHeight:null,bodyFontSize:null,headerFontSize:null,imageUrls:null,downscaleFontSize:null,truncateBy:null,considerEllipsis:null,hasRunTruncAndResize:!1,fontSizeInter:null,textLinkInter:null,linksConverted:!1,originalSourceText:null,originalHtmlPreStringManipulation:null,previousHeight:null,flite:{initialize:function(a){var b=this;b.rectangle=a.rectangle,b.config=a.config,b.api=a.api,b.label=a.label,b.bodyFontSize=b.config.getValue("body_font_size"),b.headerFontSize=b.config.getValue("headers_font_size"),b.downscaleFontSize=b.config.getBoolean("downscale_font_size"),b.considerEllipsis=!b.config.getBoolean("make_scrollable")&&b.config.getBoolean("add_ellipses_on_overflow"),b.config.getBoolean("truncate")&&b.config.getBoolean("truncation_quantity")&&(b.truncateBy=b.config.getValue("truncate_type")),b.shouldLoadExtraFeatures=null!==b.truncateBy||b.considerEllipsis||b.downscaleFontSize,b.imageUrls=[],b.styleSheet=b.api.dom.getElement("style"),b.styleSheet.setAttribute("type","text/css"),b.addChild(b.styleSheet)},stateChange:function(a){var b=this;if(b.metricsHelper=a.trigger,(a.state===b.api.state.ENABLED||a.state===b.api.state.PRELOADED)&&!b.rendered){b.rendered=!0;var c=b.config.getValue("text")||"";if(b.shouldLoadExtraFeatures){var d=b.api.urls.runtimeAssetCdn+"/touch/static/scripts/TextComponentMixin.min.js";b.api.script.loadWindowedScript(d,function(a){var d=a.TextComponentMixin;b.api.util.extend(b,d),b.testLoaded&&(b.mixinLoadSuccess=!0,b.init(),(null!==b.truncateBy||b.considerEllipsis)&&(c=b.homogenizeOriginalString(c))),b.sourceTxt=c,b.firstRenderContinue()})}else b.sourceTxt=c,b.firstRenderContinue()}}},getScrollWidth:function(){var a=this,b=a.api.dom.getElement("div"),c=a.api.dom.getElement("div");b.addChild(c);var d=a.api.dom.makeScrollable(b);return d.thickness()},firstRenderContinue:function(){var a=this,b=a.sourceTxt.match(/(.*<\s*body[^>]*>)|(<\s*\s*body\s*\>.+)/g),c=a.sourceTxt.match(/<\/\s*[body]{4}\/?\s*>/gi);if(b){var d=a.sourceTxt.indexOf(b[0])+b[0].length;a.sourceTxt=a.sourceTxt.substring(d,a.sourceTxt.length)}if(c){var e=a.sourceTxt.indexOf(c[0]);a.sourceTxt=a.sourceTxt.substring(0,e)}a.originalSourceText=a.sourceTxt,a.scrollbarPadding=a.config.getBoolean("make_scrollable")&&a.config.getBoolean("disable_hide_and_pad")?a.getScrollWidth():0,a.textContainer=a.api.dom.getElement("div"),a.textContainer.width(a.rectangle.width),a.textContainer.height(a.rectangle.height),a.addChild(a.textContainer),a.render(),a.downscaleFontSize&&a.mixinLoadSuccess&&a.adjustFontSizeToFitComponent();var f=a.config.getBoolean("make_scrollable")&&a.textDiv.height()>a.rectangle.height;!f&&a.considerEllipsis&&a.mixinLoadSuccess&&a.ellipsisConsideration()},render:function(){var a=this,b=a.sourceTxt||"";b=b.replace(/<!--[\s\S]*?-->/g,"");var c;try{c=new DocumentFragment}catch(d){c=a.dom.ownerDocument.createDocumentFragment()}var e=a.api.dom.getElement("div");c.appendChild(e.dom),e.dom.innerHTML=b;var f,g=e.dom.getElementsByTagName("img");for(f=0;f<g.length;f++){var h={maxWidth:g[f].width?g[f].width:"",maxHeight:g[f].height?g[f].height:"",type:"FILL"};a.imageUrls[f]||(a.imageUrls[f]=a.api.urls.getProxiedImageUrl(g[f].getAttribute("src"),h)),g[f].setAttribute("src",a.imageUrls[f])}for(f=0;f<a.invalidTags.length;f++)for(var i=e.dom.getElementsByTagName(a.invalidTags[f]),j=0;j<i.length;j++)i[j].parentNode.removeChild(i[j]);var k=e.dom.innerHTML;if(k.indexOf("<parsererror")>-1&&(k="<strong>Unable to render the current layer.</strong> It may contain malformed markup."),a.shellDiv&&a.textContainer.removeChild(a.shellDiv),a.shellDiv=a.api.dom.getElement("div"),a.shellDiv.width(a.rectangle.width),a.shellDiv.height(a.rectangle.height),a.textDiv=a.api.dom.getElement("span"),(a.shouldLoadExtraFeatures||"top"!==a.config.getValue("vertical_align"))&&a.textDiv.alpha(0),a.textDiv.width(a.rectangle.width-a.scrollbarPadding),a.textDiv.css({overflow:"visible","word-wrap":"break-word"}),a.textContainer.addChild(a.shellDiv),a.shellDiv.addChild(a.textDiv),a.textDiv.html(k),a.config.getBoolean("make_selectable")&&a.textDiv.css("user-select","text"),a.config.getColor("text_bg_color")&&0!==a.config.getInt("text_bg_opacity")){var l=a.api.util.hexToRgba(a.config.getColor("text_bg_color"),a.config.getInt("text_bg_opacity")/100);a.textDiv.css("background-color","rgba("+l.join(",")+")")}if(a.config.getBoolean("apply_style_settings")){a.textDiv.css("text-align",a.config.getValue("position"));var m="",n="normal",o="Helvetica,Arial,sans-serif",p=a.config.getFont("body_font_object");if(p)o=p["font-family"],n=p["font-style"],m="font-weight: "+p["font-weight"]+";\n";else{o=a.config.getValue("body_font");var q=a.getFontUrl(a.config.getValue("body_font_type"),a.config.getValue("body_web_font"),a.config.getValue("body_web_font_custom"));if(q){a.addFont(q),o=a.getFontFamily(q,a.config.getValue("body_web_font_fallback")),n=q.lastIndexOf("italic")===q.length-6?"italic":n;var r=q.match(/family=[^\:]+\:(\d{3})/);m=r&&"font-weight: "+r[1]+";\n"}}var s=a.config.getValue("body_letter_spacing");s+="normal"!==s&&"auto"!==s?"px":"";var t=["#",a.textDiv.id," {\n","font-family: ",o,";\n","font-style: ",n,";\n",m,"font-size: ",a.bodyFontSize,"px;\n","color: ",a.config.getColor("body_text_color"),";\n","line-height: ",a.config.getValue("body_line_height"),";\n","letter-spacing: ",s,";\n","\n}"].join([""]);a.config.getBoolean("body_shadow")&&(t+=["#",a.textDiv.id,"{\n","text-shadow: ",a.config.getInt("body_h_shadow"),"px ",a.config.getInt("body_v_shadow"),"px ",a.config.getInt("body_shadow_blur"),"px ","rgba(",a.api.util.hexToRgba(a.config.getColor("body_shadow_color"),a.config.getInt("body_shadow_alpha")/100),");\n","\n}"].join([""])),"none"!=a.config.getValue("case_conversion_type_body")&&(t+=["#",a.textDiv.id,"{\n","text-transform: ",a.config.getValue("case_conversion_type_body"),"\n}"].join([""]));var u="",v="normal",w="Helvetica,Arial,sans-serif",x=a.config.getFont("headers_font_object");if(x)w=x["font-family"],v=x["font-style"],u="font-weight: "+x["font-weight"]+";\n";else{w=a.config.getValue("headers_font");var y=a.getFontUrl(a.config.getValue("headers_font_type"),a.config.getValue("headers_web_font"),a.config.getValue("headers_web_font_custom"));if(y){a.addFont(y),w=a.getFontFamily(y,a.config.getValue("headers_web_font_fallback")),v=y.lastIndexOf("italic")===y.length-6?"italic":v;var z=y.match(/family=[^\:]+\:(\d{3})/);u=z&&"font-weight: "+z[1]+";\n"}}var A=a.config.getValue("headers_letter_spacing");for(A+="normal"!==A&&"auto"!==A?"px":"",f=1;6>=f;f++){var B=a.headerFontSize/(2*f)+Number(a.headerFontSize);t+=["#",a.textDiv.id," h"+f," {\n","font-family: ",w,";\n","font-style: ",v,";\n",u,"font-size: ",B,"px;\n","color: ",a.config.getColor("headers_text_color"),";\n","line-height: ",a.config.getValue("headers_line_height"),";\n","letter-spacing: ",A,";\n","\n}"].join([""]),t+=a.config.getBoolean("headers_shadow")?["#",a.textDiv.id," h"+f," {\n","text-shadow: ",a.config.getInt("headers_h_shadow"),"px ",a.config.getInt("headers_v_shadow"),"px ",a.config.getInt("headers_shadow_blur"),"px ","rgba(",a.api.util.hexToRgba(a.config.getColor("headers_shadow_color"),a.config.getInt("headers_shadow_alpha")/100),");\n","\n}"].join([""]):["#",a.textDiv.id," h"+f," {\n","text-shadow: none",";\n","\n}"].join([""]),t+="none"!=a.config.getValue("case_conversion_type_header")?["#",a.textDiv.id," h"+f," {\n","text-transform: ",a.config.getValue("case_conversion_type_header"),"\n}"].join([""]):["#",a.textDiv.id," h"+f," {\n","text-transform: none","\n}"].join([""])}t+=["#",a.textDiv.id," b,","#",a.textDiv.id," strong"," {\n","color: ",a.config.getColor("bold_color"),";\n","\n}"].join([""]),t+=["#",a.textDiv.id," i,","#",a.textDiv.id," em"," {\n","color: ",a.config.getColor("italic_color"),";\n","\n}"].join([""]),t+=["#",a.textDiv.id," a"," {\n","color: ",a.config.getColor("link_color"),";\n","text-decoration: ",a.config.getBoolean("link_underline")?"underline":"none",";\n","\n}"].join([""]),t+=["#",a.textDiv.id," hr"," {\n","border: 0; height: 1px;","background-color: ",a.config.getColor("horizontal_rule_color"),";\n","letter-spacing: ",a.config.getValue("headers_letter_spacing"),";\n","\n}"].join([""]),a.styleSheet.text(t)}!a.hasRunTruncAndResize&&a.mixinLoadSuccess&&(a.hasRunTruncAndResize=!0,a.originalHtmlPreStringManipulation=a.textDiv.html(),"paragraphs"===a.truncateBy?a.reduceByParagraph():"lines"===a.truncateBy?a.reduceByLine():"words"===a.truncateBy&&a.reduceByWord(),a.downscaleFontSize&&a.adjustFontSizeToFitComponent()),a.textDivHeight=a.textDiv.height(),a.shouldLoadExtraFeatures||(a.finalHtChecks(),a.api.environment.editor||a.convertTextlinks())},finalHtChecks:function(){var a=this,b=0,c=setInterval(function(){if(a.previousHeight!==a.textDiv.height()){var d=a.config.getBoolean("make_scrollable")&&a.textDiv.height()>a.rectangle.height;!d&&a.considerEllipsis&&a.mixinLoadSuccess&&(a.textDivHeight=a.textDiv.height(),a.ellipsisConsideration())}a.previousHeight=a.textDiv.height(),a.textDiv.height()<a.rectangle.height&&("middle"===a.config.getValue("vertical_align")?(a.shellDiv.css({display:"table","text-align":"center"}),a.textDiv.css({position:"initial",display:"table-cell","vertical-align":"middle"})):"bottom"===a.config.getValue("vertical_align")&&a.textDiv.css({top:"initial",bottom:"0px"})),a.config.getBoolean("make_scrollable")&&a.textDiv.height()>a.rectangle.height&&(a.shellDiv.height(a.textDiv.height()),null===a.scroller&&a.addScroller(),a.textDiv.y(0)),b++,b>40&&clearInterval(c),a.textDiv.alpha(1)},100)},stringManipulationComplete:function(){var a=this;a.linksConverted||(a.linksConverted=!0,a.convertTextlinks()),"top"===a.config.getValue("vertical_align")&&a.textDiv.alpha(1),a.finalHtChecks()},convertTextlinks:function(){var a=this,b=a.textDiv.dom.getElementsByTagName("a");for(i=0;i<b.length;i++){var c=b[i];c.setAttribute("data-href",c.getAttribute("href")),c.setAttribute("href",["javascript",":","void(0)"].join("")),c.removeAttribute("target"),b[i].addEventListener("click",a.api.util.delegate(this,a.onTagClick))}},getFontUrl:function(a,b,c){var d;return"web"==a&&(d=b,"custom"==d&&c&&(this.isValidUrl(c)?(d=c,d=0===d.indexOf("http://")||0===d.indexOf("https://")||0===d.indexOf("//")?d.substring(d.indexOf("//")+2):d,d.indexOf(this.webFontConfigs[0].url)>0&&(d=d.replace("open+sans","Open+Sans"))):d=void 0)),d},isValidUrl:function(a){return a&&/^(http|\/\/)/.test(a)},getFontFamily:function(a,b){for(var c,d=this,e=a.lastIndexOf(".js")==a.length-3?a.substring(0,a.length-3):a,f=0;f<d.webFontConfigs.length;f++)if(e.indexOf(d.webFontConfigs[f].url)>-1){var g=e.lastIndexOf(":");c=e.substring(e.indexOf(d.webFontConfigs[f].url)+d.webFontConfigs[f].url.length,-1===g||4===g||5===g?e.length:g),c=c.split(d.webFontConfigs[f].urlDelim),c=c.join(d.webFontConfigs[f].cssDelim);break}return c=c?"'"+c+"', "+b:b},addFont:function(a){for(var b=this,c=0;c<b.webFontConfigs.length;c++)if(a.indexOf(b.webFontConfigs[c].url)>-1){var d=b.api.urls.getProxiedFeedUrl(a,{raw:!0});if("link"==b.webFontConfigs[c].type){var e=b.api.dom.getElement("link");e.setAttribute({href:d,rel:"stylesheet",type:"text/css"}),b.addChild(e)}else"script"==b.webFontConfigs[c].type&&b.api.script.loadScript(d);break}},addScroller:function(){theComp=this,theComp.api.animation.requestAnimationFrame(function(){var a={hide:!theComp.config.getBoolean("disable_hide")&&!theComp.config.getBoolean("disable_hide_and_pad")};theComp.scroller=theComp.api.dom.makeScrollable(theComp.textContainer,a);var b=0;theComp.scroller.bind(theComp.api.dom.events.SCROLL_START,theComp.api.util.delegate(theComp,function(a){b=a.info.y})),theComp.scroller.bind(theComp.api.dom.events.SCROLL,function(a){var b=theComp.scroller.getScrollPosition().scrollHeight-theComp.rectangle.height,c=Math.round(a.info.y/b*1e3)/1e3;theComp.trigger({type:"on_drag",data:c},!0)}),theComp.scroller.bind(theComp.api.dom.events.SCROLL_END,function(a){b!=a.info.y&&(theComp.metricsHelper.logInteraction({subtype:theComp.api.metrics.subtype.INTERACTION_SCROLL,mode:theComp.api.metrics.mode.DRAG,detail:"Text",eventData:{from:b,to:a.info.y}}),theComp.trigger("on_drag_complete",!0))})})},onTagClick:function(a){a.stopPropagation();var b=this,c=a.currentTarget,d=c.getAttribute("data-href"),e="_blank",f={url:d,target:e};b.metricsHelper=b.metricsHelper.logInteraction({subtype:b.api.metrics.subtype.INTERACTION_SELECT,mode:b.api.environment.mobile?b.api.metrics.mode.TOUCH:b.api.metrics.mode.CLICK,detail:b.label,eventData:f}),d.match(/^tel\:/i)&&(b.metricsHelper=b.metricsHelper.logContent({subtype:b.api.metrics.subtype.CONTENT_CALL_PHONE,detail:d.substring(d.indexOf("tel:")+4)})),b.api.net.open(d,e,b.metricsHelper)}}); })(),"d2ff4127-64cb-499d-8237-3606195dd021":(function(window, document, eval, top){ return Object({api:null,autoScrollAnimation:null,tapLockTimeout:null,falseTapPostDragTimeout:null,TAP_LOCK_TIMEOUT:300,FALSE_TAP_POST_DRAG_TIMEOUT:10,autoplayTimer:null,stopAutoplayTimer:null,isAutoplayDisabled:!1,listViewScroller:null,metricsHelper:null,layerName:null,feedTitle:null,config:null,rectangle:null,state:null,minItemHeight:null,linkRGBColor:null,THUMBNAIL_SIZE:48,LINE_HEIGHT:1.25,PADDING:5,FINAL_ITEM_HEIGHT:null,TWITTER_PROFILE_IMAGE_URL_PREFIX:"http://api.twitter.com/1/users/profile_image/",listViewContainer:null,listViewContainerScrollContainer:null,spinner:null,feedEntries:null,feedItemViews:null,itemYSpans:null,INTENTS_URL_PREFIX:"https://twitter.com/intent/",INTENTS_RETWEET_PATH:"retweet?tweet_id=",INTENTS_REPLY_PATH:"tweet?in_reply_to=",INTENTS_FAVORITES_PATH:"favorite?tweet_id=",flite:{initialize:function(e){this.api=e.api,this.rectangle=e.rectangle,this.config=e.config,this.config.username=this.config.getValue("username"),this.config.search=this.config.getValue("search"),this.config.count=this.config.getInt("count"),this.layerName=e.label,this.minItemHeight=this.THUMBNAIL_SIZE+2*this.PADDING,this.linkRGBColor="rgba("+this.api.util.hexToRgba(this.config.getValue("link_color")).join(",")+")",this.feedEntries={},this.itemYSpans=[];var t=550,n=420,r=screen.width/2-t/2,i=screen.height/2-n/2;this.popupOptions=["toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, copyhistory=no, width=",t,", height=",n,", top=",i,", left=",r].join("")},stateChange:function(e){if(this.state===e.state)return;this.state=e.state,e.state===this.api.state.ENABLED?(this.metricsHelper=e.trigger,this.listViewContainer||this.addContent(),this.isAutoplayQueued&&(this.isAutoplayQueued=!1,this.startAutoplay())):e.state===this.api.state.DISABLED&&this.listViewContainer&&(this.endTapLock(),this.isAutoplayQueued=!0,this.stopAutoplayTimer&&clearTimeout(this.stopAutoplayTimer),this.endAutoplay(!0))}},addContent:function(){this.showSpinner(),this.listViewContainer=this.api.dom.getElement("div"),this.listViewContainer.width(this.rectangle.width),this.config.username&&(this.config.search?this.api.net.twitter.requestFilteredTimeline(this.config.username,this.config.search,this.api.util.delegate(this,this.onFeedComplete),{count:this.config.count}):this.api.net.twitter.requestTimeline(this.config.username,this.api.util.delegate(this,this.onFeedComplete),{count:this.config.count}))},onFeedComplete:function(e){this.hideSpinner();var t=this.getPageElement("ul",this.rectangle.width,this.rectangle.height);this.listViewContainerScrollContainer=this.getPageElement("div",this.rectangle.width,this.rectangle.height),this.listViewContainerScrollContainer.addChild(this.listViewContainer),this.listViewContainer.addChild(t),this.addChild(this.listViewContainerScrollContainer),this.css("cursor","default");if(e.success&&e.message){var n=e.message;this.config.search&&(n=n[0]&&n[0].statuses);var r=this.parseJsonFeed(n);this.config.getBoolean("is_randomized")&&r.sort(function(e,t){return.5-Math.random()}),this.feedItemViews=[];var i=this.config.getValue("control_mode"),s,o,u=0;if(r.length>0){var a=this.getFeedStyle();this.addChild(a),r.some(function(e,n){return s=this.getListView(e),s.y(u),t.addChild(s),n!==0&&(o=this.api.dom.getElement("div"),o.y(u),o.width(this.rectangle.width),o.height(1),o.css("background-color",this.config.getColor("separator_color")),t.addChild(o)),this.feedEntries[s.id]=e,this.feedItemViews.push(s),u+=s.height(),this.config.getInt("max_items")==n+1||i=="none"&&u+30>this.rectangle.height},this),t.height(u),this.listViewContainer.height(u),this.FINAL_ITEM_HEIGHT=s.height();var f=this.getBadge();f.y(this.rectangle.height-f.height()),this.addChild(f);if(i=="scrollbar"&&this.listViewContainer.height()>this.listViewContainerScrollContainer.height()){var l=this.getPageElement("div",this.rectangle.width,f.height());l.y(this.listViewContainer.height()),this.listViewContainer.addChild(l),this.listViewContainer.height(this.listViewContainer.height()+l.height())}if(i=="scrollbar"&&this.listViewContainer.height()>this.listViewContainerScrollContainer.height()){var c=this;this.listViewScroller=this.api.dom.makeScrollable(this.listViewContainerScrollContainer);var h;this.listViewScroller.bind(this.api.dom.events.SCROLL_START,function(e){h=e.info.y}),this.listViewScroller.bind(this.api.dom.events.SCROLL_END,function(e){var t=c.getFeedItemScrollDataAtY(-h),n=c.getFeedItemScrollDataAtY(-e.info.y);t&&n&&h!=e.info.y&&c.logMetric("Interaction",c.api.metrics.subtype.INTERACTION_SCROLL,{from:t.content,fromUrl:t.url,to:n.content,toUrl:n.url},c.layerName,c.api.metrics.mode.DRAG)}),this.listViewContainer.bind(this.api.dom.events.DRAG_END,function(){c.falseTapPostDragTimeout=setTimeout(function(){c.falseTapPostDragTimeout=null},c.FALSE_TAP_POST_DRAG_TIMEOUT)})}this.addEndAutoplayListeners(),this.startAutoplay()}else{var p=this.getFeedTitle({author:"The feed contains no items."});p.x(this.PADDING),p.y(this.PADDING),this.listViewContainer.addChild(p),this.listViewContainer.height(p.y()+p.height()),this.listViewContainerScrollContainer.height(p.y()+p.height())}}else if(e.message&&e.message.indexOf("credentials")>-1&&this.api.environment.studio)this.showAPIError();else{var d=this.getFeedTitle({author:"There was an error loading the timeline."});d.x(this.PADDING),d.y(this.PADDING),this.listViewContainer.addChild(d),this.listViewContainer.height(d.y()+d.height()),this.listViewContainerScrollContainer.height(d.y()+d.height())}this.itemYSpansArrayForMetrics(),this.metricsHelper=this.logMetric("Content",this.api.metrics.subtype.CONTENT_VIEW,{name:"Twitter / "+this.config.username},this.layerName,"N/A")},parseJsonFeed:function(e){var t=[],n;for(var r=0;r<e.length;r++){n={},n.retweet=!1;var i=e[r];while(i.retweeted_status)n.retweet=!0,n.retweetedScreenName="@"+i.user.screen_name,i=i.retweeted_status;n.author=i.user.name,n.username=i.user.screen_name,n.imageUrl=i.user.profile_image_url,n.date=this.TimeAgo.convertRawTwitterDate(i.created_at),n.originalContent=i.text,n.id=i.id_str,n.linkoutUrl="http://twitter.com/flite/status/"+n.id,n.usernameUrl="http://twitter.com/@"+n.username,n.originalContent.toLowerCase().indexOf(n.username.substr(1)+": ")===0&&(n.originalContent=n.originalContent.substr(n.username.length+1));var s=i.entities&&i.entities.urls;n.originalContent=this.replaceTCoLinkText(this.stripPAndDivTags(n.originalContent),s),n.content=this.parseTweetUrls(n.originalContent,s),t.push(n)}return t},replaceTCoLinkText:function(e,t){return e?(t&&t.forEach(function(t){e=e.replace(t.url,t.display_url)}),e):""},parseTweetUrls:function(e,t){var n=this;return e?(e=e.replace(/((ftp|https?):\/\/([\w\.]+)+(:\d+)?(\/([\w\/_\.]*(\?\S+)?)?)?)/gm,function(e,t,r){return n.formatLink(t,t)}),e=e.replace(/(\s*)#([a-zA-Z0-9_]+)\b/gm,function(e,t,r){return t+n.formatLink("http://twitter.com/search?q=%23"+r,"#"+r)}),e=e.replace(/(\s*)@([a-zA-Z0-9_]+)\b/gm,function(e,t,r){return t+n.formatLink("http://twitter.com/@"+r,"@"+r)}),t&&t.forEach(function(t){e=e.replace(t.display_url,n.formatLink(t.url,t.display_url,t.expanded_url))}),e):""},formatLink:function(e,t,n){return this.api.environment.touch?["<span style='color:",this.linkRGBColor,"'>",t,"</span>"].join(""):["<a style='text-decoration:none;color:",this.linkRGBColor,"' href='",e,"' title='",n||"","'>",t,"</a>"].join("")},itemYSpansArrayForMetrics:function(){if(!this.feedItemViews)return;var e=this.listViewContainer.height()/this.feedItemViews.length,t=this.feedItemViews.length*e,n=t-this.rectangle.height+40,r=n/this.feedItemViews.length,i=0;for(var s=0;s<this.feedItemViews.length;s++){var o={};o.bottom=-Math.ceil(i),o.top=o.bottom-Math.ceil(r),this.itemYSpans.push(o),i+=r}},getFeedItemScrollDataAtY:function(e){var t;for(var n=0;n<this.feedItemViews.length;n++)try{if(e>=this.itemYSpans[n].top&&e<=this.itemYSpans[n].bottom)return t=this.feedItemViews[n],this.getScrollMetricsObject(t)}catch(r){}return t=this.feedItemViews[this.feedItemViews.length],this.getScrollMetricsObject(t)},getScrollMetricsObject:function(e){var t=this.feedEntries[e.id],n=t.content.replace(/(<([^>]+)>)/ig,""),r=n.substring(0,150);return{url:t.linkoutUrl,content:r}},handleSelect:function(e,t,n){var r=this;return function(i){if(r.falseTapPostDragTimeout)return;if(r.tapLockTimeout)return;r.startTapLock(),n=n||e;var s=r.logMetric("Interaction",r.api.metrics.subtype.INTERACTION_SELECT,{url:n},t);r.api.net.open(e,"_blank",s)}},getListView:function(e){var t=this.getPageElement("li",this.rectangle.width),n=this.getFeedContentDiv(e,this.rectangle.width-this.PADDING);return t.setAttribute("class","twitter-item"),t.height(n.height()),t.addChild(n),this.api.environment.touch&&t.bind(this.api.dom.events.SELECT,this.handleSelect(e.linkoutUrl,e.originalContent)),t},getFeedContentDiv:function(e,t){var n=this.api.dom.getElement("div");n.width(t),n.css("margin",this.PADDING+"px");var r=this.getFeedTitle(e);this.api.environment.touch||r.bind(this.api.dom.events.SELECT,this.handleSelect(e.usernameUrl,e.originalContent)),n.addChild(r);var i=this.getFeedContent(e),s=this.getImageOptions();r.width(t-2*this.PADDING);var o=this.getImage(e.imageUrl);o&&(r.width(t-s.maxWidth-4*this.PADDING),r.x(s.maxWidth+this.PADDING),o.x(0),this.api.environment.touch||o.bind(this.api.dom.events.SELECT,this.handleSelect(e.usernameUrl,e.originalContent)),n.addChild(o));var u=this.getTimeAgoText(e.date);u&&(u.x(t-u.width()-this.PADDING),r.width(r.width()-u.width()-this.PADDING),this.api.environment.touch||u.bind(this.api.dom.events.SELECT,this.handleSelect(e.linkoutUrl,e.originalContent)),n.addChild(u));var a=this.api.dom.getElement("p");this.styleFeedTitle(a),a.html(e.author),a.css("width","auto"),a.css("height","auto");var f=r.width()-a.width()+1;if(f>this.PADDING+30){var l=this.getFeedTitleUsername(e,f);this.api.environment.touch||l.bind(this.api.dom.events.SELECT,this.handleSelect(e.usernameUrl,e.originalContent)),r.addChild(l),r.height(Math.round(1.5*Math.max(this.config.getInt("title_font_size"),this.config.getInt("content_font_size"))))}var c=0;o?(i.x(s.maxWidth+this.PADDING),i.width(t-s.maxWidth-4*this.PADDING)):i.width(t-3*this.PADDING),n.addChild(i),i.y(Math.floor(r.height()+c));var h=i;if(!this.api.environment.touch){var p=0,d=this.getIntentsControls(e);n.addChild(d),d.x(t-d.width()-this.PADDING),d.y(Math.floor(i.y()+i.height()+p)),h=d}return n.height(Math.max(h.y()+h.height()+2*this.PADDING,this.minItemHeight)),n},getFeedTitle:function(e){var t=this.api.dom.getElement("p");return this.styleFeedTitle(t),this.styleForTruncation(t),t.html(e.author),t},getFeedTitleUsername:function(e,t){var n=this.getPageElement("span",t,1.5*this.config.getInt("config_font_size"));return this.styleForTruncation(n),this.styleFeedGeneral(n),n.css({top:"",left:"",color:this.config.getColor("title_username_color"),"font-size":this.config.getValue("title_username_size")+"px","font-weight":"normal",padding:String(Math.max(0,this.config.getInt("title_font_size")-this.config.getInt("content_font_size")))+"px 0px 0px "+this.PADDING+"px",cursor:"pointer"}),n.html("@"+e.username),n},styleFeedTitle:function(e){e.css({color:this.config.getColor("title_text_color"),"font-size":this.config.getValue("title_font_size")+"px","font-weigth":"bold",cursor:"pointer"}),this.styleFeedGeneral(e)},getFeedContent:function(e){var t=this.api.dom.getElement("p");this.styleFeedContent(t),t.html(e.content);var n=t.dom.getElementsByTagName("a");for(i=0;i<n.length;i++){var r=n[i],s=r.getAttribute("href");r.setAttribute("data-href",s),r.setAttribute("href",["javascript",":void(0)"].join("")),r.removeAttribute("target"),n[i].addEventListener("click",this.handleSelect(s,e.originalContent,r.innerHTML))}return t},styleFeedContent:function(e){e.css({color:this.config.getColor("content_text_color"),"font-size":this.config.getValue("content_font_size")+"px"}),this.styleFeedGeneral(e)},styleFeedGeneral:function(e){e.css({"font-family":this.config.getValue("font"),"line-height":this.LINE_HEIGHT})},getFeedStyle:function(){var e=this.api.dom.getElement("style");e.setAttribute("type","text/css");var t=this.config.getBoolean("show_actions_on_hover"),n='p.twitter-intents > span {cursor: pointer;color: #AFAFAF;}p.twitter-intents > span:hover {color: #666666;}p.twitter-intents > span:before {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAQCAYAAADeWHeIAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAADNklEQVRo3u2XsWscRxTGf3t2sYWK67ew/oJF/8CC1KXR4DRqY5TwYpzGSYqgEJO1KwVkcGMSHkRRmagyuxjSSUZNuggVQaVSHLhUkAqlCOvi7qS50czcrqRglNwHAr2Z+b737r138+ZghhlmmGGG/ymS2KaIlKpaXlVcRBpVTdqcrarqDvAt8AhogB+BJ6PtZ8Ano3i/B0pjzD+uxtneQSeNtMjPNQYsd+Jm1Jf830bcDW2ISHkdYRFpOlI+5yLhAF8Bc0AKfGytfwP8BWzcsMZN+L918DbAeyg+wBeetc8iZzduWOPa/sd5G9+aoTyqaikiiao2Dr8Z7SexPKpq4uOv7Mw1ANtLp4ltu9heOk1WV1eTzc3N5tL1HAj6GDgCflPVt0QQCPpPYBd4oar7Pl5VVScMv3Ft8LcxJnUXz/YOOmmkRX6uMWC5EzejnvDv5s1pggZr3PrGqps3pwlc/qW6ucWONcF4D6AX+xAW+sAC8FBEFkJZiXzz7wEfAb+LyIPAmcOWyQf441/QuDLXlzf7NlDVp7G3lC9v9m2gqr3YW8pXZPs2GP/5uBMNEAjyCDiz7Psi0veJBYJ8w3BmjvGTiMx7zv0yLesWtgPr19G4MndU5DJkT8OoyEnInhqMU+BYwV303AU3cFXdUtV14GeGowCGt0Hwwzj2oqr2gQ8ZjgKABx7qD8CgRcwD4GVg7zoaN+H/1qHnW/R1r6oeAlsjcz4m6uteVX0FLI7MRXffGHMKfMpw3oXQAI+MMSe+zbTIW2ukRT6hkVG35mbUJ3SAiJT2mHDtFvzGHhOuPQ0rO3ONPSZsuxciBZrguK3TQBMcxTjGmNfAWuTI18aYKqaRFvlUjbTIvRoZ9VRuRh31DxcFdn8VOLkoI/zGLnIgl9E3gV1k3zgYrwUbwBek9QA8mpYEX5DWA3A3xDHGfMewCHaHN8CaMWa9jd+0yIMaaZFHNTLqIDejbuXf+cylm8su7wNfE3R5H/iawP6/tZCIpMBD4FBVf71CIvrAPvBKVR9PO19V1QfA85H5pTGms8+zvYMJjbTIW2sMWJ7gZtSd/f+nICL90Ou/JX8+8PqfYYYZ3hfeAR6msRkTngfdAAAAAElFTkSuQmCC);content: " ";display: inline-block;height: 15px;width: 15px;vertical-align: text-bottom;padding-left: 2px;padding-right: 1px;}p.twitter-intents > .Reply:before {background-position: 1px 0;}p.twitter-intents > .Reply:hover:before {background-position: -15px 0;}p.twitter-intents > .Retweet:before {background-position: 49px 0;}p.twitter-intents > .Retweet:hover:before {background-position: 33px 0;}p.twitter-intents > .Favorite:before {background-position: -31px 0;}p.twitter-intents > .Favorite:hover:before {background-position: -63px 0;}p.twitter-intents > .Favorite:active:before {background-position: -48px 0; opacity: 0.5;}';return t&&(n+="li.twitter-item:hover > div > p.twitter-intents > span {visibility: visible !important;}"),e.text(n),e},getIntentHandler:function(e,t){var n=this;return function(){var r=n.logMetric("Interaction",n.api.metrics.subtype.INTERACTION_SELECT,{action:e},t.originalContent);e==="Reply"?n.api.net.open(n.INTENTS_URL_PREFIX+n.INTENTS_REPLY_PATH+t.id,"_blank",r,n.popupOptions):e==="Favorite"?n.api.net.open(n.INTENTS_URL_PREFIX+n.INTENTS_FAVORITES_PATH+t.id,"_blank",r,n.popupOptions):e==="Retweet"&&n.api.net.share(n.INTENTS_URL_PREFIX+n.INTENTS_RETWEET_PATH+t.id,{service:n.api.net.share.services.TWITTER_RETWEET,description:t.originalContent,body:t.id,trigger:r},n.popupOptions)}},getIntentsControls:function(e){var t=this.api.dom.getElement("p");t.setAttribute("class","twitter-intents");var n=this.config.getBoolean("hide_labels"),r=this.config.getBoolean("show_actions_on_hover"),s='style="font-family: '+this.config.getValue("font")+";font-size:"+this.config.getInt("content_font_size")+"px;";r&&(s+="visibility: hidden;"),s+='"';var o=['<span class="Reply"',s,">",n?"":"Reply","</span> ",'<span class="Retweet"',s,">",n?"":"Retweet","</span> ",'<span class="Favorite"',s,">",n?"":"Like","</span>"].join("");t.html(o);var u=t.dom.getElementsByTagName("span");for(i=0;i<u.length;i++){var a=u[i],f=a.getAttribute("class");u[i].addEventListener("click",this.getIntentHandler(f,e))}return t},stripPAndDivTags:function(e){return e?e.replace(new RegExp("<p>|</p>|<div>|</div>|<br>|<br/>","gim"),""):""},getImage:function(e,t){if(!e)return null;typeof t=="undefined"&&(t=this.getImageOptions()),e.indexOf("data")!==0&&(e=this.api.urls.getProxiedImageUrl(e,t));var n=new Image(t.maxWidth,t.maxHeight),r=this;return n.onerror=function(){n.src=r.getErrorImgBase64Src()},n.src=e,n=this.api.dom.getElement(n),n.css({"border-radius":"6px",cursor:"pointer"}),n},getErrorImgBase64Src:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpiOHPmzGaAAAMAB+QDGD7gSqgAAAAASUVORK5CYII="},getTimeAgoText:function(e){var t=this.TimeAgo.getTimeAgo(e);if(!t)return null;var n=this.api.dom.getElement("p");return this.styleFeedContent(n),n.css({color:this.config.getColor("timestamp_color"),cursor:"pointer"}),n.html(t),n.css("width","auto"),n.css("height","auto"),this.addChild(n),n.width(n.width()+1),this.removeChild(n),n},getBadge:function(){var e=this.getPageElement("div",this.rectangle.width,40);e.css({color:"#FFFFFF","font-weight":"bold","font-family":"sans-serif","font-size":"11px"});var t=this.getPageElement("div",this.rectangle.width,40);t.css("background-color",this.config.getColor("footer_color")),t.alpha(this.config.getInt("footer_opacity")*.01),e.addChild(t);var n=this.getPageElement("img",16,13);n.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdNJREFUeNpkkc9LG1EQx79vf5hsujHrj661SkyLVL1ICh7rwUuh7cHQmxYxB2+evIsxKdXePIkHIeQf0IhCQS+10EtBWqXgQYrkUIL0UNO6xjXZ3efsU5OgA8O8YebDfGce45yDpXMGTyVLuGMsvWHA9ZJgkgHuFXjmbc7vFTUfDLzf3KpUvTWeSeQaQXlh+8DT9EHIKlC9BCr2ruQ6TyMqXxBgX3avcHR60YPy/xy86gxPJUos/SmOh50/0NwGSDLgVAUccu1K5nnrjABnvxW3Pxyev8SFBXZ2+o87dv5xexuKmplEKEK6GEB9cCpYjQf3pvqNMQF2ZPcP/gTNQdFgW74kCHk6raMG6trtc/B33cP0+ir5eXYk9lNXmCOawq2AYVJsARS1DtGAZ5pr+ZCfCvDNE2N+Iqoc65Ln0AUJaLp2JtVBKo1Hte+36W3lV1R1848Up0xnxz3zpwUdKzVkLta+yt/xxuI7v625j0f28Oe/rL02TUj0rN2RyHpnSJ2sgZjP0wXYErRwAnqLIXYMPrj+Apo+arKTlaHwDkHT1G81TtQpTn8pnr1eK5SjUBS6qIyYJtuvugKlgUjTBtWXG6G7UnvJXzTUTsj3b+I9uxJgACputMc4S2sxAAAAAElFTkSuQmCC"),n.x(5),n.y(3);var r=this.getPageElement("span");r.html("Follow @"+this.config.username),r.css("height","auto"),r.css("width","auto"),r.x(n.x()+n.width()+3);var i=this.api.dom.getElement("div");i.css("gradient",{angle:270,from:"#FFF",to:"#DEDEDE"}),i.css({border:"1px solid #ccc",color:"#333",textShadow:"0 1px 0 rgba(255,255,255,.5)",lineHeight:"20px",borderRadius:"3px"}),e.addChild(i),i.width(r.x()+r.width()+5),i.height(18),i.addChild(r),i.addChild(n),i.width(r.x()+r.width()+5);var s=this;i.bind(this.api.dom.events.SELECT,function(e){var t=s.logMetric("Interaction",s.api.metrics.subtype.INTERACTION_SELECT,{user:s.config.username},"Follow");s.api.net.open("https://twitter.com/intent/user?screen_name="+s.config.username,"_blank",t)});switch(this.config.getValue("follow_button_alignment")){case"left":i.x(5);break;case"center":i.x(Math.floor(.5*(e.width()-i.width()-2)));break;default:case"right":i.x(e.width()-i.width()-9)}return i.y(Math.floor(.5*(e.height()-i.height()))),e},getImageOptions:function(){return{maxWidth:this.THUMBNAIL_SIZE,maxHeight:this.THUMBNAIL_SIZE,type:"DOWNSCALE"}},styleForTruncation:function(e){e.css("white-space","nowrap"),e.css("textOverflow","ellipsis")},startAutoplay:function(){if(!this.api.environment.editor&&!this.isAutoplayDisabled&&this.config.getValue("control_mode")!="none"&&this.config.getBoolean("enable_auto_scroll")&&this.config.getFloat("auto_scroll_interval")>0){var e=this;this.autoplayTimer=setInterval(function(){e.autoplay()},1e3*this.config.getFloat("auto_scroll_interval"));var t=this.config.getFloat("auto_stop_duration");t>0&&(this.stopAutoplayTimer=setTimeout(function(){e.endAutoplay()},1e3*t))}},endAutoplay:function(e){this.autoplayTimer&&clearInterval(this.autoplayTimer),e||(this.isAutoplayDisabled=!0)},autoplay:function(){var e=this.listViewScroller.getScrollPosition(),t=e.scrollHeight-40,n=e.y+this.listViewContainerScrollContainer.height();n>=t&&(n=0),this.listViewScroller.scrollTo({y:n},500)},addEndAutoplayListeners:function(){var e=this;this.bind(this.api.dom.events.DRAG_START,function(t){e.endAutoplay(),e.unbind(t.type,arguments.callee)}),this.listViewScroller&&this.listViewScroller.bind(this.api.dom.events.SCROLL,function(t){e.endAutoplay(),e.listViewScroller.unbind(t.type,arguments.callee)}),this.bind(this.api.dom.events.SELECT,function(t){e.endAutoplay(),e.unbind(t.type,arguments.callee)})},startTapLock:function(e){this.endTapLock();var t=this;this.tapLockTimeout=setTimeout(function(){t.endTapLock()},e||this.TAP_LOCK_TIMEOUT)},endTapLock:function(){this.tapLockTimeout&&(clearTimeout(this.tapLockTimeout),this.tapLockTimeout=null)},endAnimation:function(e,t){e&&e.isRunning&&(t?e.cease():e.end())},getPageElement:function(e,t,n){var r=this.api.dom.getElement(e);return typeof t!="undefined"&&r.width(t),typeof n!="undefined"&&r.height(n),r},showSpinner:function(){this.spinner?this.spinner.visible(!0):(this.spinner=this.api.factory.getSpinner(),this.spinner.x(.5*(this.rectangle.width-this.spinner.width())),this.spinner.y(.5*(this.rectangle.height-this.spinner.height())),this.addChild(this.spinner))},hideSpinner:function(){this.spinner&&this.spinner.visible(!1)},TimeAgo:{DISPLAY_MONTHS:["Jan","Feb","March","April","May","June","July","Aug","Sep","Oct","Nov","Dec"],MONTHS:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],getTimeAgo:function(e){if(!e)return null;var t=this.getUTCDateFromLocalDateString(e);if(t===null)return null;var n=this.getNowUTC(),r=(n.getTime()-t.getTime())/1e3;if(r<0)return"Future";if(r<60)return String(Math.round(r))+"s";var i=r/60;if(i<60)return String(Math.round(i))+"m";var s=i/60;if(s<24)return String(Math.round(s))+"h";var o=s/24;return o<this.getDaysInYear(n.getFullYear())?this.DISPLAY_MONTHS[t.getMonth()]+" "+t.getDate():this.DISPLAY_MONTHS[t.getMonth()]+" "+t.getDate()+" "+String(t.getFullYear()).substr(-2)},getNowUTC:function(){var e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())},getUTCDateFromLocalDateString:function(e){var t=e.split(" ");if(t.length<3)return null;var n=this.Date_parse(e);if(!n)return null;var r=n.getTime(),i=(new Date).getTimezoneOffset()/60,s=t[2].substr(0,3)+"."+String(Number(t[2].substr(3,2))/60);return new Date(r-this.getMillisecondsFromHours(Number(s)))},Date_parse:function(e){var t=e.split(" "),n=t[0].split("-"),r=t[1].split(":");return new Date(n[0],n[1]-1,n[2],r[0],r[1],r[2])},convertRawTwitterDate:function(e){var t=e.split(" "),n=String(this.MONTHS.indexOf(t[1].toLowerCase())+1);return n=="0"&&(n="00"),n.length===1&&(n="0"+n),t.length===6&&n!=="00"?t[5]+"-"+n+"-"+t[2]+" "+t[3]+" "+t[4]:""},getMillisecondsFromHours:function(e){return e*60*60*1e3},getDaysInYear:function(e){return e%4===0?366:365}},logMetric:function(e,t,n,r,i){return typeof e=="undefined"&&(e="Interaction"),typeof t=="undefined"&&(t=this.api.metrics.subtype.INTERACTION_CONTROL),typeof r=="undefined"&&(r=this.layerName),typeof i=="undefined"?i=this.api.environment.touch?this.api.metrics.mode.TOUCH:this.api.metrics.mode.CLICK:i=="N/A"&&(i=""),this.metricsHelper["log"+e]({subtype:t,detail:r,mode:i,eventData:n})},showAPIError:function(){var e='<div id="error_overlay" style="font-family: sans-serif; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.701961); position: absolute; z-index: 2; display: block; background-position: initial initial; background-repeat: initial initial;"><div style="background:#fff;width:90%;height:90%;margin:5%;border-radius:5px;overflow:hidden;"><div style="height:42px;background-image:-webkit-gradient(linear, left top, left bottom, from(rgb(255,255,178)), to(rgb(255,229,128)));"></div><div style="text-align:left;padding:10px;"><h1 style="font-size:14px;font-weight:bold;"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAi1JREFUeNpi/P//PwMlgBFEMDExgTEa4AHiOii7CYi/IEv++/cPjJlZWFgYGBkZsRnuXVOTGGBnayh16PCFt0D+DRSbgXrAloIMwILFZWXFJ35+t+7753drvsvKiE0EiWFTy4zF6SAQ2dudGWys+UuWheE9i6CYAuuWrac+AcXPoSvEpltdT1fRJipYXb+68xVDdedrhsggdX1dHTkbkByGAaBYQMIgflBLQ5jNn2+3mL99+8YAwn9/3GNurvW1AclB1cD1oLvA0tVZx9zOnEf57+9PDF++fAHjv7+/MNhZ8Cq7OKiag9Tg8gIHExNjYEudl9Xvb48Yfv75wXD+/HmGHTt2MDx5c4/hwdNTDHm5albA0A8EqcVmgGd8tJmJoux30bffHzO8/Hqf4eLFiwwvXrxg+Mv6g+E/208GeaXvosHBMiYgtfDoZGZmBtFCPNxsfcf2R4ewst/k/vv/D1hSVAyi7vWr7XBb3r79+9XL78Kar1//FgG572ABEp6Vrm7Aw3Odm4XpCwM78w8wFhGvA2MYH4SlxH5zpyWJGID0wAJRUUqSwyMtnl2bleEDAwfzLziGBw6SGAhnJvJrS0myeoD0glxQUpEvbMDL+YmFlfk3AytQAQx/e1cBxshiIMzH/YelPE8Q5IoSUCaYAQxZHSD9HUh/BWJQpvkGpL8D6d9ADMquzEDF7ECaC0hzA2luEA3E1xihMQGKFk4gZoPlUDzgP9Tgb0D8AyDAAKWG95il7IXoAAAAAElFTkSuQmCC" style="margin-bottom:-3px;"><span id="error_title"> Missing API Key</span></h1><p id="error_message" style="margin-top:5px;font-size:12px;line-height:1.3;word-wrap:break-word;">In order to use this component, you will need to authorize your Twitter account with Flite. For detailed instructions, please see our <a href="http://help.flite-inc.com/ad-studio/twitter-authorization-instructions.html" target="_blank">Help Center</a>.</p></div></div></div>',t=this.api.dom.getElement("div");t.width(this.rectangle.width),t.height(this.rectangle.height),t.html(e),this.addChild(t)}}); })(),"6fe1bac1-925a-429d-8255-20342b11f21d":(function(window, document, eval, top){ return Object({name:"Image",rectangle:null,api:null,image:null,spinner:null,config:null,resizeTimeout:null,assetUrl:null,scaleMode:null,position:null,repeatMode:null,upScale:null,scale:null,showSpinner:!1,retina:!1,lossy:!1,imageQuality:null,isSVG:null,flite:{properties:{supportsPreload:!0},initialize:function(e){this.rectangle=e.rectangle,this.api=e.api,this.config=e.config,this.assetUrl=this.config.getValue("asset_url"),this.isSVG=this.assetUrl&&!!this.assetUrl.match(/\.svg$/),this.scaleMode=this.config.getValue("scale_mode")||"DOWNSCALE",this.upScale=this.config.getBoolean("upscale"),this.scale=this.config.getInt("scale")||100,this.api.util.inRange(this.scale,0,200,!0)||(this.scale=100),this.position=this.upScale?(this.config.getValue("position_v_up")||"center")+" "+(this.config.getValue("position_h_up")||"center"):(this.config.getValue("position_v")||"top")+" "+(this.config.getValue("position_h")||"left"),this.repeatMode=this.config.getValue("repeat_mode")||"no-repeat",this.showSpinner=this.config.getBoolean("spinner"),this.retina=this.config.getBoolean("retina"),this.lossy=this.config.getValue("image_loss")==="lossy",this.imageQuality=this.config.getInt("image_quality")||70,this.api.util.inRange(this.imageQuality,0,100,!0)||(this.imageQuality=70)},stateChange:function(e){e.state===this.api.state.ENABLED||e.state===this.api.state.PRELOADED?this.image||this.loadImage():e.state===this.api.state.UNLOADED&&this.image&&this.removeChild(this.image)},resize:function(e){var t=this;if(this.rectangle.width!=e.width||this.rectangle.height!=e.height)this.rectangle=e,this.isSVG?(t.image.width(t.rectangle.width),t.image.height(t.rectangle.height)):(this.alpha(.5),this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.removeChild(t.image),t.loadImage(),t.alpha(1)},500))}},loadImage:function(){var e=this;if(e.assetUrl){var t=e.assetUrl,n=e.retina?2:1,r=e.retina?.5:1;if(e.assetUrl.indexOf("data")!==0)if(!e.isSVG){var i={maxWidth:e.rectangle.width*n,maxHeight:e.rectangle.height*n,type:e.scaleMode};e.lossy&&(i.format="JPG",i.quality=e.imageQuality),t=e.api.urls.getProxiedImageUrl(e.assetUrl,i)}else r=1,n=1,t=e.api.urls.getProxiedFeedUrl(e.assetUrl,{raw:!0});e.spinner=null,e.showSpinner&&(e.spinner=e.api.factory.getSpinner(),e.spinner.x(.5*(e.rectangle.width-e.spinner.width())),e.spinner.y(.5*(e.rectangle.height-e.spinner.height())),e.addChild(e.spinner));var s=new Image;s.onload=function(){var n=e.isSVG?e.rectangle.width:s.width*r,i=e.isSVG?e.rectangle.height:s.height*r;e.image.css("backgroundImage","url('"+t+"')");if(e.upScale){var o=0;e.scaleMode!=="DOWNSCALE"?(n<e.rectangle.width&&(o=e.rectangle.width/n,n*=o,i*=o),i<e.rectangle.height&&(o=e.rectangle.height/i,n*=o,i*=o)):(o=Math.min(e.rectangle.width/n,e.rectangle.height/i),n*=o,i*=o),e.image.css("background-size",n+"px "+i+"px")}else n=n*e.scale/100,i=i*e.scale/100,e.image.css("background-size",n+"px "+i+"px");e.repeatMode!=="tile"&&e.image.css("background-repeat",e.repeatMode),e.position!=="left top"&&e.image.css("background-position",e.position),e.image.width(e.rectangle.width),e.image.height(e.rectangle.height),e.addChild(e.image),e.removeSpinner(),e.trigger({type:e.api.state.events.LOADED}),e.trigger({type:"image_complete"},!0)},s.onerror=function(){e.removeSpinner(),e.trigger({type:"image_error"},!0)},e.image=e.api.dom.getElement("div"),s.src=t}else e.trigger({type:this.api.state.events.LOADED})},removeSpinner:function(){this.spinner&&(this.removeChild(this.spinner),this.spinner=null)}}); })(),"dd8ba7f7-0a1b-4fc1-8ead-18a9fa7be821":(function(window, document, eval, top){ return Object({
	consoleExists: null,
	api: null,
	rectangle: null,
	config: null,
	state: null,
	rendered: null,
	metricsHelper: null,
	playerId: null,
	shockContext: null,
	autoPlay: null,
	playMuted: false,
	isLegacyPlayer: null,
	isCurrentlyInPrerollMode: false,
	onDisabledMuted: false,
	disableForcePauseInter: null,
	wasPlayingOnDisable : false,
	autoPlaySuccessful: false,
	isFirstContentStart: true,
	playerState: null,
	volume: 100,
	thePlayer: null,

	contentMetricsHelper: null,
	withinPostContentMetricCallDuration: false,
	suppressUnpauseMetric: false,
	quartilePositions: null,
	firstContentMetricLogged: false,
	//playArrestInterval: null,

	UNINITIALIZED: "uninitialized",
	PLAYING: "playing",
	PAUSED: "paused",


	setConfig: function(resources) {
		var self = this;
		self.api = resources.api;
		self.rectangle = resources.rectangle;
		self.config = resources.config;

		var configUrl = self.config.getValue('config_url'); // ie 'http://config.playwire.com/videos/v2/3029761/zeus.json';
		if (configUrl) {
			self.isLegacyPlayer = (configUrl.indexOf('zeus') == -1) ? true : false;
		}
		self.playerId = "myPlayer_" + resources.id;
		self.autoPlay = self.config.getBoolean('auto_play');
		self.playerState = self.UNINITIALIZED;
		self.playMuted = self.autoPlay && self.config.getBoolean('mute');
		if (self.playMuted) {      
			self.volume = 0;       
		}
	},

	flite: {

		initialize: function(resources) {
			var self = this;
			if (typeof console === "undefined" || typeof console.log === "undefined") {
				this.consoleExists = false;
			} else {
				this.consoleExists = true;
			}
			this.setConfig(resources);
			this.quartilePositions = [];
		},

		stateChange: function(info) {
			var self = this;
			var playerExists;
			self.state = info.state;

			try {
				var test = self.shockContext.window.Bolt;
				playerExists = true;
			} catch (e) {
				playerExists = false;
			}

			switch (info.state) {
				case self.api.state.ENABLED:

					if (self.disableForcePauseInter) {
						clearInterval(self.disableForcePauseInter);
					}

					if (!self.rendered) {
						self.rendered = true;

						self.metricsHelper = info.trigger;

						if (self.api.environment.editor) {
							self.defineMessageBox();
						} else {
							self.createShockContainer();
						}
					} else {

						// Cant use this because when video is restarted to plays another preroll video
						// Going to mute video only
						/*if (playerExists && (self.autoPlay && !self.autoPlaySuccessful || self.wasPlayingOnDisable)) {
							self.log("ABOUT TO CALL PLAY FROM DISABLED");
							self.shockContext.window.Bolt.playMedia(self.playerId);
						}*/


						// Still playing preroll, unmute it
						//if (self.isCurrentlyInPrerollMode) {
							self.shockContext.window.Bolt.unmuteMedia(self.playerId);
						//}
					}
					break;
				case self.api.state.DISABLED:

					if (playerExists) {

						// For preroll pause does not work, calling mute
						//if (self.isCurrentlyInPrerollMode) {
							self.shockContext.window.Bolt.muteMedia(self.playerId);
						//}

						if (self.playerState === self.PLAYING) {
							self.wasPlayingOnDisable = true;
						} else {
							self.wasPlayingOnDisable = false;
						}
					}

					// Cant use this because when video is restarted to plays another preroll video
					// Going to mute video only
					// Ensure that any play action is shut down
					//self.initiatePauseInterval();

					break;
				case self.api.state.UNLOADED:
					// Exceptions because: intervals not cleared within console on mode switches [ie 'Test Mode' to 'Preview Mode']
					if (self.disableForcePauseInter) {
						try {
							clearInterval(self.disableForcePauseInter);
						} catch (e) {}
					}
					break;
			}
		},

		resize: function(resizeConfig) {
			this.rectangle.width = resizeConfig.width;
			this.rectangle.height = resizeConfig.height;
			this.defineMessageBox();
		},

		pauseVideo: function() {
			var self = this;
			try {
				self.shockContext.window.Bolt.pauseMedia(self.playerId);
			} catch (e) {}
		},

		playVideo: function() {
			var self = this;
			try {
				self.shockContext.window.Bolt.playMedia(self.playerId);
			} catch (e) {}
		},

		muteVideo: function() {
			var self = this;
			try {
				self.shockContext.window.Bolt.muteMedia(self.playerId);
			} catch (e) {}
		},

		unmuteVideo: function() {
			var self = this;
			try {
				self.shockContext.window.Bolt.unmuteMedia(self.playerId);
				// Ensure sound comes back on, play muted setting sets volume to 0 and will stay that way unless...
				self.shockContext.window.Bolt.setVolume(self.playerId, 1);
			} catch (e) {}
		},

		logCurrentData: function() {
			var self = this;
			self.thePlayer.getCurrentContent(function(currentContent){
				//self.log("currentContent...");
				//self.log(currentContent);
			});
		}
	},

	initiatePauseInterval: function() {
		self.disableForcePauseInter = setInterval(function() {
			if (playerExists && self.playerState !== self.PAUSED) {
				self.log("JUST CALLED PAUSE FROM DISABLED");
				self.shockContext.window.Bolt.pauseMedia(self.playerId);
			}
			// Interval doesn't clear
			/*if (playerExists && self.playerState == self.PAUSED) {
				clearInterval(self.disableForcePauseInter);
				self.disableForcePauseInter = undefined;
			}*/
		}, 500);
	},

	defineMessageBox: function() {
		if (!this.editModeBox) {
			this.editModeBox = this.api.dom.getElement('div');
			this.editModeBox.css('background-color', '#000');
			this.editModeBox.alpha(0.36);
			this.addChild(this.editModeBox);
		}

		this.editModeBox.width(this.rectangle.width);
		this.editModeBox.height(this.rectangle.height);

		var MESSAGE_WIDTH = 196;
		var MESSAGE_HEIGHT = 100;
		if (!this.messageBox) {
			this.messageBox = this.api.dom.getElement('div');
			this.messageBox.width(MESSAGE_WIDTH);
			this.messageBox.height(MESSAGE_HEIGHT);
			this.messageBox.css('background-color', '#232323');
			this.messageBox.alpha(0.6);
			this.addChild(this.messageBox);
		}

		this.messageBox.x( (this.rectangle.width/2)-(MESSAGE_WIDTH/2) );
		this.messageBox.y( (this.rectangle.height/2)-(MESSAGE_HEIGHT/2) );

		var TEXT_WIDTH = 180;
		var TEXT_HEIGHT = 87;
		if (!this.messageTextDiv) {
			this.messageTextDiv = this.api.dom.getElement('div');
			var message = 'Playwire player will load in this space when Studio is not in Edit mode.<br><br>Playerwire video serving fees may apply. Please review your current Terms and Conditions.';
			this.messageTextDiv.css({
				'font-family': 'Arial, Helvetica, sans-serif',
				'font-size': "10px",
				'color': '#FFF',
				'letter-spacing': "1px",
				'line-height': '12px'
			});
			this.messageTextDiv.html(message);
			this.messageTextDiv.width(TEXT_WIDTH);
			this.messageTextDiv.height(TEXT_HEIGHT);
			this.addChild(this.messageTextDiv);
		}

		this.messageTextDiv.x( (this.rectangle.width/2)-(TEXT_WIDTH/2) );
		this.messageTextDiv.y( (this.rectangle.height/2)-(TEXT_HEIGHT/2) );
	},

	createShockContainer: function() {
		var self = this;
		self.api.dom.getIframe(this, function(shockFrame, shockDocument, shockWindow) {

			// set attributes for the iframe 
			shockFrame.setAttribute({
				id: "player_frame",
				width: self.rectangle.width,
				height: self.rectangle.height,
				name: "shockFrame",
				scrolling: "no",
				seamless: "seamless",
				frameBorder: "0",
				allowTransparency: "true"
			});

			try {
				// Keep reference to apects of iframe context
				self.shockContext = {
					doc: shockDocument,
					window: shockWindow,
					body: shockDocument.getElementsByTagName("body")[0]
				};
				self.shockContext.body.setAttribute("id", "flite-playwire-script-loader");
				self.shockContext.body.style.margin = "0px";
				self.shockContext.body.style.padding = "0px";

				// Load the script now that iframe has been loaded and 
				// references have been caught. 
				self.loadScript();
			} catch (e) {
				//self.log("Error:", e.message);
			}

		});
	},

	loadScript: function() {
		var self = this;

		self.shockContext.window.onready = function(playerId) {
			self.log("onready() happened, arg playerId = "+playerId);
			var Bolt = self.shockContext.window.Bolt;
			self.thePlayer = Bolt.getPlayer(playerId);

			function handleAutoplayConditionalOnFirstStart() {
				self.log("handleAutoplayConditionalOnFirstStart() hit");

				// Inconsistent onready state, could start playing or start paused
				if (self.autoPlay) {
					self.log("About to call play on player");
					Bolt.playMedia(self.playerId);
					//self.logContentMetric();
				} else {

					self.log("Not autoPlay, do nothing");

					// Below pause call on production right now, had to pick less of two evils
					// Either leave this out assuming video always initiates paused (which it doesn't)
					// or include it, having a better chance of arresting the video, preroll sometimes ignores pause command regardless
					// Ideally video would always do the same thing

					// Can't use interval, arrests content fine, does not work on some preroll, so preroll plays (with sound on), then completes, then subsequent content video is arrested (bad)
					//self.playArrestInterval = setInterval(function(){
						//try {
							//Bolt.pauseMedia(self.playerId);
						//} catch (e) {}
					//}, 500);

					// Below metric call would make sense if video always started paused, and only user interaction would provoke "STARTED" dispatch
					// Ideally I could create a conditional here to determine if user interaction caused STARTED, if true, fire below metric
					// If not a result of interaction, attempt to arrest video (which might still not work)
					//self.logFirstInteractionAndContent();
				}
			}

			// Following performed result of "onready"

			// What player does 'onready' is inconsistent
			// If autoplay and is starting paused, need to kickstart it
			// If autoplay and is starting paused, leave it alone
			if (self.autoPlay && self.playerState !== self.PLAYING) {
				self.log("<><> autoplay is true - call playMedia()");
				Bolt.playMedia(self.playerId);
			}

			// Does not appeart to be called anymore
			Bolt.on(self.playerId, Bolt.BOLT_AD_STARTED, function(playerId, eventName, data) {
				self.log("||||||||||||||||||||||| AD STARTED");

				self.trigger({type: "AD_STARTED", trigger: self.metricsHelper});

				self.isCurrentlyInPrerollMode = true;

				//self.log("AD - self.isFirstContentStart = "+self.isFirstContentStart);

				if (self.isFirstContentStart) {

					// REAL PROBLEMS HERE - removing, onready autoplay conditional appears to work fine NOW
					//handleAutoplayConditionalOnFirstStart();

					// Does not always honor data-volume attribute
					if (self.playMuted) {
						Bolt.muteMedia(self.playerId);
					}
				} else {
					//self.logContentMetric();
				}

				if (self.state === self.api.state.DISABLED) {
					Bolt.pauseMedia(self.playerId);
					// Pause not honored, backup mute call...
					Bolt.muteMedia(self.playerId);
				}

				self.isFirstContentStart = false;
			});

			Bolt.on(self.playerId, Bolt.BOLT_CONTENT_STARTED, function(playerId, eventName, data) {
				self.log("|||||||||||||||||||||| CONTENT STARTED");

				self.trigger({type: "CONTENT_STARTED", trigger: self.metricsHelper});

				self.isCurrentlyInPrerollMode = false;

				//self.log("CONTENT - self.isFirstContentStart = "+self.isFirstContentStart);

				// PRE-ROLL AD PLAYS TWICE AS RESULT OF autoplay in COMPONENT SETTING
				// Ad told to play by auto setting, then gets to content (this), then told to play again, which initiates pre-roll ad (second pre-roll play)
				if (self.isFirstContentStart) {

					// REAL PROBLEMS HERE - removing, onready autoplay conditional appears to work fine NOW
					//handleAutoplayConditionalOnFirstStart();

					// PROBLEM, WILL ALWAYS MUTE CONTENT AFTER USERS HAS POTENTIALLY UNMUTED AD
					// Does not always honor data-volume attribute
					/*if (self.playMuted) {
						Bolt.muteMedia(self.playerId);
					}*/
				} else {
					//self.logContentMetric();
				}

				// THIS DOES NOT WORK - starts playing again after PAUSE
				/*if (self.state === self.api.state.DISABLED) {
					Bolt.pauseMedia(self.playerId);
					//self.log("Has just called PAUSE");
				}*/

				// PUTTING BACK IN WITH MUTE BACKUP
				if (self.state === self.api.state.DISABLED) {
					Bolt.pauseMedia(self.playerId);
					// Pause not honored, backup mute call...
					Bolt.muteMedia(self.playerId);
				}

				self.isFirstContentStart = false;
			});


			Bolt.on(self.playerId, Bolt.BOLT_AD_COMPLETE, function(playerId, eventName, data) {
				self.trigger({type: "AD_COMPLETE", trigger: self.metricsHelper});
				self.contentMetricsHelper.logNotation({
					subtype: self.api.metrics.subtype.NOTATION_UPDATE,
					detail: "Preroll Complete"
				});
			});


			// THESE ARE USELESS SO FAR, DISPATCHED DURING PREROLL NOT CONTENT
			/*Bolt.on(self.playerId, Bolt.BOLT_FIRST_QUARTILE, function() {
				self.logQuartile("1/4");
			});

			Bolt.on(self.playerId, Bolt.BOLT_MIDPOINT, function() {
				self.logQuartile("1/2");
			});

			Bolt.on(self.playerId, Bolt.BOLT_THIRD_QUARTILE, function() {
				self.logQuartile("3/4");
			});*/

			Bolt.on(self.playerId, Bolt.BOLT_CONTENT_COMPLETE, function() {
				self.trigger({type: "CONTENT_COMPLETE", trigger: self.metricsHelper});
				//self.logQuartile("4/4");
				self.suppressUnpauseMetric = true;
			});



			Bolt.on(self.playerId, Bolt.BOLT_CONTENT_STATE_CHANGED, function(playerId, eventName, data) {
				self.log("eventName.state = "+eventName.state);
				if (eventName.state === "playing") {

					self.playerState = self.PLAYING;

					// TODO wish I could use this but not enough info from player to filter calls down to predicable user interactions
					//self.logPlayInteraction();

					if (self.autoPlay && self.state !== self.api.state.DISABLED) {
						self.autoPlaySuccessful = true;
					}

					// Hack until the "_STARTED" issue is resolved
					if (!self.firstContentMetricLogged) {
						//self.logContentMetric();
					}

				} else if (eventName.state === "paused") {
					self.playerState = self.PAUSED;
					//self.logPauseInteraction();

					// Once first play is arrested (autoplay=false)
					// For some reason interval is not cleared :(
					/*if (self.playArrestInterval) {
						clearInterval(self.playArrestInterval);
						self.playArrestInterval = null;
					}*/

				} else if (eventName.state === "resume") {
					if (self.firstContentMetricLogged) {
						//self.logResumeInteraction();
					}
				}
			});
		};

		// Create script tag
		var script = self.shockContext.doc.createElement('script');
		script.type = 'text/javascript';
		script.id = 'script';

		if (self.isLegacyPlayer) {
			script.src = '//cdn.playwire.com/bolt/js/embed.min.js';
		} else {
			// TEMP STAGING VERSION
			//script.src = "//html5player.gamezone.com/zeus_staging/zeus/embed.js";
			script.src = "//cdn.playwire.com/bolt/js/zeus/embed.js";
		}

		// "Autoplay embed setting not supported"
		// script.setAttribute('data-autoplay', self.autoPlay);

		// Removing this allows 'onready' function to be hit
		//script.setAttribute('data-autoload', 'false');
		
		// Updated hoping to see improvment in consistency
		script.setAttribute('data-autoload', 'true');

		// Playwire changed attribute name
		//script.setAttribute('data-container', self.playerId);
		script.setAttribute('data-id', self.playerId);


		script.setAttribute('data-width', self.rectangle.width);
		script.setAttribute('data-height', self.rectangle.height);
		script.setAttribute('data-css', '//cdn.playwire.com/bolt/js/zeus/skins/default.css');  //Default CSS (See Playwire studio for more options)
		script.setAttribute('data-onready', "onready");

		// Leaving in to prevent sound blurp on init
		script.setAttribute('data-volume', self.volume); 

		if (self.config.getBoolean('use_config_url')) {
			script.setAttribute('data-config', self.config.getValue('config_url'));
		} else {
			script.setAttribute('data-publisher-id', self.config.getValue('publisher_id'));
			script.setAttribute('data-video-id', self.config.getValue('video_id'));
		}

		// Trigger script to begin loading
		self.shockContext.body.appendChild(script);
	},

	logFirstInteractionAndContent: function() {
		var self = this;
		//self.thePlayer.getCurrentTime(function(currentTime){
			self.metricsHelper = self.metricsHelper.logInteraction({
				subtype : self.api.metrics.subtype.INTERACTION_CONTROL,
				mode : self.api.environment.mobile ? self.api.metrics.mode.TOUCH : self.api.metrics.mode.CLICK,
				detail : "Play",
				eventData : { t : 0 }
			});
			self.logContentMetric();
		//});
	},

	logPlayInteraction: function() {
		this.metricsHelper = this.metricsHelper.logInteraction({
			subtype : this.api.metrics.subtype.INTERACTION_CONTROL,
			mode : this.api.environment.mobile ? this.api.metrics.mode.TOUCH : this.api.metrics.mode.CLICK,
			detail : "Play",
			// TODO get a real current time
			eventData : { t : 5 /*that.player.getCurrentTime()*/ }
		});
	},

	logResumeInteraction: function() {
		this.metricsHelper = this.metricsHelper.logInteraction({
			subtype : this.api.metrics.subtype.INTERACTION_CONTROL,
			mode : this.api.environment.mobile ? this.api.metrics.mode.TOUCH : this.api.metrics.mode.CLICK,
			detail : "Unpause",
			// TODO get a real current time
			eventData : { t : 5 /*that.player.getCurrentTime()*/ }
		});
	},

	logUnpauseMetric: function() {
		if (this.suppressUnpauseMetric) {
			this.suppressUnpauseMetric = false;
			this.log("Suppressed unpause metric");
		} else {
			this.log("Record unpause metric");
			this.metricsHelper = this.contentMetricsHelper.logInteraction({
				subtype : this.api.metrics.subtype.INTERACTION_CONTROL,
				mode : this.api.environment.mobile ? this.api.metrics.mode.TOUCH : this.api.metrics.mode.CLICK,
				detail : "Unpause",
				// TODO get a real current time
				eventData : { t : 5 /*that.player.getCurrentTime()*/ }
			});
		}
	},

	logPauseInteraction: function() {
		var self = this;
		self.thePlayer.getCurrentTime(function(currentTime){
			self.metricsHelper = self.contentMetricsHelper.logInteraction({
				subtype : self.api.metrics.subtype.INTERACTION_CONTROL,
				mode : self.api.environment.mobile ? self.api.metrics.mode.TOUCH : self.api.metrics.mode.CLICK,
				detail : "Pause",
				eventData : { t : currentTime.toFixed(0) }
			});
		});
	},

	logContentMetric: function() {
		var self = this;
		if (!this.withinPostContentMetricCallDuration) {
			var vidInfo = this.config.getBoolean('use_config_url') ? "ConfigURL="+this.config.getValue('config_url') : "VideoID="+this.config.getValue('video_id');
			var detail = (this.isCurrentlyInPrerollMode) ? "PREROLL" : "CONTENT_"+vidInfo;
			this.contentMetricsHelper = this.metricsHelper.logContent({
				subtype : this.api.metrics.subtype.CONTENT_PLAY,
				detail : detail,
				// TODO, get real duration of video
				eventData : { duration: this.getStringFromSeconds( Math.floor( 30.234 /*this.myPlayer.duration()*/ ) ) }
			});
			// Avoid 'content' metric being tailed by another 'content' directly afterward
			this.withinPostContentMetricCallDuration = true;
			setTimeout(function(){ self.withinPostContentMetricCallDuration=false; }, 2500);
			self.firstContentMetricLogged = true;
		}
	},

	logQuartile : function(fraction) {
		var self = this;
		self.log("logging -  "+fraction);
		this.contentMetricsHelper.logNotation({
			subtype: this.api.metrics.subtype.NOTATION_UPDATE,
			detail: fraction + " Complete",
			// TODO get a real current time
			eventData: { t: 5 /*Math.floor(this.myPlayer.duration())*/ }
		});
	},

	// TODO hookup to onTimeupdate + fillout missing items (will need for content video since pre-roll dispatches quartile events [not content])
	defineQuartiles : function() {
		var durationTriggers = [0.25, 0.5, 0.75];
        if (this.quartilePositions.length === 0 && 30.234 /*this.myPlayer.duration()*/ > 0 && 5 /*that.player.getCurrentTime()*/ > 0) {
            for (var i = 0; i < 3; i++) {
                this.quartilePositions[i] = 30.234 /*this.myPlayer.duration()*/ * this.durationTriggers[i];
            }
        }
	},

	getStringFromSeconds : function (numSeconds) {
		var numMinutes = Math.floor(numSeconds / 60);
		var numSecondsLeft = numSeconds % 60;
		var numMinutesString = (numMinutes < 10) ? '0' + numMinutes.toFixed(0) : numMinutes.toFixed(0);
		var numSecondsString = (numSecondsLeft < 10) ? '0' + numSecondsLeft.toFixed(0) : numSecondsLeft.toFixed(0);
		return "(" + String(numMinutesString) + ':' + numSecondsString + ")";
	},

	log: function(s) {
		if (this.consoleExists) {
			//console.log("|||||||||| "+s);
		}
	}
}); })(),"b04945e6-4313-40c6-8d5a-d5e1b1e8ae8e":(function(window, document, eval, top){ return Object({SCROLL_ANIME_DURATION:300,rectangle:null,api:null,layerName:null,config:null,state:null,metricsHelper:null,childNodes:null,foundNodes:null,children:null,currentIndex:null,scrollPageInterval:null,spacing:0,dividerWeight:1,isVertical:!0,isAutoplayQueued:!1,listViewContainer:null,listViewContainerScrollContainer:null,listViewScroller:null,separationCoordinates:null,childMidpointCoordinates:null,inLockdown:!0,dataOnScrollStart:null,thisCompLength:null,maxScrollCoor:null,wholeListLength:null,childIds:null,shouldWrap:null,childLengths:null,finalChildValues:null,childPositions:null,scrollbarUsage:null,scrollPositionCoor:null,initialChildStartAndEndPoints:null,viewPortLength:null,momentumTicker:null,momentumVelocity:0,momentumAmplitude:0,momentumTimestamp:null,momentumFrame:0,momentumTarget:null,momentumConstant:75,momentumAutoAnim:null,momentumAutoOn:!1,flite:{initialize:function(a){this.rectangle=a.rectangle,this.api=a.api,this.layerName=a.label,this.config=a.config,this.childNodes=a.buckets.nodes&&[].concat(a.buckets.nodes).reverse(),this.config.getBoolean("randomize")&&(this.childNodes=this.shuffleArray(this.childNodes)),this.currentIndex=0,this.dataOnScrollStart={},this.childIds={},this.childLengths=[],this.childPositions=[],this.initialChildStartAndEndPoints=[],this.scrollPositionCoor=0},stateChange:function(a){if(this.state!=a.state)if(this.state=a.state,this.metricsHelper=a.trigger,a.state===this.api.state.ENABLED)if(!this.children&&this.childNodes){switch(this.isVertical="vertical"===this.config.getValue("orientation"),this.spacing=this.config.getInt("spacing"),this.dividerWeight=this.config.getInt("divider_weight"),this.shouldWrap=this.config.getBoolean("wrap"),this.config.getValue("always_show_scrollbar")){case"true":this.scrollbarUsage="always";break;case"never":this.scrollbarUsage="never";break;default:this.scrollbarUsage="on_hover"}this.render(),this.startScrollPageInterval(),this.callPreloadOnChildren(),this.outOfViewHandling()}else this.outOfViewHandling(),this.isAutoplayQueued&&this.startScrollPageInterval();else if(a.state===this.api.state.DISABLED)try{this.clearScrollPageInterval(!0)}catch(b){}},nextPage:function(a){this.inLockdown||(this.metricsHelper=a,this.clearScrollPageInterval(),this.scrollPage("next"))},previousPage:function(a){this.inLockdown||(this.metricsHelper=a,this.clearScrollPageInterval(),this.scrollPage("previous"))},nextItem:function(a){this.inLockdown||(this.metricsHelper=a,this.clearScrollPageInterval(),this.scrollToChild(this.getNextIndex(),"next"))},previousItem:function(a){this.inLockdown||(this.metricsHelper=a,this.clearScrollPageInterval(),this.scrollToChild(this.getPreviousIndex(),"previous"))},scrollToItem:function(a,b){if(!this.inLockdown){this.metricsHelper=b,this.clearScrollPageInterval();var c=parseInt(a,10)>=this.children.length?this.children.length-1:parseInt(a,10)-1;this.scrollToChild(c,"directly")}}},getNextIndex:function(){var a=this.currentIndex+1;return a>=this.children.length&&(a=0),a},getPreviousIndex:function(){var a=this.currentIndex-1;return 0>a&&(a=this.children.length-1),a},getScrollWidth:function(){var a=this,b=a.api.dom.getElement("div"),c=a.api.dom.getElement("div");b.addChild(c);var d=a.api.dom.makeScrollable(b);return d.thickness()},render:function(){var a=this;this.foundNodes=[],this.listViewContainerScrollContainer=this.api.dom.getElement("div"),this.listViewContainerScrollContainer.width(this.rectangle.width),this.listViewContainerScrollContainer.height(this.rectangle.height),this.listViewContainer=this.api.dom.getElement("div");for(var b=0,c=this.childNodes.length;c>b;++b)"hidden"!=this.childNodes[b].visibility&&this.foundNodes.push(this.childNodes[b]);for(this.makeChildrenElements(),this.shouldWrap?this.isVertical?(this.listViewContainer.width(this.finalChildValues.finalX+this.finalChildValues.finalSpan),this.listViewContainer.height(this.rectangle.height),this.isVertical=!1):(this.listViewContainer.width(this.rectangle.width),this.listViewContainer.height(this.finalChildValues.finalY+this.finalChildValues.finalSpan),this.isVertical=!0):this.isVertical?(this.listViewContainer.width(this.rectangle.width),this.listViewContainer.height(this.finalChildValues.finalY-this.spacing)):(this.listViewContainer.width(this.finalChildValues.finalX-this.spacing),this.listViewContainer.height(this.rectangle.height)),this.listViewContainerScrollContainer.addChild(this.listViewContainer),this.listViewScroller=this.api.dom.makeScrollable(this.listViewContainerScrollContainer,{hide:"on_hover"===this.scrollbarUsage}),"never"===this.scrollbarUsage&&(this.listViewScroller._trackVert&&this.listViewScroller._trackVert.visible(!1),this.listViewScroller._trackHorz&&this.listViewScroller._trackHorz.visible(!1)),this.listViewScroller.bind(this.api.dom.events.SCROLL,function(b){a.handlePositionUpdate()}),this.listViewScroller.bind(this.api.dom.events.SCROLL_START,function(b){a.shouldWrap||(a.dataOnScrollStart.childLabel=a.foundNodes[a.currentIndex].label),a.dataOnScrollStart.childIndex=a.currentIndex,a.dataOnScrollStart.childCoor=a.isVertical?b.info.y:b.info.x}),this.listViewScroller.bind(this.api.dom.events.SCROLL_END,function(b){var c=a.isVertical?b.info.y:b.info.x;if(c!=a.dataOnScrollStart.childCoor){var d={startIndex:a.dataOnScrollStart.childIndex,endIndex:a.currentIndex,startCoordinate:a.dataOnScrollStart.childCoor,endCoordinate:a.isVertical?b.info.y:b.info.x};a.shouldWrap||(d.startLabel=a.dataOnScrollStart.childLabel,d.endLabel=a.foundNodes[a.currentIndex].label),a.metricsHelper=a.metricsHelper.logInteraction({subtype:a.api.metrics.subtype.INTERACTION_SCROLL,mode:a.api.metrics.mode.DRAG,detail:a.layerName,eventData:d})}}),this.config.getBoolean("momentum_scrolling")&&(this.listViewContainerScrollContainer.bind(this.api.dom.events.TOUCH_START,function(){a.api.environment.touch&&(a.momentumVelocity=0,a.momentumAmplitude=0,a.momentumFrame=a.isVertical?a.listViewScroller.getScrollPosition().y:a.listViewScroller.getScrollPosition().x,a.momentumTimestamp=Date.now(),a.momentumAutoOn=!1,clearInterval(a.momentumTicker),a.momentumTicker=setInterval(function(){a.momentumTrack()},50))}),this.listViewContainerScrollContainer.bind(this.api.dom.events.TOUCH_END,function(){clearInterval(a.momentumTicker),a.api.environment.touch&&Math.abs(a.momentumVelocity)>10&&(a.momentumAmplitude=.8*a.momentumVelocity,a.momentumTarget=Math.round(a.scrollPositionCoor+a.momentumAmplitude),a.momentumTimestamp=Date.now(),a.momentumAutoOn=!0,a.momentumAutoAnim=requestAnimationFrame(function(){a.momentumAutoScroll()}))})),this.addChild(this.listViewContainerScrollContainer),this.childMidpointCoordinates=[],b=0;b<this.separationCoordinates.length-1;b++){var d=.5*(this.separationCoordinates[b+1]-this.separationCoordinates[b]),e=this.separationCoordinates[b]+d;this.childMidpointCoordinates.push(e)}this.childMidpointCoordinates.unshift(0),this.thisCompLength=this.isVertical?this.rectangle.height:this.rectangle.width,this.wholeListLength=this.isVertical?this.listViewContainer.height():this.listViewContainer.width(),this.maxScrollCoor=this.wholeListLength-this.thisCompLength,this.listenersToHaltAutoplay(),this.inLockdown=!1},makeChildrenElements:function(){var a,b,c,d,e,f,g=0,h=0,i=0,j=0,k=[];this.children=[],this.shouldWrap?this.separationCoordinates=[0]:this.separationCoordinates=[];var m="always"===this.scrollbarUsage?this.getScrollWidth():0;for(a=0,l=this.foundNodes.length;a<l;++a){var n=!1,o=this.foundNodes[a];if(c=this.api.factory.getContainer(o),this.childIds[o.id]=a,c.bind("action_targeted",this.api.util.delegate(this,this.switchToThisCard)),0===a&&(i=c.height(),j=c.width()),d=this.api.dom.getElement("div"),this.isVertical){if(this.shouldWrap||this.separationCoordinates.push(h),a>0){if(this.shouldWrap){if(f=h+c.height()+(.5*this.dividerWeight+this.spacing),f>this.rectangle.height){for(n=!0,b=0;b<k.length;b++)k[b].width(2*this.spacing+j);k=[],g+=j+this.spacing,h=0,this.separationCoordinates.push(g),e=this.api.dom.getElement("div"),e.x(g),e.width(this.dividerWeight),e.height(this.rectangle.height-m),e.css("background-color",this.config.getColor("divider_color")),this.listViewContainer.addChild(e),g+=this.dividerWeight+this.spacing,this.childLengths.push(j),j=0}n?d.visible(!1):d.y(h),d.x(g-this.spacing)}this.shouldWrap||(d.x(g),d.y(h),d.width(this.rectangle.width-m)),d.height(this.dividerWeight),d.css("background-color",this.config.getColor("divider_color")),this.listViewContainer.addChild(d),k.push(d),n||(h+=this.dividerWeight+this.spacing)}}else if(this.shouldWrap||this.separationCoordinates.push(g),a>0){if(this.shouldWrap){if(f=g+c.width()+(.5*this.dividerWeight+this.spacing),f>this.rectangle.width){for(n=!0,b=0;b<k.length;b++)k[b].height(2*this.spacing+i);k=[],h+=i+this.spacing,g=0,this.separationCoordinates.push(h),e=this.api.dom.getElement("div"),e.y(h),e.width(this.rectangle.width-m),e.height(this.dividerWeight),e.css("background-color",this.config.getColor("divider_color")),this.listViewContainer.addChild(e),h+=this.dividerWeight+this.spacing,this.childLengths.push(i),i=0}n?d.visible(!1):d.x(g),d.y(h-this.spacing)}this.shouldWrap||(d.x(g),d.y(h),d.height(this.rectangle.height-m)),d.width(this.dividerWeight),d.css("background-color",this.config.getColor("divider_color")),this.listViewContainer.addChild(d),k.push(d),n||(g+=this.dividerWeight+this.spacing)}if(c.x(g),c.y(h),this.childPositions[a]=this.isVertical?c.x():c.y(),this.isVertical?h+=c.height()+this.spacing:g+=c.width()+this.spacing,this.shouldWrap&&(i<o.height&&(i=o.height),j<o.width&&(j=o.width),a===this.foundNodes.length-1))for(this.isVertical?this.childLengths.push(j):this.childLengths.push(i),b=0;b<k.length;b++)this.isVertical?k[b].width(2*this.spacing+j):k[b].height(2*this.spacing+i);var p,q;this.shouldWrap?(p=this.isVertical?c.x():c.y(),q=this.isVertical?c.x()+c.width():c.y()+c.height(),this.viewPortLength=this.isVertical?this.rectangle.width:this.rectangle.height):(p=this.isVertical?c.y():c.x(),q=this.isVertical?c.y()+c.height():c.x()+c.width(),this.viewPortLength=this.isVertical?this.rectangle.height:this.rectangle.width),this.initialChildStartAndEndPoints[a]={start:p,end:q},this.listViewContainer.addChild(c),this.children.push(c)}this.finalChildValues={finalX:g,finalY:h,finalSpan:this.isVertical?j:i}},handlePositionUpdate:function(){var a=this,b=a.listViewScroller.getScrollPosition();a.scrollPositionCoor=a.isVertical?b.y:b.x;for(var c=a.childMidpointCoordinates.length-1,d=0;d<a.childMidpointCoordinates.length-1;d++){if(a.scrollPositionCoor>=a.childMidpointCoordinates[d]&&a.scrollPositionCoor<a.childMidpointCoordinates[d+1]){a.currentIndex=d;break}a.scrollPositionCoor>=a.childMidpointCoordinates[c]&&(a.currentIndex=c)}a.outOfViewHandling()},scrollToChild:function(a,b){var c,d=this.listViewScroller.getScrollPosition(),e=this.isVertical?d.y:d.x;this.shouldWrap&&"directly"==b?c=this.childPositions[a]:(this.shouldWrap&&a>this.separationCoordinates.length-1&&("next"===b?a=0:"previous"===b&&(a=this.separationCoordinates.length-1)),c=this.separationCoordinates[a]),e===this.maxScrollCoor&&"next"==b?c=0:c>this.maxScrollCoor?c=this.maxScrollCoor:c+=this.dividerWeight+this.spacing,this.scrollTo(c)},scrollPage:function(a){var b=0,c=this.listViewScroller.getScrollPosition(),d=this.isVertical?c.y:c.x,e=2*this.spacing+this.dividerWeight,f="next"==a?d+this.thisCompLength+e:d-this.thisCompLength-e;if(f>=this.wholeListLength)f=0;else if(0===d&&0>=f)f=this.maxScrollCoor;else{var g,h=this.separationCoordinates.concat([this.wholeListLength]),i=this.isVertical?this.listViewContainer.height()-this.rectangle.height:this.listViewContainer.width()-this.rectangle.width;if(d==i)g=this.shouldWrap?this.childLengths.length-1:this.foundNodes.length-1;else{for(;d>=this.separationCoordinates[b];)b++;g=b-1}var j;j=this.shouldWrap?this.childLengths[g]:this.isVertical?this.foundNodes[g].height:this.foundNodes[g].width;var k=d==i?h[g+1]:h[g+1]-e,l=d+this.thisCompLength-e,m=j>=this.thisCompLength,n=l==k,o=l+e==h[h.length-1],p=o&&m,q=k>l,r=m&&n;if(m&&(q||r||p)){var s;if("next"==a){var t=h[g+1]-this.thisCompLength-this.spacing;d!=t?(f=t,s=f-d,s>this.thisCompLength?f=d+this.thisCompLength:t+this.spacing==this.maxScrollCoor&&(f=t+this.spacing)):f=d+this.thisCompLength+e}else{var u=h[g]+this.spacing+this.dividerWeight;d!=u?(f=u,s=d-f,s>this.thisCompLength?f=d-this.thisCompLength:f==this.spacing+this.dividerWeight&&(f=0)):f=d-this.thisCompLength-e}}else{for("previous"==a&&(f+=this.thisCompLength),b=0;b<h.length-1;b++)if("next"==a){if(f>=h[b]&&f<h[b+1]){f=h[b];break}}else{var v=b==h.length-1?this.wholeListLength:h[b+1];if(f>=h[b]&&v>f){f>0&&(f=v-this.thisCompLength,f+=this.dividerWeight);break}}"next"==a?f+=this.spacing+this.dividerWeight:f-=this.spacing+this.dividerWeight,f>this.maxScrollCoor-e?f=this.maxScrollCoor:0>f&&(f=0)}}this.scrollTo(f)},scrollTo:function(a){var b=this,c=this.isVertical?{y:a}:{x:a};this.listViewScroller.scrollTo(c,this.SCROLL_ANIME_DURATION),this.inLockdown=!0,setTimeout(function(){b.inLockdown=!1,b.handlePositionUpdate()},this.SCROLL_ANIME_DURATION)},listenersToHaltAutoplay:function(){var a=this;this.config.getBoolean("roll_over_stops_autoplay")&&this.bind(this.api.dom.events.MOUSE_OVER,function(b){a.clearScrollPageInterval()}),this.listViewScroller&&this.listViewScroller.bind(this.api.dom.events.SCROLL,function(b){a.clearScrollPageInterval()}),this.bind(this.api.dom.events.SELECT,function(b){a.clearScrollPageInterval()}),this.bind(this.api.dom.events.DRAG_START,function(b){a.clearScrollPageInterval()}),this.bind(this.api.dom.events.TOUCH_START,function(b){a.clearScrollPageInterval()})},startScrollPageInterval:function(){var a=this,b=this.config.getFloat("autoplay_interval")<.001*this.SCROLL_ANIME_DURATION?.5:this.config.getFloat("autoplay_interval");this.config.getBoolean("enable_auto_rotate")&&b>0&&!this.api.environment.editor&&(this.clearScrollPageInterval(),this.scrollPageInterval=setInterval(function(){try{a.scrollPage("next")}catch(b){a.clearScrollPageInterval()}},1e3*b),this.isAutoplayQueued=!0,this.config.getInt("auto_stop_duration")>0&&setTimeout(function(){a.clearScrollPageInterval()},1e3*a.config.getInt("auto_stop_duration")))},clearScrollPageInterval:function(a){null!==this.scrollPageInterval&&(a||(this.isAutoplayQueued=!1),clearInterval(this.scrollPageInterval),this.scrollPageInterval=null)},switchToThisCard:function(a){this.clearScrollPageInterval();var b=this.childIds[a.currentTarget.id];this.scrollToChild(b,"directly")},callPreloadOnChildren:function(){for(var a=this,b=0;b<a.foundNodes.length;b++)a.api.state.setState(a.foundNodes[b].id,a.api.state.PRELOADED,a.metricsHelper)},outOfViewHandling:function(){var a=this;if(0!==a.initialChildStartAndEndPoints.length)for(var b=0;b<a.initialChildStartAndEndPoints.length;b++){var c=a.api.state.ENABLED,d=a.initialChildStartAndEndPoints[b].start-a.scrollPositionCoor,e=a.initialChildStartAndEndPoints[b].end-a.scrollPositionCoor;(1>=e||d+1>=a.viewPortLength)&&(c=a.api.state.DISABLED),a.api.state.getState(a.foundNodes[b].id)!==c&&a.api.state.setState(a.foundNodes[b].id,c,a.metricsHelper)}},shuffleArray:function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},momentumTrack:function(){var a,b,c,d,e=this;a=Date.now(),b=a-e.momentumTimestamp,e.momentumTimestamp=a,c=e.scrollPositionCoor-e.momentumFrame,e.momentumFrame=e.scrollPositionCoor,d=1e3*c/(1+b),e.momentumVelocity=.2*d+.2*e.momentumVelocity},momentumAutoScroll:function(){var a,b,c=this;c.momentumAmplitude&&(a=Date.now()-c.momentumTimestamp,b=-c.momentumAmplitude*Math.exp(-a/c.momentumConstant),c.momentumAutoOn?Math.abs(b)>.5?(c.scrollTo(c.momentumTarget+b),c.mometumAutoAnim=requestAnimationFrame(function(){c.momentumAutoScroll()})):(c.scrollTo(c.momentumTarget+b),c.momentumAutoOn=!1):cancelAnimationFrame(c.momentumAutoAnim))}}); })()}).render();
/* End /ad.js */